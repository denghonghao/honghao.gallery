(function e(r,h,b){function u(a,g){if(!h[a]){if(!r[a]){var d="function"==typeof require&&require;if(!g&&d)return d(a,!0);if(o)return o(a,!0);d=Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d;}d=h[a]={exports:{}};r[a][0].call(d.exports,function(i){var d=r[a][1][i];return u(d?d:i)},d,d.exports,e,r,h,b)}return h[a].exports}for(var o="function"==typeof require&&require,a=0;a<b.length;a++)u(b[a]);return u})({1:[function(j){var r={isDomPresent:!0,navigator:navigator,window:window,
document:document,ajax:function(h){var b=new XMLHttpRequest;b.open("GET",h,!1);b.overrideMimeType&&b.overrideMimeType("text/plain");b.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT");b.send(null);if(200!==b.status&&0!==b.status)throw"XMLHttpRequest failed, status code "+b.status;return b.responseText}};window.Processing=j("./src/")(r)},{"./src/":28}],2:[function(j,r){r.exports={name:"processing-js",version:"1.4.13",author:"Processing.js",repository:{type:"git",url:"git@github.com/processing-js/processing-js.git"},
main:"processing.min.js",bugs:"https://github.com/processing-js/processing-js/issues",devDependencies:{argv:"~0.0.2",browserify:"~2.18.1",express:"~3.3.3","node-minify":"~0.7.3",nunjucks:"~0.1.9",open:"0.0.3",grunt:"~0.4.1","grunt-cli":"~0.1.8","grunt-contrib-jshint":"~0.4.3"},scripts:{test:"node test"},license:"MIT"}},{}],3:[function(j,r){r.exports=function(h){if(h instanceof Array){var b=-1;this.hasNext=function(){return++b<h.length};this.next=function(){return h[b]}}else{if(h.iterator instanceof
Function)return h.iterator();throw"Unable to iterate: "+h;}}},{}],4:[function(j,r){r.exports={X:0,Y:1,Z:2,R:3,G:4,B:5,A:6,U:7,V:8,NX:9,NY:10,NZ:11,EDGE:12,SR:13,SG:14,SB:15,SA:16,SW:17,TX:18,TY:19,TZ:20,VX:21,VY:22,VZ:23,VW:24,AR:25,AG:26,AB:27,DR:3,DG:4,DB:5,DA:6,SPR:28,SPG:29,SPB:30,SHINE:31,ER:32,EG:33,EB:34,BEEN_LIT:35,VERTEX_FIELD_COUNT:36,P2D:1,JAVA2D:1,WEBGL:2,P3D:2,OPENGL:2,PDF:0,DXF:0,OTHER:0,WINDOWS:1,MAXOSX:2,LINUX:3,EPSILON:1E-4,MAX_FLOAT:3.4028235E38,MIN_FLOAT:-3.4028235E38,MAX_INT:2147483647,
MIN_INT:-2147483648,PI:Math.PI,TWO_PI:2*Math.PI,TAU:2*Math.PI,HALF_PI:Math.PI/2,THIRD_PI:Math.PI/3,QUARTER_PI:Math.PI/4,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,WHITESPACE:" \t\n\r\f\u00a0",RGB:1,ARGB:2,HSB:3,ALPHA:4,CMYK:5,TIFF:0,TARGA:1,JPEG:2,GIF:3,BLUR:11,GRAY:12,INVERT:13,OPAQUE:14,POSTERIZE:15,THRESHOLD:16,ERODE:17,DILATE:18,REPLACE:0,BLEND:1,ADD:2,SUBTRACT:4,LIGHTEST:8,DARKEST:16,DIFFERENCE:32,EXCLUSION:64,MULTIPLY:128,SCREEN:256,OVERLAY:512,HARD_LIGHT:1024,SOFT_LIGHT:2048,DODGE:4096,
BURN:8192,ALPHA_MASK:4278190080,RED_MASK:16711680,GREEN_MASK:65280,BLUE_MASK:255,CUSTOM:0,ORTHOGRAPHIC:2,PERSPECTIVE:3,POINT:2,POINTS:2,LINE:4,LINES:4,TRIANGLE:8,TRIANGLES:9,TRIANGLE_STRIP:10,TRIANGLE_FAN:11,QUAD:16,QUADS:16,QUAD_STRIP:17,POLYGON:20,PATH:21,RECT:30,ELLIPSE:31,ARC:32,SPHERE:40,BOX:41,GROUP:0,PRIMITIVE:1,GEOMETRY:3,VERTEX:0,BEZIER_VERTEX:1,CURVE_VERTEX:2,BREAK:3,CLOSESHAPE:4,OPEN:1,CLOSE:2,CORNER:0,CORNERS:1,RADIUS:2,CENTER_RADIUS:2,CENTER:3,DIAMETER:3,CENTER_DIAMETER:3,BASELINE:0,
TOP:101,BOTTOM:102,NORMAL:1,NORMALIZED:1,IMAGE:2,MODEL:4,SHAPE:5,SQUARE:"butt",ROUND:"round",PROJECT:"square",MITER:"miter",BEVEL:"bevel",AMBIENT:0,DIRECTIONAL:1,SPOT:3,BACKSPACE:8,TAB:9,ENTER:10,RETURN:13,ESC:27,DELETE:127,CODED:65535,SHIFT:16,CONTROL:17,ALT:18,CAPSLK:20,PGUP:33,PGDN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLK:144,META:157,INSERT:155,ARROW:"default",CROSS:"crosshair",HAND:"pointer",
MOVE:"move",TEXT:"text",WAIT:"wait",NOCURSOR:"url('data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw\x3d\x3d'), auto",DISABLE_OPENGL_2X_SMOOTH:1,ENABLE_OPENGL_2X_SMOOTH:-1,ENABLE_OPENGL_4X_SMOOTH:2,ENABLE_NATIVE_FONTS:3,DISABLE_DEPTH_TEST:4,ENABLE_DEPTH_TEST:-4,ENABLE_DEPTH_SORT:5,DISABLE_DEPTH_SORT:-5,DISABLE_OPENGL_ERROR_REPORT:6,ENABLE_OPENGL_ERROR_REPORT:-6,ENABLE_ACCURATE_TEXTURES:7,DISABLE_ACCURATE_TEXTURES:-7,HINT_COUNT:10,SINCOS_LENGTH:720,PRECISIONB:15,PRECISIONF:32768,
PREC_MAXVAL:32767,PREC_ALPHA_SHIFT:9,PREC_RED_SHIFT:1,NORMAL_MODE_AUTO:0,NORMAL_MODE_SHAPE:1,NORMAL_MODE_VERTEX:2,MAX_LIGHTS:8}},{}],5:[function(j,r){r.exports=function(h){var b={BufferMax:200},u=h.createElement("style"),o=!1;u.textContent=".pjsconsole.hidden {\n  display: none!important;\n}";b.wrapper=h.createElement("div");u.textContent+="\n.pjsconsole {\n  opacity: .75;\n  display: block;\n  position: fixed;\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n  height: 50px;\n  background-color: #aaa;\n}";
b.wrapper.classList.add("pjsconsole");b.dragger=h.createElement("div");u.textContent+="\n.pjsconsole .dragger {\n  display: block;\n  border: 3px black raised;\n  cursor: n-resize;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  height: 5px;\n  background-color: #333;\n}";b.dragger.classList.add("dragger");b.closer=h.createElement("div");u.textContent+="\n.pjsconsole .closer {\n  opacity: .5;\n  display: block;\n  border: 3px black raised;\n  position: absolute;\n  top: 10px;\n  right: 30px;\n  height: 20px;\n  width: 20px;\n  background-color: #ddd;\n  color: #000;\n  line-height: 20px;\n  text-align: center;\n  cursor: pointer\n}";
b.closer.classList.add("closer");b.closer.innerHTML="\x26#10006;";b.javaconsole=h.createElement("div");u.textContent+="\n.pjsconsole .console {\n  overflow-x: auto;\n  display: block;\n  position: absolute;\n  left: 10px;\n  right: 0px;\n  bottom: 5px;\n  top: 10px;\n  overflow-y: scroll;\n  height: 40px;\n}";b.javaconsole.setAttribute("class","console");b.wrapper.appendChild(b.dragger);b.wrapper.appendChild(b.javaconsole);b.wrapper.appendChild(b.closer);b.dragger.onmousedown=function(a){b.divheight=
b.wrapper.style.height;h.selection?h.selection.empty():window.getSelection().removeAllRanges();var k=a.screenY;window.onmousemove=function(a){b.wrapper.style.height=parseFloat(b.divheight)+(k-a.screenY)+"px";b.javaconsole.style.height=parseFloat(b.divheight)+(k-a.screenY)-10+"px"};window.onmouseup=function(a){h.selection?h.selection.empty():window.getSelection().removeAllRanges();b.wrapper.style.height=parseFloat(b.divheight)+(k-a.screenY)+"px";b.javaconsole.style.height=parseFloat(b.divheight)+(k-
a.screenY)-10+"px";window.onmousemove=null;window.onmouseup=null}};b.BufferArray=[];b.print=b.log=function(){var a=Array.prototype.slice.call(arguments);t=a.map(function(k,g){return k+(g+1===a.length?"":" ")}).join("");b.BufferArray[b.BufferArray.length-1]?b.BufferArray[b.BufferArray.length-1]+=t+"":b.BufferArray.push(t);b.javaconsole.innerHTML=b.BufferArray.join("");b.showconsole()};b.println=function(){o||(h.body.appendChild(u),h.body.appendChild(b.wrapper),o=!0);var a=Array.prototype.slice.call(arguments);
a.push("\x3cbr\x3e");b.print.apply(b,a);b.BufferArray.length>b.BufferMax?b.BufferArray.splice(0,1):b.javaconsole.scrollTop=b.javaconsole.scrollHeight};b.showconsole=function(){b.wrapper.classList.remove("hidden")};b.hideconsole=function(){b.wrapper.classList.add("hidden")};b.closer.onclick=function(){b.hideconsole()};b.hideconsole();return b}},{}],6:[function(j,r){r.exports=function(h){function b(){}function u(a,g,d){if(!a.hasOwnProperty(g)||"function"!==typeof a[g])a[g]=d;else{var i=a[g];if("$overloads"in
i)i.$defaultOverload=d;else if("$overloads"in d||i.length!==d.length){var q;"$overloads"in d?(q=d.$overloads.slice(0),q[i.length]=i,i=d.$defaultOverload):(q=[],q[d.length]=d,q[i.length]=i);var b=function(){return(b.$overloads[arguments.length]||("$methodArgsIndex"in b&&arguments.length>b.$methodArgsIndex?b.$overloads[b.$methodArgsIndex]:null)||b.$defaultOverload).apply(this,arguments)};b.$overloads=q;"$methodArgsIndex"in d&&(b.$methodArgsIndex=d.$methodArgsIndex);b.$defaultOverload=i;b.name=g;a[g]=
b}}}function o(k,g){function d(i){a.defineProperty(k,i,{get:function(){return g[i]},set:function(c){g[i]=c},enumerable:!0})}var i=[],q;for(q in g)"function"===typeof g[q]?u(k,q,g[q]):"$"!==q.charAt(0)&&!(q in k)&&i.push(q);for(;0<i.length;)d(i.shift());k.$super=g}b.prototype=h.PConstants;var a=new b;Object.keys(h).forEach(function(k){a[k]=h[k]});a.defineProperty=function(a,g,d){"defineProperty"in Object?Object.defineProperty(a,g,d):(d.hasOwnProperty("get")&&a.__defineGetter__(g,d.get),d.hasOwnProperty("set")&&
a.__defineSetter__(g,d.set))};a.extendClassChain=function(a){for(var g=[a],d=a.$upcast;d;d=d.$upcast)o(d,a),g.push(d),a=d;for(;0<g.length;)g.pop().$self=a};a.extendStaticMembers=function(a,g){o(a,g)};a.extendInterfaceMembers=function(a,g){o(a,g)};a.addMethod=function(a,g,d,i){var q=a[g];if(q||i){var b=d.length;if("$overloads"in q)q.$overloads[b]=d;else{var c=function(){return(c.$overloads[arguments.length]||("$methodArgsIndex"in c&&arguments.length>c.$methodArgsIndex?c.$overloads[c.$methodArgsIndex]:
null)||c.$defaultOverload).apply(this,arguments)},o=[];q&&(o[q.length]=q);o[b]=d;c.$overloads=o;c.$defaultOverload=q||d;i&&(c.$methodArgsIndex=b);c.name=g;a[g]=c}}else a[g]=d};a.createJavaArray=function(k,g){var d=null,i=null;if("string"===typeof k)if("boolean"===k)i=!1;else{var q;q="string"!==typeof k?!1:-1!=="byte int char color float long double".split(" ").indexOf(k);q&&(i=0)}if("number"===typeof g[0])if(q=0|g[0],1>=g.length){d=[];d.length=q;for(var b=0;b<q;++b)d[b]=i}else{d=[];i=g.slice(1);for(b=
0;b<q;++b)d.push(a.createJavaArray(k,i))}return d};a.defineProperty(a,"screenWidth",{get:function(){return window.innerWidth}});a.defineProperty(a,"screenHeight",{get:function(){return window.innerHeight}});return a}},{}],7:[function(j,r){r.exports=function(h,b){var u=b.window,o=b.document,a=u.XMLHttpRequest,k=b.noop,g=b.isDOMPresent,d=b.version;h.version=d?d:"@DEV-VERSION@";h.lib={};h.registerLibrary=function(i,c){h.lib[i]=c;c.hasOwnProperty("init")&&c.init(defaultScope)};h.Sketch=function(i){this.attachFunction=
i;this.options={pauseOnBlur:!1,globalKeyEvents:!1};this.onExit=this.onFrameEnd=this.onFrameStart=this.onLoop=this.onPause=this.onSetup=this.onLoad=k;this.params={};this.imageCache={pending:0,images:{},operaCache:{},add:function(c,i){if(!this.images[c]){g||(this.images[c]=null);if(!i){i=new Image;var a=this;i.onload=function(){a.pending--};this.pending++;i.src=c}this.images[c]=i;if(u.opera){var d=o.createElement("div");d.appendChild(i);d.style.position="absolute";d.style.opacity=0;d.style.width="1px";
d.style.height="1px";this.operaCache[c]||(o.body.appendChild(d),this.operaCache[c]=d)}}}};this.sourceCode=void 0;this.attach=function(c){if("function"===typeof this.attachFunction)this.attachFunction(c);else if(this.sourceCode){var i=(new Function("return ("+this.sourceCode+");"))();i(c);this.attachFunction=i}else throw"Unable to attach sketch to the processing instance";};this.toString=function(){var c,i;i="((function(Sketch) {\n"+("var sketch \x3d new Sketch(\n"+this.sourceCode+");\n");for(c in this.options)if(this.options.hasOwnProperty(c)){var a=
this.options[c];i+="sketch.options."+c+" \x3d "+("string"===typeof a?'"'+a+'"':""+a)+";\n"}for(c in this.imageCache)this.options.hasOwnProperty(c)&&(i+='sketch.imageCache.add("'+c+'");\n');return i+"return sketch;\n})(Processing.Sketch))"}};var i=h.loadSketchFromSources=function(i,c){function d(c,p){function Z(a,d){g[c]=a;++b;d&&k.push(p+" \x3d\x3d\x3e "+d);if(b===q){if(0===k.length)return new h(i,g.join("\n"));throw"Processing.js: Unable to load pjs sketch files: "+k.join("\n");}}if("#"===p.charAt(0)){var j=
o.getElementById(p.substring(1));j?Z(j.text||j.textContent):Z("","Unable to load pjs sketch: element with id '"+p.substring(1)+"' was not found")}else{var j=p,r=new a;r.onreadystatechange=function(){if(4===r.readyState){var c;200!==r.status&&0!==r.status?c="Invalid XHR status "+r.status:""===r.responseText&&(c="withCredentials"in new a&&!1===(new a).withCredentials&&"file:"===u.location.protocol?"XMLHttpRequest failure, possibly due to a same-origin policy violation. You can try loading this page in another browser, or load it from http://localhost using a local webserver. See the Processing.js README for a more detailed explanation of this problem and solutions.":
"File is empty.");Z(r.responseText,c)}};r.open("GET",j,!0);r.overrideMimeType&&r.overrideMimeType("application/json");r.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT");r.send(null)}}for(var g=[],k=[],q=c.length,b=0,p=0;p<q;++p)d(p,c[p])},q=function(){o.removeEventListener("DOMContentLoaded",q,!1);for(var a;0<h.instances.length;)for(a=h.instances.length-1;0<=a;a--)h.instances[a]&&h.instances[a].exit();var c=o.getElementsByTagName("canvas"),d;a=0;for(l=c.length;a<l;a++){var g=
c[a].getAttribute("data-processing-sources");null===g&&(g=c[a].getAttribute("data-src"),null===g&&(g=c[a].getAttribute("datasrc")));if(g){d=g.split(/\s+/g);for(g=0;g<d.length;)d[g]?g++:d.splice(g,1);i(c[a],d)}}var k,c=o.getElementsByTagName("script"),g=[];for(a=c.length-1;0<=a;a--)g.push(c[a]);a=0;for(k=g.length;a<k;a++)if(d=g[a],d.getAttribute&&(c=d.getAttribute("type"))&&("text/processing"===c.toLowerCase()||"application/processing"===c.toLowerCase())){var b=d.getAttribute("data-processing-target"),
c=void 0;if(b)c=o.getElementById(b);else{for(b=d.nextSibling;b&&1!==b.nodeType;)b=b.nextSibling;b&&"canvas"===b.nodeName.toLowerCase()&&(c=b)}c&&(d.getAttribute("src")?(d=d.getAttribute("src").split(/\s+/),i(c,d)):(d=d.textContent||d.text,new h(c,d)))}};o.addEventListener("DOMContentLoaded",q,!1);h.reload=q;h.disableInit=function(){o.removeEventListener("DOMContentLoaded",q,!1)};return h}},{}],8:[function(j,r){r.exports=function(h,b){return null===h||null===b?null===h&&null===b:"string"===typeof h||
"object"!==typeof h?h===b:h.equals instanceof Function?h.equals(b):h===b}},{}],9:[function(j,r){r.exports=function(h,b){if("string"===typeof h){for(var u=0,o=0;o<h.length;++o)u=31*u+h.charCodeAt(o)&4294967295;return u}if("object"!==typeof h)return h&4294967295;if(h.hashCode instanceof Function)return h.hashCode();h.$id===b&&(h.$id=Math.floor(65536*Math.random())-32768<<16|Math.floor(65536*Math.random()));return h.$id}},{}],10:[function(j,r){r.exports=function(h){function b(a){var k=-1;this.hasNext=
function(){return k+1<a.length};this.next=function(){return a[++k]};this.remove=function(){a.splice(k--,1)}}function u(a){var k=[];a&&a.toArray&&(k=a.toArray());this.get=function(a){return k[a]};this.contains=function(a){return-1<this.indexOf(a)};this.indexOf=function(a){for(var d=0,i=k.length;d<i;++d)if(o(a,k[d]))return d;return-1};this.lastIndexOf=function(a){for(var d=k.length-1;0<=d;--d)if(o(a,k[d]))return d;return-1};this.add=function(){if(1===arguments.length)k.push(arguments[0]);else if(2===
arguments.length){var a=arguments[0];if("number"===typeof a)if(0<=a&&a<=k.length)k.splice(a,0,arguments[1]);else throw a+" is not a valid index";else throw typeof a+" is not a number";}else throw"Please use the proper number of parameters.";};this.addAll=function(a,d){var i;if("number"===typeof a){if(0>a||a>k.length)throw"Index out of bounds for addAll: "+a+" greater or equal than "+k.length;for(i=new ObjectIterator(d);i.hasNext();)k.splice(a++,0,i.next())}else for(i=new ObjectIterator(a);i.hasNext();)k.push(i.next())};
this.set=function(){if(2===arguments.length){var a=arguments[0];if("number"===typeof a)if(0<=a&&a<k.length)k.splice(a,1,arguments[1]);else throw a+" is not a valid index.";else throw typeof a+" is not a number";}else throw"Please use the proper number of parameters.";};this.size=function(){return k.length};this.clear=function(){k.length=0};this.remove=function(a){if("number"===typeof a)return k.splice(a,1)[0];a=this.indexOf(a);return-1<a?(k.splice(a,1),!0):!1};this.removeAll=function(a){var d,i,k,
b=new u;b.addAll(this);this.clear();for(i=d=0;d<b.size();d++)k=b.get(d),a.contains(k)||this.add(i++,k);return this.size()<b.size()?!0:!1};this.isEmpty=function(){return!k.length};this.clone=function(){return new u(this)};this.toArray=function(){return k.slice(0)};this.iterator=function(){return new b(k)}}var o=h.virtEquals;return u}},{}],11:[function(j,r){var h={},b=function(u){this.code="string"===typeof u&&1===u.length?u.charCodeAt(0):"number"===typeof u?u:u instanceof b?u:NaN;return void 0===h[this.code]?
h[this.code]=this:h[this.code]};b.prototype.toString=function(){return String.fromCharCode(this.code)};b.prototype.valueOf=function(){return this.code};r.exports=b},{}],12:[function(j,r){r.exports=function(h){function b(){function a(a){a=u(a)%c.length;return 0>a?c.length+a:a}function k(){if(!(h<=ia*c.length)){for(var i=[],d=0;d<c.length;++d)void 0!==c[d]&&(i=i.concat(c[d]));d=2*c.length;c=[];c.length=d;for(d=0;d<i.length;++d){var k=a(i[d].key),g=c[k];void 0===g&&(c[k]=g=[]);g.push(i[d])}}}function g(a,
i){function d(){for(;!q;)if(++g,k>=c.length)q=!0;else if(void 0===c[k]||g>=c[k].length)g=-1,++k;else break}var k=0,g=-1,q=!1,b;this.hasNext=function(){return!q};this.next=function(){b=a(c[k][g]);d();return b};this.remove=function(){void 0!==b&&(i(b),--g,d())};d()}function d(c,a,i){this.clear=function(){j.clear()};this.contains=function(c){return a(c)};this.containsAll=function(c){for(c=c.iterator();c.hasNext();)if(!this.contains(c.next()))return!1;return!0};this.isEmpty=function(){return j.isEmpty()};
this.iterator=function(){return new g(c,i)};this.remove=function(c){return this.contains(c)?(i(c),!0):!1};this.removeAll=function(c){for(c=c.iterator();c.hasNext();){var a=c.next();this.contains(a)&&i(a)}return!0};this.retainAll=function(c){for(var a=this.iterator(),d=[];a.hasNext();){var k=a.next();c.contains(k)||d.push(k)}for(c=0;c<d.length;++c)i(d[c]);return 0<d.length};this.size=function(){return j.size()};this.toArray=function(){for(var c=[],a=this.iterator();a.hasNext();)c.push(a.next());return c}}
function i(c){this._isIn=function(a){return a===j&&void 0===c.removed};this.equals=function(a){return o(c.key,a.getKey())};this.getKey=function(){return c.key};this.getValue=function(){return c.value};this.hashCode=function(){return u(c.key)};this.setValue=function(a){var i=c.value;c.value=a;return i}}if(1===arguments.length&&arguments[0]instanceof b)return arguments[0].clone();var q=0<arguments.length?arguments[0]:16,ia=1<arguments.length?arguments[1]:0.75,c=[];c.length=q;var h=0,j=this;this.clear=
function(){h=0;c=[];c.length=q};this.clone=function(){var c=new b;c.putAll(this);return c};this.containsKey=function(i){var d=a(i),d=c[d];if(void 0===d)return!1;for(var k=0;k<d.length;++k)if(o(d[k].key,i))return!0;return!1};this.containsValue=function(a){for(var i=0;i<c.length;++i){var d=c[i];if(void 0!==d)for(var k=0;k<d.length;++k)if(o(d[k].value,a))return!0}return!1};this.entrySet=function(){return new d(function(c){return new i(c)},function(c){return c instanceof i&&c._isIn(j)},function(c){return j.remove(c.getKey())})};
this.get=function(i){var d=a(i),d=c[d];if(void 0===d)return null;for(var k=0;k<d.length;++k)if(o(d[k].key,i))return d[k].value;return null};this.isEmpty=function(){return 0===h};this.keySet=function(){return new d(function(c){return c.key},function(c){return j.containsKey(c)},function(c){return j.remove(c)})};this.values=function(){return new d(function(c){return c.value},function(c){return j.containsValue(c)},function(c){return j.removeByValue(c)})};this.put=function(i,d){var g=a(i),q=c[g];if(void 0===
q)return++h,c[g]=[{key:i,value:d}],k(),null;for(g=0;g<q.length;++g)if(o(q[g].key,i)){var b=q[g].value;q[g].value=d;return b}++h;q.push({key:i,value:d});k();return null};this.putAll=function(c){for(c=c.entrySet().iterator();c.hasNext();){var a=c.next();this.put(a.getKey(),a.getValue())}};this.remove=function(i){var d=a(i),k=c[d];if(void 0===k)return null;for(var g=0;g<k.length;++g)if(o(k[g].key,i))return--h,i=k[g].value,k[g].removed=!0,1<k.length?k.splice(g,1):c[d]=void 0,i;return null};this.removeByValue=
function(a){var i,d,k,g;for(i in c)if(c.hasOwnProperty(i)){d=0;for(k=c[i].length;d<k;d++)if(g=c[i][d],g.value===a)return c[i].splice(d,1),!0}return!1};this.size=function(){return h}}var u=h.virtHashCode,o=h.virtEquals;return b}},{}],13:[function(j,r){r.exports=function(h,b){function u(k,g){k===b&&(k="");this.name=k;g===b&&(g=0);this.size=g;this.glyph=!1;this.descent=this.ascent=0;this.leading=1.2*g;var d=k.indexOf(" Italic Bold");-1!==d&&(k=k.substring(0,d));this.style="normal";d=k.indexOf(" Italic");
-1!==d&&(k=k.substring(0,d),this.style="italic");this.weight="normal";d=k.indexOf(" Bold");-1!==d&&(k=k.substring(0,d),this.weight="bold");this.family="sans-serif";if(k!==b)switch(k){case "sans-serif":case "serif":case "monospace":case "fantasy":case "cursive":this.family=k;break;default:this.family='"'+k+'", sans-serif'}var d=this.size/250,i=o.createElement("canvas");i.width=500;i.height=500;i.style.opacity=0;var q=this.getCSSDefinition("250px","normal"),ia=i.getContext("2d");ia.font=q;i.width=ia.measureText("dbflkhyjqpg").width;
ia.font=q;q=o.createElement("div");q.style.position="absolute";q.style.opacity=0;q.style.fontFamily='"'+this.name+'"';q.style.fontSize="250px";q.innerHTML="dbflkhyjqpg\x3cbr/\x3edbflkhyjqpg";o.body.appendChild(q);var c=i.width,h=i.height,i=h/2;ia.fillStyle="white";ia.fillRect(0,0,c,h);ia.fillStyle="black";ia.fillText("dbflkhyjqpg",0,i);for(var h=ia.getImageData(0,0,c,h).data,u=0,j=4*c,B=h.length;++u<B&&255===h[u];)a();c=Math.round(u/j);for(u=B-1;0<--u&&255===h[u];)a();h=Math.round(u/j);this.ascent=
d*(i-c);this.descent=d*(h-i);o.defaultView.getComputedStyle&&(i=o.defaultView.getComputedStyle(q,null).getPropertyValue("height"),i=d*i.replace("px",""),i>=2*this.size&&(this.leading=Math.round(i/2)));o.body.removeChild(q);d=this.caching?ia:void 0;this.context2d=d;this.css=this.getCSSDefinition();this.context2d&&(this.context2d.font=this.css)}var o=h.Browser.document,a=h.noop;u.prototype.caching=!0;u.prototype.getCSSDefinition=function(a,g){a===b&&(a=this.size+"px");g===b&&(g=this.leading+"px");return[this.style,
"normal",this.weight,a+"/"+g,this.family].join(" ")};u.prototype.measureTextWidth=function(a){return this.context2d.measureText(a).width};u.prototype.measureTextWidthFallback=function(a){var g=o.createElement("canvas").getContext("2d");g.font=this.css;return g.measureText(a).width};u.PFontCache={length:0};u.get=function(a,g){g=(10*g+0.5|0)/10;var d=u.PFontCache,i=a+"/"+g;if(!d[i]){d[i]=new u(a,g);d.length++;if(50===d.length){u.prototype.measureTextWidth=u.prototype.measureTextWidthFallback;u.prototype.caching=
!1;for(var q in d)"length"!==q&&(d[q].context2d=null);return new u(a,g)}if(400===d.length)return u.PFontCache={},u.get=u.getFallback,new u(a,g)}return d[i]};u.getFallback=function(a,g){return new u(a,g)};u.list=function(){return["sans-serif","serif","monospace","fantasy","cursive"]};u.preloading={template:{},initialized:!1,initialize:function(){var a=o.createElement("style");a.setAttribute("type","text/css");var g;g="#E3KAI2wAgT1MvMg7Eo3VmNtYX7ABi3CxnbHlm7Abw3kaGVhZ7ACs3OGhoZWE7A53CRobXR47AY3AGbG9jYQ7G03Bm1heH7ABC3CBuYW1l7Ae3AgcG9zd7AI3AE#B3AQ2kgTY18PPPUACwAg3ALSRoo3#yld0xg32QAB77#E777773B#E3C#I#Q77773E#Q7777777772CMAIw7AB77732B#M#Q3wAB#g3B#E#E2BB//82BB////w#B7#gAEg3E77x2B32B#E#Q#MTcBAQ32gAe#M#QQJ#E32M#QQJ#I#g32Q77#".replace(/[#237]/g,
function(a){return"AAAAAAAA".substr(~~a?7-a:6)});a.innerHTML='@font-face {\n  font-family: "PjsEmptyFont";\n  src: url(\'data:application/x-font-ttf;base64,'+g+"')\n       format('truetype');\n}";o.head.appendChild(a);a=o.createElement("span");a.style.cssText='position: absolute; top: -1000; left: 0; opacity: 0; font-family: "PjsEmptyFont", fantasy;';a.innerHTML="AAAAAAAA";o.body.appendChild(a);this.template=a;this.initialized=!0},getElementWidth:function(a){return o.defaultView.getComputedStyle(a,
"").getPropertyValue("width")},timeAttempted:0,pending:function(a){this.initialized||this.initialize();for(var g,d,i=this.getElementWidth(this.template),q=0;q<this.fontList.length;q++){g=this.fontList[q];d=this.getElementWidth(g);if(4E3>this.timeAttempted&&d===i)return this.timeAttempted+=a,!0;o.body.removeChild(g);this.fontList.splice(q--,1);this.timeAttempted=0}return 0===this.fontList.length?!1:!0},fontList:[],addedList:{},add:function(a){this.initialized||this.initialize();var g="object"===typeof a?
a.fontFace:a;a="object"===typeof a?a.url:a;if(!this.addedList[g]){var d=o.createElement("style");d.setAttribute("type","text/css");d.innerHTML="@font-face{\n  font-family: '"+g+"';\n  src:  url('"+a+"');\n}\n";o.head.appendChild(d);this.addedList[g]=!0;a=o.createElement("span");a.style.cssText="position: absolute; top: 0; left: 0; opacity: 0;";a.style.fontFamily='"'+g+'", "PjsEmptyFont", fantasy';a.innerHTML="AAAAAAAA";o.body.appendChild(a);this.fontList.push(a)}}};return u}},{}],14:[function(j,r){r.exports=
function(h){var b=h.p,u=function(){0===arguments.length?this.reset():1===arguments.length&&arguments[0]instanceof u?this.set(arguments[0].array()):6===arguments.length&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};u.prototype={set:function(){if(6===arguments.length){var b=arguments;this.set([b[0],b[1],b[2],b[3],b[4],b[5]])}else 1===arguments.length&&arguments[0]instanceof u?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&
(this.elements=arguments[0].slice())},get:function(){var b=new u;b.set(this.elements);return b},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(b,a){this.elements[2]=b*this.elements[0]+a*this.elements[1]+this.elements[2];this.elements[5]=b*this.elements[3]+a*this.elements[4]+this.elements[5]},invTranslate:function(b,a){this.translate(-b,-a)},transpose:function(){},mult:function(b,a){var k,g;b instanceof PVector?(k=b.x,g=b.y,a||(a=new PVector)):
b instanceof Array&&(k=b[0],g=b[1],a||(a=[]));a instanceof Array?(a[0]=this.elements[0]*k+this.elements[1]*g+this.elements[2],a[1]=this.elements[3]*k+this.elements[4]*g+this.elements[5]):a instanceof PVector&&(a.x=this.elements[0]*k+this.elements[1]*g+this.elements[2],a.y=this.elements[3]*k+this.elements[4]*g+this.elements[5],a.z=0);return a},multX:function(b,a){return b*this.elements[0]+a*this.elements[1]+this.elements[2]},multY:function(b,a){return b*this.elements[3]+a*this.elements[4]+this.elements[5]},
skewX:function(b){this.apply(1,0,1,b,0,0)},skewY:function(b){this.apply(1,0,1,0,b,0)},shearX:function(b){this.apply(1,0,1,Math.tan(b),0,0)},shearY:function(b){this.apply(1,0,1,0,Math.tan(b),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var b=this.determinant();if(Math.abs(b)>PConstants.MIN_INT){var a=this.elements[0],k=this.elements[1],g=this.elements[2],d=this.elements[3],i=this.elements[4],q=this.elements[5];this.elements[0]=
i/b;this.elements[3]=-d/b;this.elements[1]=-k/b;this.elements[4]=a/b;this.elements[2]=(k*q-i*g)/b;this.elements[5]=(d*g-a*q)/b;return!0}return!1},scale:function(b,a){b&&!a&&(a=b);b&&a&&(this.elements[0]*=b,this.elements[1]*=a,this.elements[3]*=b,this.elements[4]*=a)},invScale:function(b,a){b&&!a&&(a=b);this.scale(1/b,1/a)},apply:function(){var b;1===arguments.length&&arguments[0]instanceof u?b=arguments[0].array():6===arguments.length?b=Array.prototype.slice.call(arguments):1===arguments.length&&
arguments[0]instanceof Array&&(b=arguments[0]);for(var a=[0,0,this.elements[2],0,0,this.elements[5]],k=0,g=0;2>g;g++)for(var d=0;3>d;d++,k++)a[k]+=this.elements[3*g+0]*b[d+0]+this.elements[3*g+1]*b[d+3];this.elements=a.slice()},preApply:function(){var b;1===arguments.length&&arguments[0]instanceof u?b=arguments[0].array():6===arguments.length?b=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(b=arguments[0]);var a=[0,0,b[2],0,0,b[5]];a[2]=b[2]+this.elements[2]*
b[0]+this.elements[5]*b[1];a[5]=b[5]+this.elements[2]*b[3]+this.elements[5]*b[4];a[0]=this.elements[0]*b[0]+this.elements[3]*b[1];a[3]=this.elements[0]*b[3]+this.elements[3]*b[4];a[1]=this.elements[1]*b[0]+this.elements[4]*b[1];a[4]=this.elements[1]*b[3]+this.elements[4]*b[4];this.elements=a.slice()},rotate:function(b){var a=Math.cos(b);b=Math.sin(b);var k=this.elements[0],g=this.elements[1];this.elements[0]=a*k+b*g;this.elements[1]=-b*k+a*g;k=this.elements[3];g=this.elements[4];this.elements[3]=
a*k+b*g;this.elements[4]=-b*k+a*g},rotateZ:function(b){this.rotate(b)},invRotateZ:function(b){this.rotateZ(b-Math.PI)},print:function(){var h=printMatrixHelper(this.elements),h=""+b.nfs(this.elements[0],h,4)+" "+b.nfs(this.elements[1],h,4)+" "+b.nfs(this.elements[2],h,4)+"\n"+b.nfs(this.elements[3],h,4)+" "+b.nfs(this.elements[4],h,4)+" "+b.nfs(this.elements[5],h,4)+"\n\n";b.println(h)}};return u}},{}],15:[function(j,r){r.exports=function(h,b){var u=h.p,j=function(){this.reset()};j.prototype={set:function(){16===
arguments.length?this.elements=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof j?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var a=new j;a.set(this.elements);return a},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},translate:function(a,k,g){g===b&&(g=0);this.elements[3]+=a*this.elements[0]+k*this.elements[1]+
g*this.elements[2];this.elements[7]+=a*this.elements[4]+k*this.elements[5]+g*this.elements[6];this.elements[11]+=a*this.elements[8]+k*this.elements[9]+g*this.elements[10];this.elements[15]+=a*this.elements[12]+k*this.elements[13]+g*this.elements[14]},transpose:function(){var a=this.elements[4];this.elements[4]=this.elements[1];this.elements[1]=a;a=this.elements[8];this.elements[8]=this.elements[2];this.elements[2]=a;a=this.elements[6];this.elements[6]=this.elements[9];this.elements[9]=a;a=this.elements[3];
this.elements[3]=this.elements[12];this.elements[12]=a;a=this.elements[7];this.elements[7]=this.elements[13];this.elements[13]=a;a=this.elements[11];this.elements[11]=this.elements[14];this.elements[14]=a},mult:function(a,b){var g,d,i,q;if(a instanceof PVector)g=a.x,d=a.y,i=a.z,q=1,b||(b=new PVector);else if(a instanceof Array&&(g=a[0],d=a[1],i=a[2],q=a[3]||1,!b||3!==b.length&&4!==b.length))b=[0,0,0];b instanceof Array&&(3===b.length?(b[0]=this.elements[0]*g+this.elements[1]*d+this.elements[2]*i+
this.elements[3],b[1]=this.elements[4]*g+this.elements[5]*d+this.elements[6]*i+this.elements[7],b[2]=this.elements[8]*g+this.elements[9]*d+this.elements[10]*i+this.elements[11]):4===b.length&&(b[0]=this.elements[0]*g+this.elements[1]*d+this.elements[2]*i+this.elements[3]*q,b[1]=this.elements[4]*g+this.elements[5]*d+this.elements[6]*i+this.elements[7]*q,b[2]=this.elements[8]*g+this.elements[9]*d+this.elements[10]*i+this.elements[11]*q,b[3]=this.elements[12]*g+this.elements[13]*d+this.elements[14]*
i+this.elements[15]*q));b instanceof PVector&&(b.x=this.elements[0]*g+this.elements[1]*d+this.elements[2]*i+this.elements[3],b.y=this.elements[4]*g+this.elements[5]*d+this.elements[6]*i+this.elements[7],b.z=this.elements[8]*g+this.elements[9]*d+this.elements[10]*i+this.elements[11]);return b},preApply:function(){var a;1===arguments.length&&arguments[0]instanceof j?a=arguments[0].array():16===arguments.length?a=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&
(a=arguments[0]);for(var b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g=0,d=0;4>d;d++)for(var i=0;4>i;i++,g++)b[g]+=this.elements[i+0]*a[4*d+0]+this.elements[i+4]*a[4*d+1]+this.elements[i+8]*a[4*d+2]+this.elements[i+12]*a[4*d+3];this.elements=b.slice()},apply:function(){var a;1===arguments.length&&arguments[0]instanceof j?a=arguments[0].array():16===arguments.length?a=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(a=arguments[0]);for(var b=[0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0],g=0,d=0;4>d;d++)for(var i=0;4>i;i++,g++)b[g]+=this.elements[4*d+0]*a[i+0]+this.elements[4*d+1]*a[i+4]+this.elements[4*d+2]*a[i+8]+this.elements[4*d+3]*a[i+12];this.elements=b.slice()},rotate:function(a,b,g,d){if(g){var i=Math.cos(a);a=Math.sin(a);var q=1-i;this.apply(q*b*b+i,q*b*g-a*d,q*b*d+a*g,0,q*b*g+a*d,q*g*g+i,q*g*d-a*b,0,q*b*d-a*g,q*g*d+a*b,q*d*d+i,0,0,0,0,1)}else this.rotateZ(a)},invApply:function(){inverseCopy===b&&(inverseCopy=new j);var a=arguments;inverseCopy.set(a[0],a[1],a[2],
a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]);if(!inverseCopy.invert())return!1;this.preApply(inverseCopy);return!0},rotateX:function(a){var b=Math.cos(a);a=Math.sin(a);this.apply([1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1])},rotateY:function(a){var b=Math.cos(a);a=Math.sin(a);this.apply([b,0,a,0,0,1,0,0,-a,0,b,0,0,0,0,1])},rotateZ:function(a){var b=Math.cos(a);a=Math.sin(a);this.apply([b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1])},scale:function(a,b,g){a&&!b&&!g?b=g=a:a&&(b&&!g)&&(g=1);a&&
(b&&g)&&(this.elements[0]*=a,this.elements[1]*=b,this.elements[2]*=g,this.elements[4]*=a,this.elements[5]*=b,this.elements[6]*=g,this.elements[8]*=a,this.elements[9]*=b,this.elements[10]*=g,this.elements[12]*=a,this.elements[13]*=b,this.elements[14]*=g)},skewX:function(a){a=Math.tan(a);this.apply(1,a,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(a){a=Math.tan(a);this.apply(1,0,0,0,a,1,0,0,0,0,1,0,0,0,0,1)},shearX:function(a){a=Math.tan(a);this.apply(1,a,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(a){a=
Math.tan(a);this.apply(1,0,0,0,a,1,0,0,0,0,1,0,0,0,0,1)},multX:function(a,b,g,d){return!g?this.elements[0]*a+this.elements[1]*b+this.elements[3]:!d?this.elements[0]*a+this.elements[1]*b+this.elements[2]*g+this.elements[3]:this.elements[0]*a+this.elements[1]*b+this.elements[2]*g+this.elements[3]*d},multY:function(a,b,g,d){return!g?this.elements[4]*a+this.elements[5]*b+this.elements[7]:!d?this.elements[4]*a+this.elements[5]*b+this.elements[6]*g+this.elements[7]:this.elements[4]*a+this.elements[5]*b+
this.elements[6]*g+this.elements[7]*d},multZ:function(a,b,g,d){return!d?this.elements[8]*a+this.elements[9]*b+this.elements[10]*g+this.elements[11]:this.elements[8]*a+this.elements[9]*b+this.elements[10]*g+this.elements[11]*d},multW:function(a,b,g,d){return!d?this.elements[12]*a+this.elements[13]*b+this.elements[14]*g+this.elements[15]:this.elements[12]*a+this.elements[13]*b+this.elements[14]*g+this.elements[15]*d},invert:function(){var a=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],
b=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],g=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],d=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],i=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],q=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],h=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],c=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],u=this.elements[8]*
this.elements[15]-this.elements[11]*this.elements[12],j=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],o=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],B=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],C=a*B-b*o+g*j+d*u-i*c+q*h;if(1E-9>=Math.abs(C))return!1;var p=[];p[0]=+this.elements[5]*B-this.elements[6]*o+this.elements[7]*j;p[4]=-this.elements[4]*B+this.elements[6]*u-this.elements[7]*c;p[8]=+this.elements[4]*o-this.elements[5]*
u+this.elements[7]*h;p[12]=-this.elements[4]*j+this.elements[5]*c-this.elements[6]*h;p[1]=-this.elements[1]*B+this.elements[2]*o-this.elements[3]*j;p[5]=+this.elements[0]*B-this.elements[2]*u+this.elements[3]*c;p[9]=-this.elements[0]*o+this.elements[1]*u-this.elements[3]*h;p[13]=+this.elements[0]*j-this.elements[1]*c+this.elements[2]*h;p[2]=+this.elements[13]*q-this.elements[14]*i+this.elements[15]*d;p[6]=-this.elements[12]*q+this.elements[14]*g-this.elements[15]*b;p[10]=+this.elements[12]*i-this.elements[13]*
g+this.elements[15]*a;p[14]=-this.elements[12]*d+this.elements[13]*b-this.elements[14]*a;p[3]=-this.elements[9]*q+this.elements[10]*i-this.elements[11]*d;p[7]=+this.elements[8]*q-this.elements[10]*g+this.elements[11]*b;p[11]=-this.elements[8]*i+this.elements[9]*g-this.elements[11]*a;p[15]=+this.elements[8]*d-this.elements[9]*b+this.elements[10]*a;a=1/C;p[0]*=a;p[1]*=a;p[2]*=a;p[3]*=a;p[4]*=a;p[5]*=a;p[6]*=a;p[7]*=a;p[8]*=a;p[9]*=a;p[10]*=a;p[11]*=a;p[12]*=a;p[13]*=a;p[14]*=a;p[15]*=a;this.elements=
p.slice();return!0},toString:function(){for(var a="",b=0;15>b;b++)a+=this.elements[b]+", ";return a+=this.elements[15]},print:function(){var a=printMatrixHelper(this.elements),a=""+u.nfs(this.elements[0],a,4)+" "+u.nfs(this.elements[1],a,4)+" "+u.nfs(this.elements[2],a,4)+" "+u.nfs(this.elements[3],a,4)+"\n"+u.nfs(this.elements[4],a,4)+" "+u.nfs(this.elements[5],a,4)+" "+u.nfs(this.elements[6],a,4)+" "+u.nfs(this.elements[7],a,4)+"\n"+u.nfs(this.elements[8],a,4)+" "+u.nfs(this.elements[9],a,4)+" "+
u.nfs(this.elements[10],a,4)+" "+u.nfs(this.elements[11],a,4)+"\n"+u.nfs(this.elements[12],a,4)+" "+u.nfs(this.elements[13],a,4)+" "+u.nfs(this.elements[14],a,4)+" "+u.nfs(this.elements[15],a,4)+"\n\n";u.println(a)},invTranslate:function(a,b,g){this.preApply(1,0,0,-a,0,1,0,-b,0,0,1,-g,0,0,0,1)},invRotateX:function(a){var b=Math.cos(-a);a=Math.sin(-a);this.preApply([1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1])},invRotateY:function(a){var b=Math.cos(-a);a=Math.sin(-a);this.preApply([b,0,a,0,0,1,0,0,-a,0,b,0,
0,0,0,1])},invRotateZ:function(a){var b=Math.cos(-a);a=Math.sin(-a);this.preApply([b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1])},invScale:function(a,b,g){this.preApply([1/a,0,0,0,0,1/b,0,0,0,0,1/g,0,0,0,0,1])}};return j}},{}],16:[function(j,r){r.exports=function(h){var b=h.PConstants,j=h.PMatrix2D,o=h.PMatrix3D;h=function(a){this.family=a||b.GROUP;this.style=this.visible=!0;this.children=[];this.nameTable=[];this.params=[];this.name="";this.parent=this.height=this.width=this.close=this.kind=this.matrix=this.image=
null};h.prototype={isVisible:function(){return this.visible},setVisible:function(a){this.visible=a},disableStyle:function(){this.style=!1;for(var a=0,b=this.children.length;a<b;a++)this.children[a].disableStyle()},enableStyle:function(){this.style=!0;for(var a=0,b=this.children.length;a<b;a++)this.children[a].enableStyle()},getFamily:function(){return this.family},getWidth:function(){return this.width},getHeight:function(){return this.height},setName:function(a){this.name=a},getName:function(){return this.name},
draw:function(a){if(!a)throw"render context missing for draw() in PShape";this.visible&&(this.pre(a),this.drawImpl(a),this.post(a))},drawImpl:function(a){this.family===b.GROUP?this.drawGroup(a):this.family===b.PRIMITIVE?this.drawPrimitive(a):this.family===b.GEOMETRY?this.drawGeometry(a):this.family===b.PATH&&this.drawPath(a)},drawPath:function(a){var k,g;if(0!==this.vertices.length){a.beginShape();if(0===this.vertexCodes.length)if(2===this.vertices[0].length){k=0;for(g=this.vertices.length;k<g;k++)a.vertex(this.vertices[k][0],
this.vertices[k][1])}else{k=0;for(g=this.vertices.length;k<g;k++)a.vertex(this.vertices[k][0],this.vertices[k][1],this.vertices[k][2])}else{var d=0;if(2===this.vertices[0].length){k=0;for(g=this.vertexCodes.length;k<g;k++)this.vertexCodes[k]===b.VERTEX?(a.vertex(this.vertices[d][0],this.vertices[d][1],this.vertices[d].moveTo),a.breakShape=!1,d++):this.vertexCodes[k]===b.BEZIER_VERTEX?(a.bezierVertex(this.vertices[d+0][0],this.vertices[d+0][1],this.vertices[d+1][0],this.vertices[d+1][1],this.vertices[d+
2][0],this.vertices[d+2][1]),d+=3):this.vertexCodes[k]===b.CURVE_VERTEX?(a.curveVertex(this.vertices[d][0],this.vertices[d][1]),d++):this.vertexCodes[k]===b.BREAK&&(a.breakShape=!0)}else{k=0;for(g=this.vertexCodes.length;k<g;k++)this.vertexCodes[k]===b.VERTEX?(a.vertex(this.vertices[d][0],this.vertices[d][1],this.vertices[d][2]),!0===this.vertices[d].moveTo?vertArray[vertArray.length-1].moveTo=!0:!1===this.vertices[d].moveTo&&(vertArray[vertArray.length-1].moveTo=!1),a.breakShape=!1):this.vertexCodes[k]===
b.BEZIER_VERTEX?(a.bezierVertex(this.vertices[d+0][0],this.vertices[d+0][1],this.vertices[d+0][2],this.vertices[d+1][0],this.vertices[d+1][1],this.vertices[d+1][2],this.vertices[d+2][0],this.vertices[d+2][1],this.vertices[d+2][2]),d+=3):this.vertexCodes[k]===b.CURVE_VERTEX?(a.curveVertex(this.vertices[d][0],this.vertices[d][1],this.vertices[d][2]),d++):this.vertexCodes[k]===b.BREAK&&(a.breakShape=!0)}}a.endShape(this.close?b.CLOSE:b.OPEN)}},drawGeometry:function(a){var b,g;a.beginShape(this.kind);
if(this.style){b=0;for(g=this.vertices.length;b<g;b++)a.vertex(this.vertices[b])}else{b=0;for(g=this.vertices.length;b<g;b++){var d=this.vertices[b];0===d[2]?a.vertex(d[0],d[1]):a.vertex(d[0],d[1],d[2])}}a.endShape()},drawGroup:function(a){for(var b=0,g=this.children.length;b<g;b++)this.children[b].draw(a)},drawPrimitive:function(a){if(this.kind===b.POINT)a.point(this.params[0],this.params[1]);else if(this.kind===b.LINE)4===this.params.length?a.line(this.params[0],this.params[1],this.params[2],this.params[3]):
a.line(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(this.kind===b.TRIANGLE)a.triangle(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(this.kind===b.QUAD)a.quad(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5],this.params[6],this.params[7]);else if(this.kind===b.RECT)if(null!==this.image){var k=imageModeConvert;a.imageMode(b.CORNER);a.image(this.image,this.params[0],
this.params[1],this.params[2],this.params[3]);imageModeConvert=k}else k=a.curRectMode,a.rectMode(b.CORNER),a.rect(this.params[0],this.params[1],this.params[2],this.params[3]),a.curRectMode=k;else this.kind===b.ELLIPSE?(k=a.curEllipseMode,a.ellipseMode(b.CORNER),a.ellipse(this.params[0],this.params[1],this.params[2],this.params[3]),a.curEllipseMode=k):this.kind===b.ARC?(k=curEllipseMode,a.ellipseMode(b.CORNER),a.arc(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]),
curEllipseMode=k):this.kind===b.BOX?1===this.params.length?a.box(this.params[0]):a.box(this.params[0],this.params[1],this.params[2]):this.kind===b.SPHERE&&a.sphere(this.params[0])},pre:function(a){this.matrix&&(a.pushMatrix(),a.transform(this.matrix));this.style&&(a.pushStyle(),this.styles(a))},post:function(a){this.matrix&&a.popMatrix();this.style&&a.popStyle()},styles:function(a){this.stroke?(a.stroke(this.strokeColor),a.strokeWeight(this.strokeWeight),a.strokeCap(this.strokeCap),a.strokeJoin(this.strokeJoin)):
a.noStroke();this.fill?a.fill(this.fillColor):a.noFill()},getChild:function(a){var b,g;if("number"===typeof a)return this.children[a];var d;if(""===a||this.name===a)return this;if(0<this.nameTable.length){b=0;for(g=this.nameTable.length;b<g||d;b++)if(this.nameTable[b].getName===a){d=this.nameTable[b];break}if(d)return d}b=0;for(g=this.children.length;b<g;b++)if(d=this.children[b].getChild(a))return d;return null},getChildCount:function(){return this.children.length},addChild:function(a){this.children.push(a);
a.parent=this;null!==a.getName()&&this.addName(a.getName(),a)},addName:function(a,b){null!==this.parent?this.parent.addName(a,b):this.nameTable.push([a,b])},translate:function(){2===arguments.length?(this.checkMatrix(2),this.matrix.translate(arguments[0],arguments[1])):(this.checkMatrix(3),this.matrix.translate(arguments[0],arguments[1],0))},checkMatrix:function(a){null===this.matrix?this.matrix=2===a?new j:new o:3===a&&this.matrix instanceof j&&(this.matrix=new o)},rotateX:function(a){this.rotate(a,
1,0,0)},rotateY:function(a){this.rotate(a,0,1,0)},rotateZ:function(a){this.rotate(a,0,0,1)},rotate:function(){1===arguments.length?(this.checkMatrix(2),this.matrix.rotate(arguments[0])):(this.checkMatrix(3),this.matrix.rotate(arguments[0],arguments[1],arguments[2],arguments[3]))},scale:function(){2===arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1])):3===arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1],arguments[2])):(this.checkMatrix(2),
this.matrix.scale(arguments[0]))},resetMatrix:function(){this.checkMatrix(2);this.matrix.reset()},applyMatrix:function(a){1===arguments.length?this.applyMatrix(a.elements[0],a.elements[1],0,a.elements[2],a.elements[3],a.elements[4],0,a.elements[5],0,0,1,0,0,0,0,1):6===arguments.length?(this.checkMatrix(2),this.matrix.apply(arguments[0],arguments[1],arguments[2],0,arguments[3],arguments[4],arguments[5],0,0,0,1,0,0,0,0,1)):16===arguments.length&&(this.checkMatrix(3),this.matrix.apply(arguments[0],arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]))}};return h}},{}],17:[function(j,r){r.exports=function(h){var b=h.CommonFunctions,j=h.PConstants,o=h.PShape,a=h.XMLElement,k=h.colors,g=function(){o.call(this);if(1===arguments.length){if(this.element=arguments[0],this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=j.ALPHA_MASK,this.strokeWeight=
1,this.strokeCap=j.SQUARE,this.strokeJoin=j.MITER,this.strokeName=this.strokeGradientPaint=this.strokeGradient=null,this.strokeOpacity=1,this.fill=!0,this.fillColor=j.ALPHA_MASK,this.fillName=this.fillGradientPaint=this.fillGradient=null,this.fillOpacity=1,"svg"!==this.element.getName())throw"root is not \x3csvg\x3e, it's \x3c"+this.element.getName()+"\x3e";}else 2===arguments.length&&("string"===typeof arguments[1]?-1<arguments[1].indexOf(".svg")&&(this.element=new a(!0,arguments[1]),this.vertexCodes=
[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=j.ALPHA_MASK,this.strokeWeight=1,this.strokeCap=j.SQUARE,this.strokeJoin=j.MITER,this.strokeName=this.strokeGradientPaint=this.strokeGradient="",this.strokeOpacity=1,this.fill=!0,this.fillColor=j.ALPHA_MASK,this.fillGradientPaint=this.fillGradient=null,this.fillOpacity=1):arguments[0]&&(this.element=arguments[1],this.vertexCodes=arguments[0].vertexCodes.slice(),this.vertices=arguments[0].vertices.slice(),this.stroke=arguments[0].stroke,
this.strokeColor=arguments[0].strokeColor,this.strokeWeight=arguments[0].strokeWeight,this.strokeCap=arguments[0].strokeCap,this.strokeJoin=arguments[0].strokeJoin,this.strokeGradient=arguments[0].strokeGradient,this.strokeGradientPaint=arguments[0].strokeGradientPaint,this.strokeName=arguments[0].strokeName,this.fill=arguments[0].fill,this.fillColor=arguments[0].fillColor,this.fillGradient=arguments[0].fillGradient,this.fillGradientPaint=arguments[0].fillGradientPaint,this.fillName=arguments[0].fillName,
this.strokeOpacity=arguments[0].strokeOpacity,this.fillOpacity=arguments[0].fillOpacity,this.opacity=arguments[0].opacity));this.name=this.element.getStringAttribute("id");this.visible="none"!==this.element.getStringAttribute("display","inline");var b=this.element.getAttribute("transform");b&&(this.matrix=this.parseMatrix(b));b=this.element.getStringAttribute("viewBox");null!==b&&(b=b.split(" "),this.width=b[2],this.height=b[3]);var b=this.element.getStringAttribute("width"),d=this.element.getStringAttribute("height");
if(null!==b)this.width=this.parseUnitSize(b),this.height=this.parseUnitSize(d);else if(0===this.width||0===this.height)throw this.height=this.width=1,"The width and/or height is not readable in the \x3csvg\x3e tag of this file.";this.parseColors(this.element);this.parseChildren(this.element)};g.prototype=new o;var d=function(a){var b=[];a.replace(/\((.*?)\)/,function(a,c){b=c.replace(/,+/g," ").split(/\s+/)});return b};g.prototype.parseMatrix=function(a){this.checkMatrix(2);var g=[];a.replace(/\s*(\w+)\((.*?)\)/g,
function(a){g.push(b.trim(a))});if(0===g.length)return null;a=0;for(var k=g.length;a<k;a++){var c=d(g[a]);if(-1!==g[a].indexOf("matrix"))this.matrix.set(c[0],c[2],c[4],c[1],c[3],c[5]);else if(-1!==g[a].indexOf("translate"))this.matrix.translate(c[0],2===c.length?c[1]:0);else if(-1!==g[a].indexOf("scale"))this.matrix.scale(c[0],2===c.length?c[1]:c[0]);else if(-1!==g[a].indexOf("rotate")){var h=c[0];1===c.length?this.matrix.rotate(b.radians(h)):3===c.length&&(this.matrix.translate(c[1],c[2]),this.matrix.rotate(b.radians(c[0])),
this.matrix.translate(-c[1],-c[2]))}else-1!==g[a].indexOf("skewX")?this.matrix.skewX(parseFloat(c[0])):-1!==g[a].indexOf("skewY")?this.matrix.skewY(c[0]):-1!==g[a].indexOf("shearX")?this.matrix.shearX(c[0]):-1!==g[a].indexOf("shearY")&&this.matrix.shearY(c[0])}return this.matrix};g.prototype.parseChildren=function(a){a=a.getChildren();var b=new o,d,c;d=0;for(c=a.length;d<c;d++){var g=this.parseChild(a[d]);g&&b.addChild(g)}d=0;for(c=b.children.length;d<c;d++)this.children.push(b.children[d])};g.prototype.getName=
function(){return this.name};g.prototype.parseChild=function(a){var b=a.getName(),d;"g"===b?d=new g(this,a):"defs"===b?d=new g(this,a):"line"===b?(d=new g(this,a),d.parseLine()):"circle"===b?(d=new g(this,a),d.parseEllipse(!0)):"ellipse"===b?(d=new g(this,a),d.parseEllipse(!1)):"rect"===b?(d=new g(this,a),d.parseRect()):"polygon"===b?(d=new g(this,a),d.parsePoly(!0)):"polyline"===b?(d=new g(this,a),d.parsePoly(!1)):"path"===b?(d=new g(this,a),d.parsePath()):"radialGradient"===b?unimplemented("PShapeSVG.prototype.parseChild, name \x3d radialGradient"):
"linearGradient"===b?unimplemented("PShapeSVG.prototype.parseChild, name \x3d linearGradient"):"text"===b?unimplemented("PShapeSVG.prototype.parseChild, name \x3d text"):"filter"===b?unimplemented("PShapeSVG.prototype.parseChild, name \x3d filter"):"mask"===b&&unimplemented("PShapeSVG.prototype.parseChild, name \x3d mask");return d};g.prototype.parsePath=function(){this.family=j.PATH;this.kind=0;var a=b.trim(this.element.getStringAttribute("d").replace(/[\s,]+/g," "));if(null!==a)for(var a=a.split(""),
d=0,g=0,c=0,k=0,h=k=c=0,o=0,B=0,C=0,p=C=k=B=c=0,A=0,r="",y=[],ob=!1,K,db,v;p<a.length;)if(A=a[p].charCodeAt(0),65<=A&&90>=A||97<=A&&122>=A){v=p;p++;if(p<a.length){y=[];for(A=a[p].charCodeAt(0);!(65<=A&&90>=A||97<=A&&100>=A||102<=A&&122>=A)&&!1===ob;)32===A?""!==r&&(y.push(parseFloat(r)),r=""):45===A?101===a[p-1].charCodeAt(0)?r+=a[p].toString():(""!==r&&y.push(parseFloat(r)),r=a[p].toString()):r+=a[p].toString(),p++,p===a.length?ob=!0:A=a[p].charCodeAt(0)}""!==r&&(y.push(parseFloat(r)),r="");db=a[v];
A=db.charCodeAt(0);if(77===A){if(2<=y.length&&0===y.length%2&&(d=y[0],g=y[1],this.parsePathMoveto(d,g),2<y.length)){v=2;for(A=y.length;v<A;v+=2)d=y[v],g=y[v+1],this.parsePathLineto(d,g)}}else if(109===A){if(2<=y.length&&0===y.length%2&&(d+=y[0],g+=y[1],this.parsePathMoveto(d,g),2<y.length)){v=2;for(A=y.length;v<A;v+=2)d+=y[v],g+=y[v+1],this.parsePathLineto(d,g)}}else if(76===A){if(2<=y.length&&0===y.length%2){v=0;for(A=y.length;v<A;v+=2)d=y[v],g=y[v+1],this.parsePathLineto(d,g)}}else if(108===A){if(2<=
y.length&&0===y.length%2){v=0;for(A=y.length;v<A;v+=2)d+=y[v],g+=y[v+1],this.parsePathLineto(d,g)}}else if(72===A){v=0;for(A=y.length;v<A;v++)d=y[v],this.parsePathLineto(d,g)}else if(104===A){v=0;for(A=y.length;v<A;v++)d+=y[v],this.parsePathLineto(d,g)}else if(86===A){v=0;for(A=y.length;v<A;v++)g=y[v],this.parsePathLineto(d,g)}else if(118===A){v=0;for(A=y.length;v<A;v++)g+=y[v],this.parsePathLineto(d,g)}else if(67===A){if(6<=y.length&&0===y.length%6){v=0;for(A=y.length;v<A;v+=6)c=y[v],h=y[v+1],k=
y[v+2],o=y[v+3],B=y[v+4],C=y[v+5],this.parsePathCurveto(c,h,k,o,B,C),d=B,g=C}}else if(99===A){if(6<=y.length&&0===y.length%6){v=0;for(A=y.length;v<A;v+=6)c=d+y[v],h=g+y[v+1],k=d+y[v+2],o=g+y[v+3],B=d+y[v+4],C=g+y[v+5],this.parsePathCurveto(c,h,k,o,B,C),d=B,g=C}}else if(83===A){if(4<=y.length&&0===y.length%4){v=0;for(A=y.length;v<A;v+=4)"c"===K.toLowerCase()||"s"===K.toLowerCase()?(c=this.vertices[this.vertices.length-2][0],B=this.vertices[this.vertices.length-2][1],k=this.vertices[this.vertices.length-
1][0],C=this.vertices[this.vertices.length-1][1],c=k+(k-c),h=C+(C-B)):(c=this.vertices[this.vertices.length-1][0],h=this.vertices[this.vertices.length-1][1]),k=y[v],o=y[v+1],B=y[v+2],C=y[v+3],this.parsePathCurveto(c,h,k,o,B,C),d=B,g=C}}else if(115===A){if(4<=y.length&&0===y.length%4){v=0;for(A=y.length;v<A;v+=4)"c"===K.toLowerCase()||"s"===K.toLowerCase()?(c=this.vertices[this.vertices.length-2][0],B=this.vertices[this.vertices.length-2][1],k=this.vertices[this.vertices.length-1][0],C=this.vertices[this.vertices.length-
1][1],c=k+(k-c),h=C+(C-B)):(c=this.vertices[this.vertices.length-1][0],h=this.vertices[this.vertices.length-1][1]),k=d+y[v],o=g+y[v+1],B=d+y[v+2],C=g+y[v+3],this.parsePathCurveto(c,h,k,o,B,C),d=B,g=C}}else if(81===A){if(4<=y.length&&0===y.length%4){v=0;for(A=y.length;v<A;v+=4)c=y[v],k=y[v+1],B=y[v+2],C=y[v+3],this.parsePathQuadto(d,g,c,k,B,C),d=B,g=C}}else if(113===A){if(4<=y.length&&0===y.length%4){v=0;for(A=y.length;v<A;v+=4)c=d+y[v],k=g+y[v+1],B=d+y[v+2],C=g+y[v+3],this.parsePathQuadto(d,g,c,k,
B,C),d=B,g=C}}else if(84===A){if(2<=y.length&&0===y.length%2){v=0;for(A=y.length;v<A;v+=2)"q"===K.toLowerCase()||"t"===K.toLowerCase()?(c=this.vertices[this.vertices.length-2][0],B=this.vertices[this.vertices.length-2][1],k=this.vertices[this.vertices.length-1][0],C=this.vertices[this.vertices.length-1][1],c=k+(k-c),k=C+(C-B)):(c=d,k=g),B=y[v],C=y[v+1],this.parsePathQuadto(d,g,c,k,B,C),d=B,g=C}}else if(116===A){if(2<=y.length&&0===y.length%2){v=0;for(A=y.length;v<A;v+=2)"q"===K.toLowerCase()||"t"===
K.toLowerCase()?(c=this.vertices[this.vertices.length-2][0],B=this.vertices[this.vertices.length-2][1],k=this.vertices[this.vertices.length-1][0],C=this.vertices[this.vertices.length-1][1],c=k+(k-c),k=C+(C-B)):(c=d,k=g),B=d+y[v],C=g+y[v+1],this.parsePathQuadto(d,g,c,k,B,C),d=B,g=C}}else if(90===A||122===A)this.close=!0;K=db.toString()}else p++};g.prototype.parsePathQuadto=function(a,b,d,c,g,k){if(0<this.vertices.length)this.parsePathCode(j.BEZIER_VERTEX),this.parsePathVertex(a+2*(d-a)/3,b+2*(c-b)/
3),this.parsePathVertex(g+2*(d-g)/3,k+2*(c-k)/3),this.parsePathVertex(g,k);else throw"Path must start with M/m";};g.prototype.parsePathCurveto=function(a,b,d,c,g,k){if(0<this.vertices.length)this.parsePathCode(j.BEZIER_VERTEX),this.parsePathVertex(a,b),this.parsePathVertex(d,c),this.parsePathVertex(g,k);else throw"Path must start with M/m";};g.prototype.parsePathLineto=function(a,b){if(0<this.vertices.length)this.parsePathCode(j.VERTEX),this.parsePathVertex(a,b),this.vertices[this.vertices.length-
1].moveTo=!1;else throw"Path must start with M/m";};g.prototype.parsePathMoveto=function(a,b){0<this.vertices.length&&this.parsePathCode(j.BREAK);this.parsePathCode(j.VERTEX);this.parsePathVertex(a,b);this.vertices[this.vertices.length-1].moveTo=!0};g.prototype.parsePathVertex=function(a,b){var d=[];d[0]=a;d[1]=b;this.vertices.push(d)};g.prototype.parsePathCode=function(a){this.vertexCodes.push(a)};g.prototype.parsePoly=function(a){this.family=j.PATH;this.close=a;a=b.trim(this.element.getStringAttribute("points").replace(/[,\s]+/g,
" "));if(null!==a)if(a=a.split(" "),0===a.length%2)for(var d=0,g=a.length;d<g;d++){var c=[];c[0]=a[d];c[1]=a[++d];this.vertices.push(c)}else throw"Error parsing polygon points: odd number of coordinates provided";};g.prototype.parseRect=function(){this.kind=j.RECT;this.family=j.PRIMITIVE;this.params=[];this.params[0]=this.element.getFloatAttribute("x");this.params[1]=this.element.getFloatAttribute("y");this.params[2]=this.element.getFloatAttribute("width");this.params[3]=this.element.getFloatAttribute("height");
if(0>this.params[2]||0>this.params[3])throw"svg error: negative width or height found while parsing \x3crect\x3e";};g.prototype.parseEllipse=function(a){this.kind=j.ELLIPSE;this.family=j.PRIMITIVE;this.params=[];this.params[0]=this.element.getFloatAttribute("cx")|0;this.params[1]=this.element.getFloatAttribute("cy")|0;var b;if(a){if(a=b=this.element.getFloatAttribute("r"),0>a)throw"svg error: negative radius found while parsing \x3ccircle\x3e";}else if(a=this.element.getFloatAttribute("rx"),b=this.element.getFloatAttribute("ry"),
0>a||0>b)throw"svg error: negative x-axis radius or y-axis radius found while parsing \x3cellipse\x3e";this.params[0]-=a;this.params[1]-=b;this.params[2]=2*a;this.params[3]=2*b};g.prototype.parseLine=function(){this.kind=j.LINE;this.family=j.PRIMITIVE;this.params=[];this.params[0]=this.element.getFloatAttribute("x1");this.params[1]=this.element.getFloatAttribute("y1");this.params[2]=this.element.getFloatAttribute("x2");this.params[3]=this.element.getFloatAttribute("y2")};g.prototype.parseColors=function(a){a.hasAttribute("opacity")&&
this.setOpacity(a.getAttribute("opacity"));a.hasAttribute("stroke")&&this.setStroke(a.getAttribute("stroke"));a.hasAttribute("stroke-width")&&this.setStrokeWeight(a.getAttribute("stroke-width"));a.hasAttribute("stroke-linejoin")&&this.setStrokeJoin(a.getAttribute("stroke-linejoin"));a.hasAttribute("stroke-linecap")&&this.setStrokeCap(a.getStringAttribute("stroke-linecap"));a.hasAttribute("fill")&&this.setFill(a.getStringAttribute("fill"));if(a.hasAttribute("style")){a=a.getStringAttribute("style").toString().split(";");
for(var d=0,g=a.length;d<g;d++){var c=b.trim(a[d].split(":"));"fill"===c[0]?this.setFill(c[1]):"fill-opacity"===c[0]?this.setFillOpacity(c[1]):"stroke"===c[0]?this.setStroke(c[1]):"stroke-width"===c[0]?this.setStrokeWeight(c[1]):"stroke-linecap"===c[0]?this.setStrokeCap(c[1]):"stroke-linejoin"===c[0]?this.setStrokeJoin(c[1]):"stroke-opacity"===c[0]?this.setStrokeOpacity(c[1]):"opacity"===c[0]&&this.setOpacity(c[1])}}};g.prototype.setFillOpacity=function(a){this.fillOpacity=parseFloat(a);this.fillColor=
255*this.fillOpacity<<24|this.fillColor&16777215};g.prototype.setFill=function(a){var b=this.fillColor&4278190080;"none"===a?this.fill=!1:0===a.indexOf("#")?(this.fill=!0,4===a.length&&(a=a.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.fillColor=b|parseInt(a.substring(1),16)&16777215):0===a.indexOf("rgb")?(this.fill=!0,this.fillColor=b|this.parseRGB(a)):0===a.indexOf("url(#")?this.fillName=a.substring(5,a.length-1):k[a]&&(this.fill=!0,this.fillColor=b|parseInt(k[a].substring(1),16)&16777215)};g.prototype.setOpacity=
function(a){this.strokeColor=255*parseFloat(a)<<24|this.strokeColor&16777215;this.fillColor=255*parseFloat(a)<<24|this.fillColor&16777215};g.prototype.setStroke=function(a){var b=this.strokeColor&4278190080;"none"===a?this.stroke=!1:"#"===a.charAt(0)?(this.stroke=!0,4===a.length&&(a=a.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.strokeColor=b|parseInt(a.substring(1),16)&16777215):0===a.indexOf("rgb")?(this.stroke=!0,this.strokeColor=b|this.parseRGB(a)):0===a.indexOf("url(#")?this.strokeName=a.substring(5,
a.length-1):k[a]&&(this.stroke=!0,this.strokeColor=b|parseInt(k[a].substring(1),16)&16777215)};g.prototype.setStrokeWeight=function(a){this.strokeWeight=this.parseUnitSize(a)};g.prototype.setStrokeJoin=function(a){"miter"===a?this.strokeJoin=j.MITER:"round"===a?this.strokeJoin=j.ROUND:"bevel"===a&&(this.strokeJoin=j.BEVEL)};g.prototype.setStrokeCap=function(a){"butt"===a?this.strokeCap=j.SQUARE:"round"===a?this.strokeCap=j.ROUND:"square"===a&&(this.strokeCap=j.PROJECT)};g.prototype.setStrokeOpacity=
function(a){this.strokeOpacity=parseFloat(a);this.strokeColor=255*this.strokeOpacity<<24|this.strokeColor&16777215};g.prototype.parseRGB=function(a){a=a.substring(a.indexOf("(")+1,a.indexOf(")")).split(", ");return a[0]<<16|a[1]<<8|a[2]};g.prototype.parseUnitSize=function(a){var b=a.length-2;return 0>b?a:a.indexOf("pt")===b?1.25*parseFloat(a.substring(0,b)):a.indexOf("pc")===b?15*parseFloat(a.substring(0,b)):a.indexOf("mm")===b?3.543307*parseFloat(a.substring(0,b)):a.indexOf("cm")===b?35.43307*parseFloat(a.substring(0,
b)):a.indexOf("in")===b?90*parseFloat(a.substring(0,b)):a.indexOf("px")===b?parseFloat(a.substring(0,b)):parseFloat(a)};return g}},{}],18:[function(j,r){r.exports=function(h,b){function j(a,b,i){this.x=a||0;this.y=b||0;this.z=i||0}function o(a){return function(b,i){var k=b.get();k[a](i);return k}}var a=h.PConstants;j.fromAngle=function(a,d){if(d===b||null===d)d=new j;d.x=Math.cos(a);d.y=Math.sin(a);return d};j.random2D=function(b){return j.fromAngle(Math.random()*a.TWO_PI,b)};j.random3D=function(g){var d=
Math.random()*a.TWO_PI,i=2*Math.random()-1,k=Math.sqrt(1-i*i),h=k*Math.cos(d),d=k*Math.sin(d);g===b||null===g?g=new j(h,d,i):g.set(h,d,i);return g};j.dist=function(a,b){return a.dist(b)};j.dot=function(a,b){return a.dot(b)};j.cross=function(a,b){return a.cross(b)};j.sub=function(a,b){return new j(a.x-b.x,a.y-b.y,a.z-b.z)};j.angleBetween=function(a,b){return Math.acos(a.dot(b)/(a.mag()*b.mag()))};j.lerp=function(a,b,i){a=new j(a.x,a.y,a.z);a.lerp(b,i);return a};j.prototype={set:function(a,b,i){1===
arguments.length?this.set(a.x||a[0]||0,a.y||a[1]||0,a.z||a[2]||0):(this.x=a,this.y=b,this.z=i)},get:function(){return new j(this.x,this.y,this.z)},mag:function(){var a=this.x,b=this.y,i=this.z;return Math.sqrt(a*a+b*b+i*i)},magSq:function(){var a=this.x,b=this.y,i=this.z;return a*a+b*b+i*i},setMag:function(a,d){if(d===b)d=a,this.normalize(),this.mult(d);else return a.normalize(),a.mult(d),a},add:function(a,b,i){1===arguments.length?(this.x+=a.x,this.y+=a.y,this.z+=a.z):(this.x+=a,this.y+=b,this.z+=
i)},sub:function(a,b,i){1===arguments.length?(this.x-=a.x,this.y-=a.y,this.z-=a.z):(this.x-=a,this.y-=b,this.z-=i)},mult:function(a){"number"===typeof a?(this.x*=a,this.y*=a,this.z*=a):(this.x*=a.x,this.y*=a.y,this.z*=a.z)},div:function(a){"number"===typeof a?(this.x/=a,this.y/=a,this.z/=a):(this.x/=a.x,this.y/=a.y,this.z/=a.z)},rotate:function(a){var b=this.x,i=Math.cos(a);a=Math.sin(a);this.x=i*this.x-a*this.y;this.y=a*b+i*this.y},dist:function(a){var b=this.x-a.x,i=this.y-a.y;a=this.z-a.z;return Math.sqrt(b*
b+i*i+a*a)},dot:function(a,b,i){return 1===arguments.length?this.x*a.x+this.y*a.y+this.z*a.z:this.x*a+this.y*b+this.z*i},cross:function(a){var b=this.x,i=this.y,k=this.z;return new j(i*a.z-a.y*k,k*a.x-a.z*b,b*a.y-a.x*i)},lerp:function(a,b,i,k){var h,c;2===arguments.length?(k=b,h=a.x,c=a.y,i=a.z):(h=a,c=b);this.x+=(h-this.x)*k;this.y+=(c-this.y)*k;this.z+=(i-this.z)*k},normalize:function(){var a=this.mag();0<a&&this.div(a)},limit:function(a){this.mag()>a&&(this.normalize(),this.mult(a))},heading:function(){return-Math.atan2(-this.y,
this.x)},heading2D:function(){return this.heading()},toString:function(){return"["+this.x+", "+this.y+", "+this.z+"]"},array:function(){return[this.x,this.y,this.z]}};for(var k in j.prototype)j.prototype.hasOwnProperty(k)&&!j.hasOwnProperty(k)&&(j[k]=o(k));return j}},{}],19:[function(j,r){r.exports=function(){var h=function(b,h,j,a,k){this.fullName=b||"";this.name=h||"";this.namespace=j||"";this.value=a;this.type=k};h.prototype={getName:function(){return this.name},getFullName:function(){return this.fullName},
getNamespace:function(){return this.namespace},getValue:function(){return this.value},getType:function(){return this.type},setValue:function(b){this.value=b}};return h}},{}],20:[function(j,r){r.exports=function(h,b){var j=h.Browser,o=j.ajax,a=j.window.DOMParser,k=h.XMLAttribute,g=function(a,g,k,h){this.attributes=[];this.children=[];this.name=this.fullName=null;this.namespace="";this.parent=this.content=null;this.systemID=this.lineNr="";this.type="ELEMENT";a&&("string"===typeof a?g===b&&-1<a.indexOf("\x3c")?
this.parse(a):(this.fullName=a,this.namespace=g,this.systemId=k,this.lineNr=h):this.parse(g,!0))};g.prototype={parse:function(b,g){var k;try{b.substring(b.length-4);g&&(b=o(b));k=(new a).parseFromString(b,"text/xml");var h=k.documentElement;if(h)this.parseChildrenRecursive(null,h);else throw"Error loading document";return this}catch(c){throw c;}},parseChildrenRecursive:function(a,b){var h,j,c,o;a?(h=new g(b.nodeName),h.parent=a):(this.fullName=b.localName,this.name=b.nodeName,h=this);if(3===b.nodeType&&
""!==b.textContent)return this.createPCDataElement(b.textContent);if(4===b.nodeType)return this.createCDataElement(b.textContent);if(b.attributes){c=0;for(o=b.attributes.length;c<o;c++)j=b.attributes[c],j=new k(j.getname,j.nodeName,j.namespaceURI,j.nodeValue,j.nodeType),h.attributes.push(j)}if(b.childNodes){c=0;for(o=b.childNodes.length;c<o;c++)j=h.parseChildrenRecursive(h,b.childNodes[c]),null!==j&&h.children.push(j)}return h},createElement:function(a,i,k,h){return k===b?new g(a,i):new g(a,i,k,h)},
createPCDataElement:function(a){if(""===a.replace(/^\s+$/g,""))return null;var b=new g;b.type="TEXT";b.content=a;return b},createCDataElement:function(a){var b=this.createPCDataElement(a);if(null===b)return null;b.type="CDATA";var g={"\x3c":"\x26lt;","\x3e":"\x26gt;","'":"\x26apos;",'"':"\x26quot;"},k;for(k in g)Object.hasOwnProperty(g,k)||(a=a.replace(RegExp(k,"g"),g[k]));b.cdata=a;return b},hasAttribute:function(){if(1===arguments.length)return null!==this.getAttribute(arguments[0]);if(2===arguments.length)return null!==
this.getAttribute(arguments[0],arguments[1])},equals:function(a){if(!(a instanceof g))return!1;var b,k;if(this.fullName!==a.fullName||this.attributes.length!==a.getAttributeCount()||this.attributes.length!==a.attributes.length)return!1;var h,c;b=0;for(k=this.attributes.length;b<k;b++)if(h=this.attributes[b].getName(),c=this.attributes[b].getNamespace(),h=a.findAttribute(h,c),null===h||this.attributes[b].getValue()!==h.getValue()||this.attributes[b].getType()!==h.getType())return!1;if(this.children.length!==
a.getChildCount())return!1;if(0<this.children.length){b=0;for(k=this.children.length;b<k;b++)if(h=this.getChild(b),c=a.getChild(b),!h.equals(c))return!1;return!0}return this.content===a.content},getContent:function(){if("TEXT"===this.type||"CDATA"===this.type)return this.content;var a=this.children;return 1===a.length&&("TEXT"===a[0].type||"CDATA"===a[0].type)?a[0].content:null},getAttribute:function(){var a;if(2===arguments.length)return(a=this.findAttribute(arguments[0]))?a.getValue():arguments[1];
if(1===arguments.length)return(a=this.findAttribute(arguments[0]))?a.getValue():null;if(3===arguments.length)return(a=this.findAttribute(arguments[0],arguments[1]))?a.getValue():arguments[2]},getStringAttribute:function(){return 1===arguments.length?this.getAttribute(arguments[0]):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getString:function(a){return this.getStringAttribute(a)},getFloatAttribute:function(){return 1===
arguments.length?parseFloat(this.getAttribute(arguments[0],0)):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getFloat:function(a){return this.getFloatAttribute(a)},getIntAttribute:function(){return 1===arguments.length?this.getAttribute(arguments[0],0):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getInt:function(a){return this.getIntAttribute(a)},
hasChildren:function(){return 0<this.children.length},addChild:function(a){null!==a&&(a.parent=this,this.children.push(a))},insertChild:function(a,b){if(a){if(null===a.getLocalName()&&!this.hasChildren()){var g=this.children[this.children.length-1];if(null===g.getLocalName()){g.setContent(g.getContent()+a.getContent());return}}a.parent=this;this.children.splice(b,0,a)}},getChild:function(a){if("number"===typeof a)return this.children[a];if(-1!==a.indexOf("/"))return this.getChildRecursive(a.split("/"),
0);for(var b,g,k=0,c=this.getChildCount();k<c;k++)if(b=this.getChild(k),g=b.getName(),null!==g&&g===a)return b;return null},getChildren:function(){if(1===arguments.length){if("number"===typeof arguments[0])return this.getChild(arguments[0]);if(-1!==arguments[0].indexOf("/"))return this.getChildrenRecursive(arguments[0].split("/"),0);for(var a=[],b,g,k=0,c=this.getChildCount();k<c;k++)b=this.getChild(k),g=b.getName(),null!==g&&g===arguments[0]&&a.push(b);return a}return this.children},getChildCount:function(){return this.children.length},
getChildRecursive:function(a,b){if(b===a.length)return this;for(var g,k,c=a[b],h=0,j=this.getChildCount();h<j;h++)if(g=this.getChild(h),k=g.getName(),null!==k&&k===c)return g.getChildRecursive(a,b+1);return null},getChildrenRecursive:function(a,b){if(b===a.length-1)return this.getChildren(a[b]);for(var g=this.getChildren(a[b]),k=[],c=0;c<g.length;c++)k=k.concat(g[c].getChildrenRecursive(a,b+1));return k},isLeaf:function(){return!this.hasChildren()},listChildren:function(){for(var a=[],b=0,g=this.children.length;b<
g;b++)a.push(this.getChild(b).getName());return a},removeAttribute:function(a,b){this.namespace=b||"";for(var g=0,k=this.attributes.length;g<k;g++)if(this.attributes[g].getName()===a&&this.attributes[g].getNamespace()===this.namespace){this.attributes.splice(g,1);break}},removeChild:function(a){if(a)for(var b=0,g=this.children.length;b<g;b++)if(this.children[b].equals(a)){this.children.splice(b,1);break}},removeChildAtIndex:function(a){this.children.length>a&&this.children.splice(a,1)},findAttribute:function(a,
b){this.namespace=b||"";for(var g=0,k=this.attributes.length;g<k;g++)if(this.attributes[g].getName()===a&&this.attributes[g].getNamespace()===this.namespace)return this.attributes[g];return null},setAttribute:function(){var a;if(3===arguments.length){a=arguments[0].indexOf(":");var b=arguments[0].substring(a+1);(a=this.findAttribute(b,arguments[1]))?a.setValue(arguments[2]):(a=new k(arguments[0],b,arguments[1],arguments[2],"CDATA"),this.attributes.push(a))}else(a=this.findAttribute(arguments[0]))?
a.setValue(arguments[1]):(a=new k(arguments[0],arguments[0],null,arguments[1],"CDATA"),this.attributes.push(a))},setString:function(a,b){this.setAttribute(a,b)},setInt:function(a,b){this.setAttribute(a,b)},setFloat:function(a,b){this.setAttribute(a,b)},setContent:function(a){0<this.children.length&&Processing.debug("Tried to set content for XMLElement with children");this.content=a},setName:function(){if(1===arguments.length)this.name=arguments[0],this.fullName=arguments[0],this.namespace=null;else{var a=
arguments[0].indexOf(":");this.name=null===arguments[1]||0>a?arguments[0]:arguments[0].substring(a+1);this.fullName=arguments[0];this.namespace=arguments[1]}},getName:function(){return this.fullName},getLocalName:function(){return this.name},getAttributeCount:function(){return this.attributes.length},toString:function(){if("TEXT"===this.type)return this.content||"";if("CDATA"===this.type)return this.cdata||"";var a=this.fullName,b="\x3c"+a,g;for(g=0;g<this.attributes.length;g++)var k=this.attributes[g],
b=b+(" "+k.getName()+'\x3d"'+k.getValue()+'"');if(0===this.children.length)b=""===this.content||null===this.content||void 0===this.content?b+"/\x3e":b+("\x3e"+this.content+"\x3c/"+a+"\x3e");else{b+="\x3e";for(g=0;g<this.children.length;g++)b+=this.children[g].toString();b+="\x3c/"+a+"\x3e"}return b}};g.parse=function(a){var b=new g;b.parse(a);return b};return g}},{}],21:[function(j,r){r.exports={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",
bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",
darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",
ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",
mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",
papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",
violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},{}],22:[function(j,r){r.exports=function(h,b,j){return function(o,a){o.__contains=function(b,g){return"string"!==typeof b?b.contains.apply(b,a(arguments)):null!==b&&null!==g&&"string"===typeof g&&-1<b.indexOf(g)};o.__replaceAll=function(b,g,d){return"string"!==typeof b?b.replaceAll.apply(b,a(arguments)):b.replace(RegExp(g,"g"),d)};o.__replaceFirst=function(b,g,d){return"string"!==typeof b?
b.replaceFirst.apply(b,a(arguments)):b.replace(RegExp(g,""),d)};o.__replace=function(b,g,d){if("string"!==typeof b)return b.replace.apply(b,a(arguments));if(g instanceof RegExp)return b.replace(g,d);"string"!==typeof g&&(g=g.toString());if(""===g)return b;var h=b.indexOf(g);if(0>h)return b;var j=0,o="";do o+=b.substring(j,h)+d,j=h+g.length;while(0<=(h=b.indexOf(g,j)));return o+b.substring(j)};o.__equals=function(k,g){return k.equals instanceof Function?k.equals.apply(k,a(arguments)):b(k,g)};o.__equalsIgnoreCase=
function(b,g){return"string"!==typeof b?b.equalsIgnoreCase.apply(b,a(arguments)):b.toLowerCase()===g.toLowerCase()};o.__toCharArray=function(b){if("string"!==typeof b)return b.toCharArray.apply(b,a(arguments));for(var g=[],d=0,h=b.length;d<h;++d)g[d]=new Char(b.charAt(d));return g};o.__split=function(b,g,d){if("string"!==typeof b)return b.split.apply(b,a(arguments));var h=RegExp(g);if(d===j||1>d)return b.split(h);for(var q=[],o=b,c;-1!==(c=o.search(h))&&q.length<d-1;){var r=h.exec(o).toString();q.push(o.substring(0,
c));o=o.substring(c+r.length)}(-1!==c||""!==o)&&q.push(o);return q};o.__codePointAt=function(a,b){var d=a.charCodeAt(b),h;return 55296<=d&&56319>=d?(h=a.charCodeAt(b+1),1024*(d-55296)+(h-56320)+65536):d};o.__matches=function(a,b){return RegExp(b).test(a)};o.__startsWith=function(b,g,d){if("string"!==typeof b)return b.startsWith.apply(b,a(arguments));d=d||0;return 0>d||d>b.length?!1:""===g||g===b?!0:b.indexOf(g)===d};o.__endsWith=function(b,g){if("string"!==typeof b)return b.endsWith.apply(b,a(arguments));
var d=g?g.length:0;return""===g||g===b?!0:b.indexOf(g)===b.length-d};o.__hashCode=function(b){return b.hashCode instanceof Function?b.hashCode.apply(b,a(arguments)):h(b)};o.__printStackTrace=function(a){o.println("Exception: "+a.toString())}}}},{}],23:[function(j,r){r.exports=function(h,b){function j(a,b){var c=a||362436069,d=b||521288629,g=function(){c=36969*(c&65535)+(c>>>16)&4294967295;d=18E3*(d&65535)+(d>>>16)&4294967295;return((c&65535)<<16|d&65535)&4294967295};this.doubleGenerator=function(){var a=
g()/4294967296;return 0>a?1+a:a};this.intGenerator=g}function o(a){function d(a,b,c,g){a&=15;var h=8>a?b:c;b=4>a?c:12===a||14===a?b:g;return(0===(a&1)?h:-h)+(0===(a&2)?b:-b)}function c(a,b,c){b=0===(a&1)?b:c;return 0===(a&2)?-b:b}function g(a,b,c){return b+a*(c-b)}a=a!==b?new j(a,(a<<16)+(a>>16)):j.createRandomized();var h,k,i=new Uint8Array(512);for(h=0;256>h;++h)i[h]=h;for(h=0;256>h;++h){var o=i[k=a.intGenerator()&255];i[k]=i[h];i[h]=o}for(h=0;256>h;++h)i[h+256]=i[h];this.noise3d=function(a,b,c){var h=
Math.floor(a)&255,k=Math.floor(b)&255,j=Math.floor(c)&255;a-=Math.floor(a);b-=Math.floor(b);c-=Math.floor(c);var q=(3-2*a)*a*a,o=(3-2*b)*b*b,u=i[h]+k,r=i[u]+j,u=i[u+1]+j,k=i[h+1]+k,h=i[k]+j,j=i[k+1]+j;return g((3-2*c)*c*c,g(o,g(q,d(i[r],a,b,c),d(i[h],a-1,b,c)),g(q,d(i[u],a,b-1,c),d(i[j],a-1,b-1,c))),g(o,g(q,d(i[r+1],a,b,c-1),d(i[h+1],a-1,b,c-1)),g(q,d(i[u+1],a,b-1,c-1),d(i[j+1],a-1,b-1,c-1))))};this.noise2d=function(a,b){var d=Math.floor(a)&255,h=Math.floor(b)&255;a-=Math.floor(a);b-=Math.floor(b);
var k=(3-2*a)*a*a,j=i[d]+h,d=i[d+1]+h;return g((3-2*b)*b*b,g(k,c(i[j],a,b),c(i[d],a-1,b)),g(k,c(i[j+1],a,b-1),c(i[d+1],a-1,b-1)))};this.noise1d=function(a){var b=Math.floor(a)&255;a-=Math.floor(a);return g((3-2*a)*a*a,0===(i[b]&1)?-a:a,0===(i[b+1]&1)?-(a-1):a-1)}}var a=function(){return Math.random()};h.abs=Math.abs;h.ceil=Math.ceil;h.exp=Math.exp;h.floor=Math.floor;h.log=Math.log;h.pow=Math.pow;h.round=Math.round;h.sqrt=Math.sqrt;h.acos=Math.acos;h.asin=Math.asin;h.atan=Math.atan;h.atan2=Math.atan2;
h.cos=Math.cos;h.sin=Math.sin;h.tan=Math.tan;h.constrain=function(a,b,c){return a>c?c:a<b?b:a};h.dist=function(){var a,b,c;if(4===arguments.length)return a=arguments[0]-arguments[2],b=arguments[1]-arguments[3],Math.sqrt(a*a+b*b);if(6===arguments.length)return a=arguments[0]-arguments[3],b=arguments[1]-arguments[4],c=arguments[2]-arguments[5],Math.sqrt(a*a+b*b+c*c)};h.lerp=function(a,b,c){return(b-a)*c+a};h.mag=function(a,b,c){return c?Math.sqrt(a*a+b*b+c*c):Math.sqrt(a*a+b*b)};h.map=function(a,b,
c,d,g){return d+(g-d)*((a-b)/(c-b))};h.max=function(){if(2===arguments.length)return arguments[0]<arguments[1]?arguments[1]:arguments[0];var a=1===arguments.length?arguments[0]:arguments;if(!("length"in a&&0<a.length))throw"Non-empty array is expected";for(var b=a[0],c=a.length,d=1;d<c;++d)b<a[d]&&(b=a[d]);return b};h.min=function(){if(2===arguments.length)return arguments[0]<arguments[1]?arguments[0]:arguments[1];var a=1===arguments.length?arguments[0]:arguments;if(!("length"in a&&0<a.length))throw"Non-empty array is expected";
for(var b=a[0],c=a.length,d=1;d<c;++d)b>a[d]&&(b=a[d]);return b};h.norm=function(a,b,c){return(a-b)/(c-b)};h.sq=function(a){return a*a};h.degrees=function(a){return 180*a/Math.PI};h.random=function(){if(0===arguments.length)return a();if(1===arguments.length)return a()*arguments[0];var b=arguments[0],d=arguments[1];return a()*(d-b)+b};j.createRandomized=function(){var a=new Date;return new j(a/6E4&4294967295,a&4294967295)};h.randomSeed=function(b){a=(new j(b,(b<<16)+(b>>16))).doubleGenerator;this.haveNextNextGaussian=
!1};h.randomGaussian=function(){if(this.haveNextNextGaussian)return this.haveNextNextGaussian=!1,this.nextNextGaussian;var b,d,c;do b=2*a()-1,d=2*a()-1,c=b*b+d*d;while(1<=c||0===c);c=Math.sqrt(-2*Math.log(c)/c);this.nextNextGaussian=d*c;this.haveNextNextGaussian=!0;return b*c};var k=b,g=4,d=0.5,i=b;h.noise=function(a,h,c){k===b&&(k=new o(i));for(var j=k,u=1,r=1,B=0,C=0;C<g;++C){u*=d;switch(arguments.length){case 1:B+=u*(1+j.noise1d(r*a))/2;break;case 2:B+=u*(1+j.noise2d(r*a,r*h))/2;break;case 3:B+=
u*(1+j.noise3d(r*a,r*h,r*c))/2}r*=2}return B};h.noiseDetail=function(a,h){g=a;h!==b&&(d=h)};h.noiseSeed=function(a){i=a;k=b}}},{}],24:[function(j,r){var h={trim:function(b){if(b instanceof Array){for(var h=[],j=0;j<b.length;j++)h.push(b[j].replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,""));return h}return b.replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,"")},radians:function(b){return b/180*Math.PI},nfCoreScalar:function(b,h,j,a,k,g){h=0>b?j:h;j=0===k;k=void 0===k||0>k?0:k;b=Math.abs(b);
if(j){k=1;for(b*=10;1E-6<Math.abs(Math.round(b)-b)&&7>k;)++k,b*=10}else 0!==k&&(b*=Math.pow(10,k));j=2*b;Math.floor(b)===b?j=b:Math.floor(j)===j?(b=Math.floor(b),j=b+b%2):j=Math.round(b);b="";for(a+=k;0<a||0<j;)a--,b=""+j%10+b,j=Math.floor(j/10);if(void 0!==g)for(a=b.length-3-k;0<a;)b=b.substring(0,a)+g+b.substring(a),a-=3;return 0<k?h+b.substring(0,b.length-k)+"."+b.substring(b.length-k,b.length):h+b},nfCore:function(b,j,o,a,k,g){if(b instanceof Array){for(var d=[],i=0,q=b.length;i<q;i++)d.push(h.nfCoreScalar(b[i],
j,o,a,k,g));return d}return h.nfCoreScalar(b,j,o,a,k,g)},nf:function(b,j,o){return h.nfCore(b,"","-",j,o)},nfs:function(b,j,o){return h.nfCore(b," ","-",j,o)},nfp:function(b,j,o){return h.nfCore(b,"+","-",j,o)},nfc:function(b,j){return h.nfCore(b,"","-",0,j,",")},withCommonFunctions:function(b){"trim radians nf nfs nfp nfc".split(" ").forEach(function(j){b[j]=h[j]})}};r.exports=h},{}],25:[function(j,r){r.exports=function(h,b,j,o,a,k){function g(a){var b=a,c=0,d=0;h.pmouseX=h.mouseX;h.pmouseY=h.mouseY;
if(b.offsetParent){do c+=b.offsetLeft,d+=b.offsetTop;while(b=b.offsetParent)}b=a;do c-=b.scrollLeft||0,d-=b.scrollTop||0;while(b=b.parentNode);var g,j,k,i;o.defaultView&&o.defaultView.getComputedStyle&&(g=parseInt(o.defaultView.getComputedStyle(a,null).paddingLeft,10)||0,j=parseInt(o.defaultView.getComputedStyle(a,null).paddingTop,10)||0,k=parseInt(o.defaultView.getComputedStyle(a,null).borderLeftWidth,10)||0,i=parseInt(o.defaultView.getComputedStyle(a,null).borderTopWidth,10)||0);c=c+g+k;d=d+j+i;
c+=window.pageXOffset;d+=window.pageYOffset;return{X:c,Y:d}}function d(a,b){var c=g(a,b);h.mouseX=b.pageX-c.X;h.mouseY=b.pageY-c.Y}function i(a){var b=g(a.changedTouches[0].target,a.changedTouches[0]),c;for(c=0;c<a.touches.length;c++){var d=a.touches[c];d.offsetX=d.pageX-b.X;d.offsetY=d.pageY-b.Y}for(c=0;c<a.targetTouches.length;c++)d=a.targetTouches[c],d.offsetX=d.pageX-b.X,d.offsetY=d.pageY-b.Y;for(c=0;c<a.changedTouches.length;c++)d=a.changedTouches[c],d.offsetX=d.pageX-b.X,d.offsetY=d.pageY-b.Y;
return a}j(b,"touchstart",function(c){b.setAttribute("style","-webkit-user-select: none");b.setAttribute("onclick","void(0)");b.setAttribute("style","-webkit-tap-highlight-color:rgba(0,0,0,0)");for(var g=0,o=eventHandlers.length;g<o;g++){var q=eventHandlers[g].type;("mouseout"===q||"mousemove"===q||"mousedown"===q||"mouseup"===q||"DOMMouseScroll"===q||"mousewheel"===q||"touchstart"===q)&&detachEventHandler(eventHandlers[g])}h.touchStart!==k||h.touchMove!==k||h.touchEnd!==k||h.touchCancel!==k?(j(b,
"touchstart",function(a){h.touchStart!==k&&(a=i(a),h.touchStart(a))}),j(b,"touchmove",function(a){h.touchMove!==k&&(a.preventDefault(),a=i(a),h.touchMove(a))}),j(b,"touchend",function(a){h.touchEnd!==k&&(a=i(a),h.touchEnd(a))}),j(b,"touchcancel",function(a){h.touchCancel!==k&&(a=i(a),h.touchCancel(a))})):(j(b,"touchstart",function(c){d(b,c.touches[0]);h.__mousePressed=!0;h.mouseDragging=!1;h.mouseButton=a.LEFT;"function"===typeof h.mousePressed&&h.mousePressed()}),j(b,"touchmove",function(a){a.preventDefault();
d(b,a.touches[0]);"function"===typeof h.mouseMoved&&!h.__mousePressed&&h.mouseMoved();"function"===typeof h.mouseDragged&&h.__mousePressed&&(h.mouseDragged(),h.mouseDragging=!0)}),j(b,"touchend",function(){h.__mousePressed=!1;"function"===typeof h.mouseClicked&&!h.mouseDragging&&h.mouseClicked();"function"===typeof h.mouseReleased&&h.mouseReleased()}));b.dispatchEvent(c)});var q=!0,r=function(a){a.preventDefault();a.stopPropagation()};h.disableContextMenu=function(){q&&(j(b,"contextmenu",r),q=!1)};
h.enableContextMenu=function(){q||(detachEventHandler({elem:b,type:"contextmenu",fn:r}),q=!0)};j(b,"mousemove",function(a){d(b,a);"function"===typeof h.mouseMoved&&!h.__mousePressed&&h.mouseMoved();"function"===typeof h.mouseDragged&&h.__mousePressed&&(h.mouseDragged(),h.mouseDragging=!0)});j(b,"mouseout",function(){"function"===typeof h.mouseOut&&h.mouseOut()});j(b,"mouseover",function(a){d(b,a);"function"===typeof h.mouseOver&&h.mouseOver()});b.onmousedown=function(){b.focus();return!1};j(b,"mousedown",
function(b){h.__mousePressed=!0;h.mouseDragging=!1;switch(b.which){case 1:h.mouseButton=a.LEFT;break;case 2:h.mouseButton=a.CENTER;break;case 3:h.mouseButton=a.RIGHT}"function"===typeof h.mousePressed&&h.mousePressed()});j(b,"mouseup",function(){h.__mousePressed=!1;"function"===typeof h.mouseClicked&&!h.mouseDragging&&h.mouseClicked();"function"===typeof h.mouseReleased&&h.mouseReleased()});var c=function(a){var b=0;a.wheelDelta?(b=a.wheelDelta/120,window.opera&&(b=-b)):a.detail&&(b=-a.detail/3);
(h.mouseScroll=b)&&"function"===typeof h.mouseScrolled&&h.mouseScrolled()};j(o,"DOMMouseScroll",c);j(o,"mousewheel",c)}},{}],26:[function(j,r){r.exports=function(h,b){var r=b.defaultScope,o=r.PConstants,a=b.aFunctions,k=b.Browser.document;h.compile=function(b){var g=new h.Sketch,j=RegExp(/\/\*\s*@pjs\s+((?:[^\*]|\*+[^\*\/])*)\*\//g).exec(b);if(j&&2===j.length)for(var k=[],c=j.splice(1,2)[0].replace(/\{([\s\S]*?)\}/g,function(a,b){k.push(b);return"{"+(k.length-1)+"}"}).replace("\n","").replace("\r",
"").split(";"),Z=function(a){return a.replace(/^\s*["']?/,"").replace(/["']?\s*$/,"")},Va=0,Da=c.length;Va<Da;Va++){var B=c[Va].split("\x3d");if(B&&2===B.length){var C=Z(B[0]),p=Z(B[1]),A=[];if("preload"===C)for(var A=p.split(","),rc=0,y=A.length;rc<y;rc++){var ob=Z(A[rc]);g.imageCache.add(ob)}else if("font"===C)for(var A=p.split(","),K=0,db=A.length;K<db;K++){var v=Z(A[K]),pb=/^\{(\d*?)\}$/.exec(v);PFont.preloading.add(pb?JSON.parse("{"+k[pb[1]]+"}"):v)}else"pauseOnBlur"===C?g.options.pauseOnBlur=
"true"===p:"globalKeyEvents"===C?g.options.globalKeyEvents="true"===p:"param-"===C.substring(0,6)?g.params[C.substring(6)]=p:g.options[C]=p}}var Bb,Cb=function(a){var b=/^\s*/.exec(a);if(b[0].length===a.length)a={left:b[0],middle:"",right:""};else{var c=/\s*$/.exec(a);a={left:b[0],middle:a.substring(b[0].length,c.index),right:c[0]}}a.untrim=function(a){return this.left+a+this.right};return a},Wa=function(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")},sc=function(a,b){for(var c=0,f=b.length;c<
f;++c)a[b[c]]=null;return a},dc=function(a){return a.substring(2,a.length-1)},sa=function(a,b){var c=N.length;N.push(a);return'"'+b+c+'"'},Wc=function(a){a=a.replace(za,function(a){return sa(a,"E")});a=a.replace(Ea,function(a){return sa(a,"D")});return a=a.replace(Pb,function(a){return sa(a,"H")})},V=function(a,b){return a.replace(Kc,function(a,c,f){return f!==b?a:sa(a,"G")})},aa=function(a){this.name=a},pa=function(a,b){this.params=a;this.methodArgsParam=b},qa=function(a){var b=Wa(a.substring(1,
a.length-1));a=[];var c=null;if(""!==b)for(var b=b.split(","),f=0;f<b.length;++f){var d=/\b([A-Za-z_$][\w$]*\b)(\s*"[ABC][\d]*")*\s*$/.exec(b[f]);if(f===b.length-1&&0<=b[f].indexOf("...")){c=new aa(d[1]);break}a.push(new aa(d[1]))}return new pa(a,c)},gd=function(a,b){this.baseInterfaceName=a;this.body=b;b.owner=this},Qb=function(a){var b=RegExp(/\bnew\s*([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)\s*"B\d+"\s*"A(\d+)"/).exec(a);a=Ia;var c="class"+ ++fa;Ia=c;var f=b[1]+"$"+c,b=new gd(f,ma(N[b[2]],
f,"","implements "+b[1]));b.classId=c;b.scopeId=a;ca[c]=b;Ia=a;return b},eb=function(a,b,c){this.name=a;this.params=b;this.body=c},Yc=function(a){a=RegExp(/\b([A-Za-z_$][\w$]*)\s*"B(\d+)"\s*"A(\d+)"/).exec(a);return new eb("function"!==a[1]?a[1]:null,qa(N[a[2]]),ja(N[a[3]]))},hd=function(a){this.members=a},Lc=function(a){a=a.split(",");for(var b=0;b<a.length;++b){var c=a[b].indexOf(":");a[b]=0>c?{value:ua(a[b])}:{label:Wa(a[b].substring(0,c)),value:ua(Wa(a[b].substring(c+1)))}}return new hd(a)},Rb=
function(a){if("("===a.charAt(0)||"["===a.charAt(0))return a.charAt(0)+Rb(a.substring(1,a.length-1))+a.charAt(a.length-1);if("{"===a.charAt(0))return/^\{\s*(?:[A-Za-z_$][\w$]*|'\d+')\s*:/.test(a)?"{"+sa(a.substring(1,a.length-1),"I")+"}":"["+Rb(a.substring(1,a.length-1))+"]";a=Cb(a);var b;b=function(a,b,c,f){a=N[f];d=!0;a=Cb(a.substring(1,a.length-1));return"__"+c+(""===a.middle?sa("("+b.replace(/\.\s*$/,"")+")","B"):sa("("+b.replace(/\.\s*$/,"")+","+a.middle+")","B"))};var c=function(a,b,c){d=!0;
return"__instanceof"+sa("("+b+", "+c+")","B")},f=a.middle,f=f.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"C\d+")+\s*("A\d+")/g,function(a,b,c){return c}),f=f.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"B\d+")\s*("A\d+")/g,function(a){return sa(a,"F")}),f=f.replace(Pb,function(a){return sa(a,"H")}),f=f.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*("C\d+"(?:\s*"C\d+")*)/g,function(a,b,c){a=c.replace(/"C(\d+)"/g,
function(a,b){return N[b]}).replace(/\[\s*\]/g,"[null]").replace(/\s*\]\s*\[\s*/g,", ");a="{"+a.substring(1,a.length-1)+"}";b="('"+b+"', "+sa(a,"A")+")";return"$p.createJavaArray"+sa(b,"B")}),f=f.replace(/(\.\s*length)\s*"B\d+"/g,"$1"),f=f.replace(/#([0-9A-Fa-f]{6})\b/g,function(a,b){return"0xFF"+b}),f=f.replace(/"B(\d+)"(\s*(?:[\w$']|"B))/g,function(a,b,c){b=N[b];if(!/^\(\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\s*(?:"C\d+"\s*)*\)$/.test(b))return a;if(/^\(\s*int\s*\)$/.test(b))return"(int)"+
c;b=b.split(/"C(\d+)"/g);return 1<b.length&&!/^\[\s*\]$/.test(N[b[1]])?a:""+c}),f=f.replace(/\(int\)([^,\]\)\}\?\:\*\+\-\/\^\|\%\&\~<\>\=]+)/g,function(a,b){var c=Cb(b);return c.untrim("__int_cast("+c.middle+")")}),f=f.replace(/\bsuper(\s*"B\d+")/g,"$$superCstr$1").replace(/\bsuper(\s*\.)/g,"$$super$1"),f=f.replace(/\b0+((\d*)(?:\.[\d*])?(?:[eE][\-\+]?\d+)?[fF]?)\b/,function(a,b,c){return b===c?a:""===c?"0"+b:b}),f=f.replace(/\b(\.?\d+\.?)[fF]\b/g,"$1"),f=f.replace(/([^\s])%([^=\s])/g,"$1 % $2"),
f=f.replace(/\b(frameRate|keyPressed|mousePressed)\b(?!\s*"B)/g,"__$1"),f=f.replace(/\b(boolean|byte|char|float|int)\s*"B/g,function(a,b){return"parse"+b.substring(0,1).toUpperCase()+b.substring(1)+'"B'}),f=f.replace(/\bpixels\b\s*(("C(\d+)")|\.length)?(\s*=(?!=)([^,\]\)\}]+))?/g,function(a,b,c,f,d,g){return c?(a=N[f],d?"pixels.setPixel"+sa("("+a.substring(1,a.length-1)+","+g+")","B"):"pixels.getPixel"+sa("("+a.substring(1,a.length-1)+")","B")):b?"pixels.getLength"+sa("()","B"):d?"pixels.set"+sa("("+
g+")","B"):"pixels.toArray"+sa("()","B")}),d;do d=!1,f=f.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*\.\s*(?:[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*\.\s*)*)(replace|replaceAll|replaceFirst|contains|equals|equalsIgnoreCase|hashCode|toCharArray|printStackTrace|split|startsWith|endsWith|codePointAt|matches)\s*"B(\d+)"/g,b);while(d);do d=!1,f=f.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*(?:\.\s*[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*)*)instanceof\s+([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)/g,
c);while(d);f=f.replace(/\bthis(\s*"B\d+")/g,"$$constr$1");b=f.replace(/"[ABC](\d+)"/g,function(a,b){return Rb(N[b])});return a.untrim(b)},tc=function(a,b){this.expr=a;this.transforms=b},Oa=function(a,b,c){this.name=a;this.value=b;this.isDefault=c},Ja=function(a,b){var c=a.indexOf("\x3d"),f,d;0>c?(f=a,c=b,d=!0):(f=a.substring(0,c),c=ua(a.substring(c+1)),d=!1);return new Oa(Wa(f.replace(/(\s*"C\d+")+/g,"")),c,d)},Db=function(a){return"int"===a||"float"===a?"0":"boolean"===a?"false":"color"===a?"0x00000000":
"null"},Pa=function(a,b){this.definitions=a;this.varType=b},uc=function(a){this.expression=a},Eb=function(a){if(vc.test(a)){var b=fc.exec(a);a=a.substring(b[0].length).split(",");for(var c=Db(b[2]),f=0;f<a.length;++f)a[f]=Ja(a[f],c);return new Pa(a,b[2])}return new uc(ua(a))},Fb=function(a,b,c){this.initStatement=a;this.condition=b;this.step=c},Nc=function(a,b){this.initStatement=a;this.container=b},Xa=function(a,b){this.initStatement=a;this.container=b},Oc=function(a){if(/\bin\b/.test(a))return a=
a.substring(1,a.length-1).split(/\bin\b/g),new Nc(Eb(Wa(a[0])),ua(a[1]));if(0<=a.indexOf(":")&&0>a.indexOf(";"))return a=a.substring(1,a.length-1).split(":"),new Xa(Eb(Wa(a[0])),ua(a[1]));a=a.substring(1,a.length-1).split(";");return new Fb(Eb(Wa(a[0])),ua(a[1]),ua(a[2]))},gc=function(a){a.sort(function(a,b){return b.weight-a.weight})},gb=function(a,b,c){this.name=a;this.body=b;this.isStatic=c;b.owner=this},F=function(a,b,c){this.name=a;this.body=b;this.isStatic=c;b.owner=this},wc=function(a){var b=
za.exec(a);za.lastIndex=0;var c=0<=b[1].indexOf("static"),f=N[dc(b[6])];a=Ia;var d="class"+ ++fa;Ia=d;b="interface"===b[2]?new gb(b[3],Aa(f,b[3],b[4]),c):new F(b[3],ma(f,b[3],b[4],b[5]),c);b.classId=d;b.scopeId=a;ca[d]=b;Ia=a;return b},xc=function(a,b,c,f){this.name=a;this.params=b;this.body=c;this.isStatic=f},hc=function(a){a=Ea.exec(a);Ea.lastIndex=0;var b=0<=a[1].indexOf("static"),c=";"!==a[6]?N[dc(a[6])]:"{}";return new xc(a[3],qa(N[dc(a[4])]),ja(c),b)},ic=function(a,b,c){this.definitions=a;this.fieldType=
b;this.isStatic=c},Pc=function(a){var b=fc.exec(a),c=0<=b[1].indexOf("static");a=a.substring(b[0].length).split(/,\s*/g);for(var f=Db(b[2]),d=0;d<a.length;++d)a[d]=Ja(a[d],f);return new ic(a,b[2],c)},Qc=function(a,b){this.params=a;this.body=b},yc=function(a,b,c,f,d,g){this.name=a;this.interfacesNames=b;this.methodsNames=c;this.fields=f;this.innerClasses=d;this.misc=g;a=0;for(b=f.length;a<b;++a)f[a].owner=this},P=function(a,b,c,f,d,g,h,m,j){this.name=a;this.baseClassName=b;this.interfacesNames=c;this.functions=
f;this.methods=d;this.fields=g;this.cstrs=h;this.innerClasses=m;this.misc=j;a=0;for(b=g.length;a<b;++a)g[a].owner=this},Tb=function(a,b){this.name=a;this.body=b;b.owner=this},Gb=function(a,b){this.name=a;this.body=b;b.owner=this},f=function(a,b,c){this.name=a;this.params=b;this.body=c},m=function(a,b){this.argument=a;this.misc=b},da=function(a,b){this.argument=a;this.misc=b},ka=function(a,b,c){this.name=a;this.argument=b;this.misc=c},S=function(a){this.expr=a},va=function(a){this.label=a},Ya=function(a){for(var b=
[],c=0,d=a.length;c<d;++c){var g=a[c];g instanceof Pa?b=b.concat(g.getNames()):g instanceof m&&g.argument.initStatement instanceof Pa?b=b.concat(g.argument.initStatement.getNames()):(g instanceof gb||g instanceof F||g instanceof Tb||g instanceof Gb||g instanceof f||g instanceof eb)&&b.push(g.name)}return sc({},b)},Za=function(a){this.statements=a},L=function(a){this.statements=a},ra="abs acos alpha ambient ambientLight append applyMatrix arc arrayCopy asin atan atan2 background beginCamera beginDraw beginShape bezier bezierDetail bezierPoint bezierTangent bezierVertex binary blend blendColor blit_resize blue box breakShape brightness camera ceil Character color colorMode concat constrain copy cos createFont createGraphics createImage cursor curve curveDetail curvePoint curveTangent curveTightness curveVertex day degrees directionalLight disableContextMenu dist draw ellipse ellipseMode emissive enableContextMenu endCamera endDraw endShape exit exp expand externals fill filter floor focused frameCount frameRate frustum get glyphLook glyphTable green height hex hint hour hue image imageMode intersect join key keyCode keyPressed keyReleased keyTyped lerp lerpColor lightFalloff lights lightSpecular line link loadBytes loadFont loadGlyphs loadImage loadPixels loadShape loadXML loadStrings log loop mag map match matchAll max millis min minute mix modelX modelY modelZ modes month mouseButton mouseClicked mouseDragged mouseMoved mouseOut mouseOver mousePressed mouseReleased mouseScroll mouseScrolled mouseX mouseY name nf nfc nfp nfs noCursor noFill noise noiseDetail noiseSeed noLights noLoop norm normal noSmooth noStroke noTint ortho param parseBoolean parseByte parseChar parseFloat parseInt parseXML peg perspective PImage pixels PMatrix2D PMatrix3D PMatrixStack pmouseX pmouseY point pointLight popMatrix popStyle pow print printCamera println printMatrix printProjection PShape PShapeSVG pushMatrix pushStyle quad radians random randomGaussian randomSeed rect rectMode red redraw requestImage resetMatrix reverse rotate rotateX rotateY rotateZ round saturation save saveFrame saveStrings scale screenX screenY screenZ second set setup shape shapeMode shared shearX shearY shininess shorten sin size smooth sort specular sphere sphereDetail splice split splitTokens spotLight sq sqrt status str stroke strokeCap strokeJoin strokeWeight subset tan text textAlign textAscent textDescent textFont textLeading textMode textSize texture textureMode textWidth tint toImageData touchCancel touchEnd touchMove touchStart translate transform triangle trim unbinary unhex updatePixels use3DContext vertex width XMLElement XML year __contains __equals __equalsIgnoreCase __frameRate __hashCode __int_cast __instanceof __keyPressed __mousePressed __printStackTrace __replace __replaceAll __replaceFirst __toCharArray __split __codePointAt __startsWith __endsWith __matches".split(" ");
a&&Object.keys(a).forEach(function(a){ra.push(a)});var Qa={},Ka,ga;Ka=0;for(ga=ra.length;Ka<ga;++Ka)Qa[ra[Ka]]=null;for(var Hb in h.lib)if(h.lib.hasOwnProperty(Hb)&&h.lib[Hb].exports){var Fa=h.lib[Hb].exports;Ka=0;for(ga=Fa.length;Ka<ga;++Ka)Qa[Fa[Ka]]=null}var La=[],Ra=b.replace(/\r\n?|\n\r/g,"\n").replace(/("(?:[^"\\\n]|\\.)*")|('(?:[^'\\\n]|\\.)*')|(([\[\(=|&!\^:?]\s*)(\/(?![*\/])(?:[^\/\\\n]|\\.)*\/[gim]*)\b)|(\/\/[^\n]*\n)|(\/\*(?:(?!\*\/)(?:.|\n))*\*\/)/g,function(a,b,c,f,d,g,h,m){return b||
c?(b=La.length,La.push(a),"'"+b+"'"):f?(b=La.length,La.push(g),d+"'"+b+"'"):""!==m?" ":"\n"}),Ra=Ra.replace(/__x([0-9A-F]{4})/g,function(a,b){return"__x005F_x"+b}),Ra=Ra.replace(/\$/g,"__x0024"),Ra=Ra.replace(/return\s*[\n\r]+/g,"return "),Ma,Ga=Ra,zc=function(a,b,c,f){if(b||f)return a;Ma=!0;return""};do Ma=!1,Ga=Ga.replace(/([<]?)<\s*((?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?(?:\s*,\s*(?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?)*)\s*>([=]?)/g,
zc);while(Ma);for(var N,Ib=[],rb=Ga.split(/([\{\[\(\)\]\}])/),$a=rb[0],Ac=[],Ub=1;Ub<rb.length;Ub+=2){var T=rb[Ub];if("["===T||"{"===T||"("===T)Ac.push($a),$a=T;else if("]"===T||"}"===T||")"===T){var Bc="}"===T?"A":")"===T?"B":"C",Cc=Ib.length;Ib.push($a+T);$a=Ac.pop()+'"'+Bc+(Cc+1)+'"'}$a+=rb[Ub+1]}Ib.unshift($a);N=Ib;var $,ca={},Ia,fa=0,ma,Aa,ja,Jb,ua,za=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)(class|interface)\s+([A-Za-z_$][\w$]*\b)(\s+extends\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?(\s+implements\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?\s*("A\d+")/g,
Ea=/\b((?:(?:public|private|final|protected|static|abstract|synchronized)\s+)*)((?!(?:else|new|return|throw|function|public|private|protected)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+"|;)/g,vc=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:else|new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*(?:"C\d+"\s*)*([=,]|$)/,
Kc=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+")/g,fc=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*/,Pb=/\bfunction(?:\s+([A-Za-z_$][\w$]*))?\s*("B\d+")\s*("A\d+")/g;aa.prototype.toString=
function(){return this.name};pa.prototype.getNames=function(){for(var a=[],b=0,c=this.params.length;b<c;++b)a.push(this.params[b].name);return a};pa.prototype.prependMethodArgs=function(a){return!this.methodArgsParam?a:"{\nvar "+this.methodArgsParam.name+" \x3d Array.prototype.slice.call(arguments, "+this.params.length+");\n"+a.substring(1)};pa.prototype.toString=function(){if(0===this.params.length)return"()";for(var a="(",b=0,c=this.params.length;b<c;++b)a+=this.params[b]+", ";return a.substring(0,
a.length-2)+")"};gd.prototype.toString=function(){return"new ("+this.body+")"};eb.prototype.toString=function(){var a=$,b=sc({"this":null},this.params.getNames());$=function(c){return b.hasOwnProperty(c.name)?c.name:a(c)};var c="function";this.name&&(c+=" "+this.name);var f=this.params.prependMethodArgs(this.body.toString()),c=c+(this.params+" "+f);$=a;return c};hd.prototype.toString=function(){var a=$;$=function(b){return"this"===b.name?"this":a(b)};for(var b="",c=0,f=this.members.length;c<f;++c)this.members[c].label&&
(b+=this.members[c].label+": "),b+=this.members[c].value.toString()+", ";$=a;return b.substring(0,b.length-2)};tc.prototype.toString=function(){var a=this.transforms;return this.expr.replace(/(\.\s*)?((?:\b[A-Za-z_]|\$)[\w$]*)(\s*\.\s*([A-Za-z_$][\w$]*)(\s*\()?)?/g,function(a,b,c,f,d,g){return b?a:$({name:c,member:d,callSign:!!g})+(void 0===f?"":f)}).replace(/"!(\d+)"/g,function(b,c){return a[c].toString()})};ua=function(a){var b=[];a=Rb(a);a=a.replace(/"H(\d+)"/g,function(a,c){b.push(Yc(N[c]));return'"!'+
(b.length-1)+'"'});a=a.replace(/"F(\d+)"/g,function(a,c){b.push(Qb(N[c]));return'"!'+(b.length-1)+'"'});a=a.replace(/"I(\d+)"/g,function(a,c){b.push(Lc(N[c]));return'"!'+(b.length-1)+'"'});return new tc(a,b)};Oa.prototype.toString=function(){return this.name+" \x3d "+this.value};Pa.prototype.getNames=function(){for(var a=[],b=0,c=this.definitions.length;b<c;++b)a.push(this.definitions[b].name);return a};Pa.prototype.toString=function(){return"var "+this.definitions.join(",")};uc.prototype.toString=
function(){return this.expression.toString()};Fb.prototype.toString=function(){return"("+this.initStatement+"; "+this.condition+"; "+this.step+")"};Nc.prototype.toString=function(){var a=this.initStatement.toString();0<=a.indexOf("\x3d")&&(a=a.substring(0,a.indexOf("\x3d")));return"("+a+" in "+this.container+")"};Xa.iteratorId=0;Xa.prototype.toString=function(){var a=this.initStatement.toString(),b="$it"+Xa.iteratorId++,a=a.replace(/^\s*var\s*/,"").split("\x3d")[0];return"("+("var "+b+" \x3d new $p.ObjectIterator("+
this.container+"), "+a+" \x3d void(0)")+"; "+(b+".hasNext() \x26\x26 (("+a+" \x3d "+b+".next()) || true)")+";)"};gb.prototype.toString=function(){return""+this.body};F.prototype.toString=function(){return""+this.body};xc.prototype.toString=function(){var a=sc({},this.params.getNames()),b=$;$=function(c){return a.hasOwnProperty(c.name)?c.name:b(c)};var c=this.params.prependMethodArgs(this.body.toString()),c="function "+this.methodId+this.params+" "+c+"\n";$=b;return c};ic.prototype.getNames=function(){for(var a=
[],b=0,c=this.definitions.length;b<c;++b)a.push(this.definitions[b].name);return a};ic.prototype.toString=function(){var a=$({name:"[this]"});if(this.isStatic){for(var b=this.owner.name,c=[],f=0,d=this.definitions.length;f<d;++f){var g=this.definitions[f],h=g.name,m=b+"."+h;c.push("if("+m+" \x3d\x3d\x3d void(0)) {\n "+m+" \x3d "+g.value+"; }\n$p.defineProperty("+a+", '"+h+"', { get: function(){return "+m+";}, set: function(val){"+m+" \x3d val;} });\n")}return c.join("")}return a+"."+this.definitions.join("; "+
a+".")};Qc.prototype.toString=function(){var a=sc({},this.params.getNames()),b=$;$=function(c){return a.hasOwnProperty(c.name)?c.name:b(c)};var c="function $constr_"+this.params.params.length+this.params.toString(),f=this.params.prependMethodArgs(this.body.toString());/\$(superCstr|constr)\b/.test(f)||(f="{\n$superCstr();\n"+f.substring(1));$=b;return c+f+"\n"};yc.prototype.getMembers=function(a,b,c){this.owner.base&&this.owner.base.body.getMembers(a,b,c);var f,d,g,h;f=0;for(g=this.fields.length;f<
g;++f){var m=this.fields[f].getNames();d=0;for(h=m.length;d<h;++d)a[m[d]]=this.fields[f]}f=0;for(g=this.methodsNames.length;f<g;++f)b[this.methodsNames[f]]=!0;f=0;for(g=this.innerClasses.length;f<g;++f)a=this.innerClasses[f],c[a.name]=a};yc.prototype.toString=function(){for(var a=this.owner,b=0;a;)++b,a=a.scope;var a=this.name,c=b="";this.getMembers({},{},{});var f,d;if(this.owner.interfaces){var g=[],h;f=0;for(d=this.interfacesNames.length;f<d;++f)this.owner.interfaces[f]&&(h=$({name:this.interfacesNames[f]}),
g.push(h),b+="$p.extendInterfaceMembers("+a+", "+h+");\n");c+=a+".$interfaces \x3d ["+g.join(", ")+"];\n"}c=c+(a+".$isInterface \x3d true;\n")+(a+".$methods \x3d ['"+this.methodsNames.join("', '")+"'];\n");gc(this.innerClasses);f=0;for(d=this.innerClasses.length;f<d;++f)g=this.innerClasses[f],g.isStatic&&(b+=a+"."+g.name+" \x3d "+g+";\n");f=0;for(d=this.fields.length;f<d;++f)g=this.fields[f],g.isStatic&&(b+=a+"."+g.definitions.join(";\n"+a+".")+";\n");return"(function() {\nfunction "+a+"() { throw 'Unable to create the interface'; }\n"+
b+c+"return "+a+";\n})()"};Aa=function(a,b,c){a=a.substring(1,a.length-1);a=Wc(a);a=V(a,b);var f=[],d=[];a=a.replace(/"([DE])(\d+)"/g,function(a,b,c){"D"===b?f.push(c):"E"===b&&d.push(c);return""});a=a.split(/;(?:\s*;)*/g);var g,h;void 0!==c&&(g=c.replace(/^\s*extends\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g));c=0;for(h=f.length;c<h;++c){var m=hc(N[f[c]]);f[c]=m.name}c=0;for(h=a.length-1;c<h;++c)m=Cb(a[c]),a[c]=Pc(m.middle);m=a.pop();c=0;for(h=d.length;c<h;++c)d[c]=wc(N[d[c]]);return new yc(b,g,f,a,d,
{tail:m})};P.prototype.getMembers=function(a,b,c){this.owner.base&&this.owner.base.body.getMembers(a,b,c);var f,d,g,h;f=0;for(g=this.fields.length;f<g;++f){var m=this.fields[f].getNames();d=0;for(h=m.length;d<h;++d)a[m[d]]=this.fields[f]}f=0;for(g=this.methods.length;f<g;++f)a=this.methods[f],b[a.name]=a;f=0;for(g=this.innerClasses.length;f<g;++f)b=this.innerClasses[f],c[b.name]=b};P.prototype.toString=function(){for(var a=this.owner,b=0;a;)++b,a=a.scope;var c="$this_"+b,f=this.name,a="var "+c+" \x3d this;\n",
d=b="",g={},h={},m={};this.getMembers(g,h,m);var j=$;$=function(a){var b=a.name;return"this"===b?a.callSign||!a.member?c+".$self":c:g.hasOwnProperty(b)?g[b].isStatic?f+"."+b:c+"."+b:m.hasOwnProperty(b)?c+"."+b:h.hasOwnProperty(b)?h[b].isStatic?f+"."+b:c+".$self."+b:j(a)};var k;this.baseClassName?(k=j({name:this.baseClassName}),a=a+("var $super \x3d { $upcast: "+c+" };\n")+("function $superCstr(){"+k+".apply($super,arguments);if(!('$self' in $super)) $p.extendClassChain($super)}\n"),d+=f+".$base \x3d "+
k+";\n"):a+="function $superCstr(){$p.extendClassChain("+c+")}\n";this.owner.base&&(b+="$p.extendStaticMembers("+f+", "+k+");\n");var i,o,q;if(this.owner.interfaces){o=[];k=0;for(i=this.interfacesNames.length;k<i;++k)this.owner.interfaces[k]&&(q=j({name:this.interfacesNames[k]}),o.push(q),b+="$p.extendInterfaceMembers("+f+", "+q+");\n");d+=f+".$interfaces \x3d ["+o.join(", ")+"];\n"}0<this.functions.length&&(a+=this.functions.join("\n")+"\n");gc(this.innerClasses);k=0;for(i=this.innerClasses.length;k<
i;++k)o=this.innerClasses[k],o.isStatic?(b+=f+"."+o.name+" \x3d "+o+";\n",a+=c+"."+o.name+" \x3d "+f+"."+o.name+";\n"):a+=c+"."+o.name+" \x3d "+o+";\n";k=0;for(i=this.fields.length;k<i;++k){var r=this.fields[k];if(r.isStatic){b+=f+"."+r.definitions.join(";\n"+f+".")+";\n";o=0;for(q=r.definitions.length;o<q;++o)var u=r.definitions[o].name,p=f+"."+u,a=a+("$p.defineProperty("+c+", '"+u+"', {get: function(){return "+p+"}, set: function(val){"+p+" \x3d val}});\n")}else a+=c+"."+r.definitions.join(";\n"+
c+".")+";\n"}o={};k=0;for(i=this.methods.length;k<i;++k)q=this.methods[k],r=o[q.name],u=q.name+"$"+q.params.params.length,p=!!q.params.methodArgsParam,r?(++r,u+="_"+r):r=1,q.methodId=u,o[q.name]=r,q.isStatic?(b+=q,b+="$p.addMethod("+f+", '"+q.name+"', "+u+", "+p+");\n"):a+=q,a+="$p.addMethod("+c+", '"+q.name+"', "+u+", "+p+");\n";a+=Wa(this.misc.tail);0<this.cstrs.length&&(a+=this.cstrs.join("\n")+"\n");a+="function $constr() {\n";o=[];k=0;for(i=this.cstrs.length;k<i;++k)q=this.cstrs[k].params.params.length,
o.push("if(arguments.length "+(this.cstrs[k].params.methodArgsParam?"\x3e\x3d":"\x3d\x3d\x3d")+" "+q+") { $constr_"+q+".apply("+c+", arguments); }");0<o.length&&(a+=o.join(" else ")+" else ");a+="$superCstr();\n}\n";a+="$constr.apply(null, arguments);\n";$=j;return"(function() {\nfunction "+f+"() {\n"+a+"}\n"+b+d+"return "+f+";\n})()"};ma=function(a,b,c,f){a=a.substring(1,a.length-1);a=Wc(a);a=V(a,b);var d=[],g=[],h=[],m=[];a=a.replace(/"([DEGH])(\d+)"/g,function(a,b,c){"D"===b?d.push(c):"E"===b?
g.push(c):"H"===b?m.push(c):h.push(c);return""});a=a.replace(/^(?:\s*;)+/,"").split(/;(?:\s*;)*/g);var k,j;void 0!==c&&(k=c.replace(/^\s*extends\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*$/g,"$1"));void 0!==f&&(j=f.replace(/^\s*implements\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g));for(c=0;c<m.length;++c)m[c]=Yc(N[m[c]]);for(c=0;c<d.length;++c)d[c]=hc(N[d[c]]);for(c=0;c<a.length-1;++c)f=Cb(a[c]),a[c]=Pc(f.middle);f=a.pop();for(c=0;c<h.length;++c){var i=h,o=c,q;q=RegExp(/"B(\d+)"\s*"A(\d+)"/).exec(N[h[c]]);
var r=qa(N[q[1]]);q=new Qc(r,ja(N[q[2]]));i[o]=q}for(c=0;c<g.length;++c)g[c]=wc(N[g[c]]);return new P(b,k,j,m,d,a,h,g,{tail:f})};Tb.prototype.toString=function(){return"var "+this.name+" \x3d "+this.body+";\n$p."+this.name+" \x3d "+this.name+";\n"};Gb.prototype.toString=function(){return"var "+this.name+" \x3d "+this.body+";\n$p."+this.name+" \x3d "+this.name+";\n"};f.prototype.toString=function(){var a=sc({},this.params.getNames()),b=$;$=function(c){return a.hasOwnProperty(c.name)?c.name:b(c)};var c=
this.params.prependMethodArgs(this.body.toString()),c="function "+this.name+this.params+" "+c+"\n$p."+this.name+" \x3d "+this.name+";\n"+this.name+" \x3d "+this.name+".bind($p);";$=b;return c};m.prototype.toString=function(){return this.misc.prefix+this.argument.toString()};da.prototype.toString=function(){return this.misc.prefix+this.argument.toString()};ka.prototype.toString=function(){var a=this.misc.prefix;void 0!==this.argument&&(a+=this.argument.toString());return a};S.prototype.toString=function(){return"case "+
this.expr+":"};va.prototype.toString=function(){return this.label};Jb=function(a,b,c){var f=RegExp(/\b(catch|for|if|switch|while|with)\s*"B(\d+)"|\b(do|else|finally|return|throw|try|break|continue)\b|("[ADEH](\d+)")|\b(case)\s+([^:]+):|\b([A-Za-z_$][\w$]*\s*:)|(;)/g),d=[];a=a.replace(/\b(catch\s*"B\d+"\s*"A\d+")(\s*catch\s*"B\d+"\s*"A\d+")+/g,"$1");for(var g=0,h,k;null!==(h=f.exec(a));){if(void 0!==h[1])k=a.lastIndexOf('"B',f.lastIndex),g=a.substring(g,k),"for"===h[1]?d.push(new m(Oc(N[h[2]]),{prefix:g})):
"catch"===h[1]?d.push(new da(qa(N[h[2]]),{prefix:g})):d.push(new ka(h[1],ua(N[h[2]]),{prefix:g}));else if(void 0!==h[3])d.push(new ka(h[3],void 0,{prefix:a.substring(g,f.lastIndex)}));else if(void 0!==h[4]){k=a.substring(g,f.lastIndex-h[4].length);if(0!==Wa(k).length)continue;d.push(k);g=h[4].charAt(1);h=h[5];"D"===g?d.push(b(N[h])):"E"===g?d.push(c(N[h])):"H"===g?d.push(Yc(N[h])):d.push(ja(N[h]))}else if(void 0!==h[6])d.push(new S(ua(Wa(h[7]))));else if(void 0!==h[8]){k=a.substring(g,f.lastIndex-
h[8].length);if(0!==Wa(k).length)continue;d.push(new va(a.substring(g,f.lastIndex)))}else h=Cb(a.substring(g,f.lastIndex-1)),d.push(h.left),d.push(Eb(h.middle)),d.push(h.right+";");g=f.lastIndex}b=Cb(a.substring(g));d.push(b.left);""!==b.middle&&(d.push(Eb(b.middle)),d.push(";"+b.right));return d};Za.prototype.toString=function(){var a=Ya(this.statements),b=$,c;a:{for(c in a)if(a.hasOwnProperty(c)){c=!1;break a}c=!0}c||($=function(c){return a.hasOwnProperty(c.name)?c.name:b(c)});c="{\n"+this.statements.join("")+
"\n}";$=b;return c};ja=function(a){a=Cb(a.substring(1,a.length-1));return new Za(Jb(a.middle))};L.prototype.toString=function(){for(var a=[],b=[],c,f=0,d=this.statements.length;f<d;++f)c=this.statements[f],c instanceof Gb||c instanceof Tb?a.push(c):b.push(c);gc(a);var g=Ya(this.statements);$=function(a){a=a.name;return g.hasOwnProperty(a)?a:Qa.hasOwnProperty(a)||o.hasOwnProperty(a)||r.hasOwnProperty(a)?"$p."+a:a};a="// this code was autogenerated from PJS\n(function($p) {\n"+a.join("")+"\n"+b.join("")+
"\n})";$=null;return a};var Ba,tb=Wc(N[0]),tb=tb.replace(/\bimport\s+[^;]+;/g,"");Ba=new L(Jb(tb,function(a){a=Ea.exec(a);Ea.lastIndex=0;return new f(a[3],qa(N[dc(a[4])]),ja(N[dc(a[6])]))},function(a){var b=za.exec(a);za.lastIndex=0;var c=N[dc(b[6])];a=Ia;var f="class"+ ++fa;Ia=f;b="interface"===b[2]?new Tb(b[3],Aa(c,b[3],b[4])):new Gb(b[3],ma(c,b[3],b[4],b[5]));b.classId=f;b.scopeId=a;ca[f]=b;Ia=a;return b}));var Vb=function(a,b){for(var c=b.split("."),f=a.scope,d;f;){if(f.hasOwnProperty(c[0])){d=
f[c[0]];break}f=f.scope}void 0===d&&(d=ub[c[0]]);for(var f=1,g=c.length;f<g&&d;++f)d=d.inScope[c[f]];return d},ub={},Na,na;for(Na in ca)if(ca.hasOwnProperty(Na)){na=ca[Na];var jc=na.scopeId,Ha=na.name;if(jc){var z=ca[jc];na.scope=z;void 0===z.inScope&&(z.inScope={});z.inScope[Ha]=na}else ub[Ha]=na}for(Na in ca)if(ca.hasOwnProperty(Na)){na=ca[Na];var H=na.body.baseClassName;if(H){var ha=Vb(na,H);ha&&(na.base=ha,ha.derived||(ha.derived=[]),ha.derived.push(na))}var Kb=na.body.interfacesNames,Wb=[],Lb,
Xb;if(Kb&&0<Kb.length){Lb=0;for(Xb=Kb.length;Lb<Xb;++Lb){var vb=Vb(na,Kb[Lb]);Wb.push(vb);vb&&(vb.derived||(vb.derived=[]),vb.derived.push(na))}0<Wb.length&&(na.interfaces=Wb)}}var wb=function(a,b){var c=kc[a];if(!c)return!1;var f=c.indexOf(b);if(0>f)return!1;c.splice(f,1);if(0<c.length)return!1;delete kc[a];return!0},ib=[],kc={},ab,lc,Q;for(ab in ca)if(ca.hasOwnProperty(ab))if(Q=ca[ab],!Q.inScope&&!Q.derived)ib.push(ab),Q.weight=0;else{var Yb=[];if(Q.inScope)for(lc in Q.inScope)Q.inScope.hasOwnProperty(lc)&&
Yb.push(Q.inScope[lc]);Q.derived&&(Yb=Yb.concat(Q.derived));kc[ab]=Yb}for(;0<ib.length;)if(ab=ib.shift(),Q=ca[ab],Q.scopeId&&wb(Q.scopeId,Q)&&(ib.push(Q.scopeId),ca[Q.scopeId].weight=Q.weight+1),Q.base&&wb(Q.base.classId,Q)&&(ib.push(Q.base.classId),Q.base.weight=Q.weight+1),Q.interfaces){var jb,Ec;jb=0;for(Ec=Q.interfaces.length;jb<Ec;++jb)Q.interfaces[jb]&&wb(Q.interfaces[jb].classId,Q)&&(ib.push(Q.interfaces[jb].classId),Q.interfaces[jb].weight=Q.weight+1)}var Mb=Ba.toString(),Mb=Mb.replace(/\s*\n(?:[\t ]*\n)+/g,
"\n\n"),Mb=Mb.replace(/__x([0-9A-F]{4})/g,function(a,b){return String.fromCharCode(parseInt(b,16))});Bb=Mb.replace(/'(\d+)'/g,function(a,b){var c=La[b];return"/"===c.charAt(0)?c:/^'((?:[^'\\\n])|(?:\\.[0-9A-Fa-f]*))'$/.test(c)?"(new $p.Character("+c+"))":c});g.sourceCode=Bb;return g};var g=j("../Helpers/PjsConsole");h.logger=new g(k);return h}},{"../Helpers/PjsConsole":5}],27:[function(j,r){r.exports=function(h,b){function j(a,b){return a in i?i[a]:"function"===typeof i[b]?i[b]:function(a){if(a instanceof
Array)return a;if("number"===typeof a){var b=[];b.length=a;return b}}}var o=h.defaultScope,a=h.extend,k=h.Browser,g=k.ajax,d=k.navigator,i=k.window,q=k.document,r=h.noop,c=o.PConstants;PFont=o.PFont;PShapeSVG=o.PShapeSVG;PVector=o.PVector;Char=Character=o.Char;ObjectIterator=o.ObjectIterator;XMLElement=o.XMLElement;XML=o.XML;var Z=i.HTMLCanvasElement,Va=i.HTMLImageElement,Da;try{Da=i.localStorage}catch(B){Da={}}q.head||(q.head=q.getElementsByTagName("head")[0]);var C=j("Float32Array","WebGLFloatArray"),
p=j("Int32Array","WebGLIntArray"),A=j("Uint16Array","WebGLUnsignedShortArray"),rc=j("Uint8Array","WebGLUnsignedByteArray");if(9<=q.documentMode&&!q.doctype)throw"The doctype directive is missing. The recommended doctype in Internet Explorer is the HTML5 doctype: \x3c!DOCTYPE html\x3e";var y=[],ob={},K=this.Processing=function(h,k,j){function u(w,a,b){w.addEventListener?w.addEventListener(a,b,!1):w.attachEvent("on"+a,b);Gb.push({elem:w,type:a,fn:b})}function v(w,a,ea,c){var f=Ha.locations[w];f===b&&
(f=m.getUniformLocation(a,ea),Ha.locations[w]=f);null!==f&&(4===c.length?m.uniform4fv(f,c):3===c.length?m.uniform3fv(f,c):2===c.length?m.uniform2fv(f,c):m.uniform1f(f,c))}function B(w,a,ea,c){var f=Ha.locations[w];f===b&&(f=m.getUniformLocation(a,ea),Ha.locations[w]=f);null!==f&&(4===c.length?m.uniform4iv(f,c):3===c.length?m.uniform3iv(f,c):2===c.length?m.uniform2iv(f,c):m.uniform1i(f,c))}function V(w,a,c,x,f){var d=Ha.locations[w];d===b&&(d=m.getUniformLocation(a,c),Ha.locations[w]=d);-1!==d&&(16===
f.length?m.uniformMatrix4fv(d,x,f):9===f.length?m.uniformMatrix3fv(d,x,f):m.uniformMatrix2fv(d,x,f))}function aa(w,a,c,x,f){var d=Ha.attributes[w];d===b&&(d=m.getAttribLocation(a,c),Ha.attributes[w]=d);-1!==d&&(m.bindBuffer(m.ARRAY_BUFFER,f),m.vertexAttribPointer(d,x,m.FLOAT,!1,0,0),m.enableVertexAttribArray(d))}function pa(w,a,c){var x=Ha.attributes[w];x===b&&(x=m.getAttribLocation(a,c),Ha.attributes[w]=x);-1!==x&&m.disableVertexAttribArray(x)}function qa(w,a,b,x){za===c.HSB?(b=f.color.toRGB(w,a,
b),w=b[0],a=b[1],b=b[2]):(w=Math.round(255*(w/ma)),a=Math.round(255*(a/Aa)),b=Math.round(255*(b/ja)));x=Math.round(255*(x/fa));w=0>w?0:w;a=0>a?0:a;b=0>b?0:b;x=0>x?0:x;return(255<x?255:x)<<24&c.ALPHA_MASK|(255<w?255:w)<<16&c.RED_MASK|(255<a?255:a)<<8&c.GREEN_MASK|(255<b?255:b)&c.BLUE_MASK}function db(w){if(w<=ma&&0<=w){if(za===c.RGB)return qa(w,w,w,fa);if(za===c.HSB)return qa(0,0,w/ma*ja,fa)}if(w)return 2147483647<w&&(w-=4294967296),w}function Qb(w){var a,b,x;a=((w&c.RED_MASK)>>>16)/255;b=((w&c.GREEN_MASK)>>>
8)/255;x=(w&c.BLUE_MASK)/255;w=f.max(f.max(a,b),x);var d=f.min(f.min(a,b),x);if(d===w)return[0,0,w*ja];a=(a===w?(b-x)/(w-d):b===w?2+(x-a)/(w-d):4+(a-b)/(w-d))/6;0>a?a+=1:1<a&&(a-=1);return[a*ma,(w-d)/w*Aa,w*ja]}function eb(){m.restore();Za=Ka=!0}function pb(){var w=(Date.now()-fc)/1E3;Pb++;var a=Pb/w;0.5<w&&(fc=Date.now(),Pb=0,f.__frameRate=a);f.frameCount++}function Bb(w){w=parseInt("0x"+w,16);2147483647<w&&(w-=4294967296);return w}function Lc(w){if("number"===typeof w)return 0!==w;if("boolean"===
typeof w)return w;if("string"===typeof w)return"true"===w.toLowerCase();if(w instanceof Char)return 49===w.code||84===w.code||116===w.code}function Rb(w){if("number"===typeof w)return w;if("boolean"===typeof w)return w?1:0;if("string"===typeof w)return parseFloat(w);if(w instanceof Char)return w.code}function tc(w,a){if("number"===typeof w)return w&4294967295;if("boolean"===typeof w)return w?1:0;if("string"===typeof w)return parseInt(w,a||10)&4294967295;if(w instanceof Char)return w.code}function Oa(){S&&
(Za&&(m.fillStyle=f.color.toString(Ya),Za=!1),m.fill())}function Ja(){L&&(Ka&&(m.strokeStyle=f.color.toString(Qa),Ka=!1),m.stroke())}function Db(){Oa();Ja();m.closePath()}function Pa(w,a,c){var x=kd.shift();x===b&&(x={},x.canvas=q.createElement("canvas"),x.context=x.canvas.getContext("2d"));kd.push(x);var f=x.canvas,d=x.context;a=a||w.width;c=c||w.height;f.width=a;f.height=c;w?"data"in w?d.putImageData(w,0,0):(d.clearRect(0,0,a,c),d.drawImage(w,0,0,a,c)):d.clearRect(0,0,a,c);return x}function uc(w,
a,b,x){var d=new bb(b,x,c.ARGB);d.fromImageData(f.toImageData(w,a,b,x));return d}function Eb(w,a,b,x,f){if(f.isRemote)throw"Image is loaded remotely. Cannot get x,y,w,h.";var d=new bb(b,x,c.ARGB),g=d.imageData.data,h=f.width,m=f.height;f=f.imageData.data;var k=Math.max(0,-a),j=Math.max(0,-w);x=Math.min(x,m-a);for(m=Math.min(b,h-w);k<x;++k)for(var i=4*((a+k)*h+(w+j)),o=4*(k*b+j),q=j;q<m;++q)g[o++]=f[i++],g[o++]=f[i++],g[o++]=f[i++],g[o++]=f[i++];d.__isDirty=!0;return d}function Fb(){Dc&&(m=id,Dc=!1,
f.updatePixels())}function Nc(){function w(w,a){w[a]=function(){Fb();m[a].apply(m,arguments)}}function a(w,b){f.defineProperty(w,b,{get:function(){Fb();return m[b]},set:function(w){Fb();m[b]=w}})}for(var b in m)"function"===typeof m[b]?w(this,b):a(this,b)}function Xa(w){return w instanceof String?w:"number"===typeof w?w===(0|w)?w.toString():f.nf(w,0,3):null===w||w===b?"":w.toString()}function Oc(w,a,b,x){var f;0>w.indexOf("\n")?(w=[w],f=1):(w=w.split(/\r?\n/g),f=w.length);var d=0;qb===c.TOP?d=sb+
hb:qb===c.CENTER?d=sb/2-(f-1)*Sa/2:qb===c.BOTTOM&&(d=-(hb+(f-1)*Sa));for(var g=0;g<f;++g)ka.text$line(w[g],a,b+d,x,Sb),d+=Sa}function gc(w,a,b,x,f,d){if(!(0===w.length||0===x||0===f)&&!(fb>f)){for(var g=-1,h=0,m=0,k=[],j=0,i=w.length;j<i;j++){var o=w[j],q=" "===o,n=ba.measureTextWidth(o);if("\n"!==o&&m+n<=x)q&&(g=j),m+=n;else{if(g+1===h)if(0<j)g=j;else return;"\n"===o?(k.push({text:w.substring(h,j),width:m}),h=j+1):(k.push({text:w.substring(h,g+1),width:m}),h=g+1);m=0;j=h-1}}h<i&&k.push({text:w.substring(h),
width:m});w=1;g=sb;Sb===c.CENTER?w=x/2:Sb===c.RIGHT&&(w=x);x=k.length;h=Math.min(x,Math.floor(f/Sa));qb===c.TOP?g=sb+hb:qb===c.CENTER?g=f/2-Sa*(h/2-1):qb===c.BOTTOM&&(g=hb+Sa);for(h=0;h<x;h++){j=h*Sa;if(g+j>f-hb)break;m=k[h];ka.text$line(m.text,a+w,b+g+j,d,Sb)}}}function gb(a){ka="3D"===a?new D:"2D"===a?new G:new E;for(var b in E.prototype)E.prototype.hasOwnProperty(b)&&0>b.indexOf("$")&&(f[b]=ka[b]);ka.$init()}function F(a){return function(){gb("2D");return ka[a].apply(this,arguments)}}function wc(a){a=
a.which||a.keyCode;switch(a){case 13:return 10;case 91:case 93:case 224:return 157;case 57392:return 17;case 46:return 127;case 45:return 155}return a}function xc(a){"function"===typeof a.preventDefault?a.preventDefault():"function"===typeof a.stopPropagation&&a.stopPropagation();return!1}function hc(){for(var a in Nb)if(Nb.hasOwnProperty(a)){f.__keyPressed=!0;return}f.__keyPressed=!1}function ic(a,b){Nb[a]=b;Zb=null;f.key=b;f.keyCode=a;f.keyPressed();f.keyCode=0;f.keyTyped();hc()}function Pc(a){var b=
wc(a);if(b===c.DELETE)ic(b,new Char(127));else if(0>Cd.indexOf(b))Zb=b;else{var ea=new Char(c.CODED);f.key=ea;f.keyCode=b;Nb[b]=ea;f.keyPressed();Zb=null;hc();return xc(a)}}function Qc(a){if(null!==Zb){var b=Zb,c;c=a.which||a.keyCode;var x=a.shiftKey||a.ctrlKey||a.altKey||a.metaKey;switch(c){case 13:c=x?13:10;break;case 8:c=x?127:8}c=new Char(c);ic(b,c);return xc(a)}}function yc(a){a=wc(a);var jd=Nb[a];jd!==b&&(f.key=jd,f.keyCode=a,f.keyReleased(),delete Nb[a],hc())}if(!(this instanceof K))throw"called Processing constructor as if it were a function: missing 'new'.";
var P={},Tb=h===b&&k===b,P=Tb?q.createElement("canvas"):"string"===typeof h?q.getElementById(h):h;if(!("getContext"in P))throw"called Processing constructor without passing canvas element reference or id.";var Gb=[],f=this;f.Char=f.Character=Char;a.withCommonFunctions(f);a.withMath(f);a.withProxyFunctions(f,function(a){return Array.prototype.slice.call(a,1)});a.withTouch(f,P,u,q,c);j&&Object.keys(j).forEach(function(a){f[a]=j[a]});f.externals={canvas:P,context:b,sketch:b,window:i};f.name="Processing.js Instance";
f.use3DContext=!1;f.focused=!1;f.breakShape=!1;f.glyphTable={};f.pmouseX=0;f.pmouseY=0;f.mouseX=0;f.mouseY=0;f.mouseButton=0;f.mouseScroll=0;f.mouseClicked=b;f.mouseDragged=b;f.mouseMoved=b;f.mousePressed=b;f.mouseReleased=b;f.mouseScrolled=b;f.mouseOver=b;f.mouseOut=b;f.touchStart=b;f.touchEnd=b;f.touchMove=b;f.touchCancel=b;f.key=b;f.keyCode=b;f.keyPressed=r;f.keyReleased=r;f.keyTyped=r;f.draw=b;f.setup=b;f.__mousePressed=!1;f.__keyPressed=!1;f.__frameRate=60;f.frameCount=0;f.width=100;f.height=
100;var m,da,ka,S=!0,va=[1,1,1,1],Ya=4294967295,Za=!0,L=!0,ra=[0,0,0,1],Qa=4278190080,Ka=!0,ga=1,Hb=!1,Fa=!1,La=!0,Ra=0,Ma=c.CORNER,Ga=c.CENTER,zc=0,N=0,Ib=0,rb=c.NORMAL_MODE_AUTO,$a=60,Ac=1E3/$a,Ub=P.style.cursor,T=c.POLYGON,Bc=0,Cc=20,$=!1,ca=-3355444,Ia=20,fa=255,ma=255,Aa=255,ja=255,Jb=0,ua=0,za=c.RGB,Ea=null,vc=null,Kc=Date.now(),fc=Kc,Pb=0,Ba,tb,Vb,ub,Na,na,jc,Ha={attributes:{},locations:{}},z,H,ha,Kb,Wb,Lb,Xb,vb,wb,ib,kc,ab,lc,Q,Yb,jb,Ec,Mb=0,ed=0,fd=c.IMAGE,ya=!1,Vc,Xc,Zc,Sb=c.LEFT,qb=c.BASELINE,
Mc=c.MODEL,ec="Arial",fb=12,sb=9,hb=2,Sa=14,ba=PFont.get(ec,fb),id,$c=null,Dc=!1,ld,md=1E3,Nb=[],Zb=null,Cd=[c.SHIFT,c.CONTROL,c.ALT,c.CAPSLK,c.PGUP,c.PGDN,c.END,c.HOME,c.LEFT,c.UP,c.RIGHT,c.DOWN,c.NUMLK,c.INSERT,c.F1,c.F2,c.F3,c.F4,c.F5,c.F6,c.F7,c.F8,c.F9,c.F10,c.F11,c.F12,c.META],M=0,Rc=0,$b=0,kb=[],lb=[],mb=[],Fc=new C(c.SINCOS_LENGTH),Gc=new C(c.SINCOS_LENGTH),O,ac,nb,J,la,mc,nc,Hc,cb,Sc=!1,Tc=60*(Math.PI/180),ad=f.width/2,bc=f.height/2,cc=bc/Math.tan(Tc/2),nd=cc/10,od=10*cc,pd=f.width/f.height,
n=[],Ca=[],wa=0,oc=!1,pc=!1,Ob=!0,Ic=c.CORNER,qd=[],rd=new C([0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5,-0.5,-0.5,0.5,
-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5]),sd=new C([0.5,0.5,0.5,0.5,-0.5,0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5]),Dd=new C([0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,
0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]),bd=new C([0,0,0,0,1,0,1,1,0,1,0,0]),Ed=new C([0,0,1,0,0,1,0,0,1,0,0,1]),Fd="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec3 aNormal;attribute vec4 aColor;attribute vec2 aTexture;varying   vec2 vTexture;uniform vec4 uColor;uniform bool uUsingMat;uniform vec3 uSpecular;uniform vec3 uMaterialEmissive;uniform vec3 uMaterialAmbient;uniform vec3 uMaterialSpecular;uniform float uShininess;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform mat4 uNormalTransform;uniform int uLightCount;uniform vec3 uFalloff;struct Light {  int type;  vec3 color;  vec3 position;  vec3 direction;  float angle;  vec3 halfVector;  float concentration;};uniform Light uLights0;uniform Light uLights1;uniform Light uLights2;uniform Light uLights3;uniform Light uLights4;uniform Light uLights5;uniform Light uLights6;uniform Light uLights7;Light getLight(int index){  if(index \x3d\x3d 0) return uLights0;  if(index \x3d\x3d 1) return uLights1;  if(index \x3d\x3d 2) return uLights2;  if(index \x3d\x3d 3) return uLights3;  if(index \x3d\x3d 4) return uLights4;  if(index \x3d\x3d 5) return uLights5;  if(index \x3d\x3d 6) return uLights6;  return uLights7;}void AmbientLight( inout vec3 totalAmbient, in vec3 ecPos, in Light light ) {  float d \x3d length( light.position - ecPos );  float attenuation \x3d 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  totalAmbient +\x3d light.color * attenuation;}void DirectionalLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor \x3d 0.0;  float nDotVP \x3d max(0.0, dot( vertNormal, normalize(-light.position) ));  float nDotVH \x3d max(0.0, dot( vertNormal, normalize(-light.position-normalize(ecPos) )));  if( nDotVP !\x3d 0.0 ){    powerFactor \x3d pow( nDotVH, uShininess );  }  col +\x3d light.color * nDotVP;  spec +\x3d uSpecular * powerFactor;}void PointLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor;   vec3 VP \x3d light.position - ecPos;  float d \x3d length( VP );   VP \x3d normalize( VP );  float attenuation \x3d 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  float nDotVP \x3d max( 0.0, dot( vertNormal, VP ));  vec3 halfVector \x3d normalize( VP - normalize(ecPos) );  float nDotHV \x3d max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP \x3d\x3d 0.0 ) {    powerFactor \x3d 0.0;  }  else {    powerFactor \x3d pow( nDotHV, uShininess );  }  spec +\x3d uSpecular * powerFactor * attenuation;  col +\x3d light.color * nDotVP * attenuation;}void SpotLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float spotAttenuation;  float powerFactor \x3d 0.0;  vec3 VP \x3d light.position - ecPos;  vec3 ldir \x3d normalize( -light.direction );  float d \x3d length( VP );  VP \x3d normalize( VP );  float attenuation \x3d 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ) );  float spotDot \x3d dot( VP, ldir );"+
(/Windows/.test(d.userAgent)?"  spotAttenuation \x3d 1.0; ":"  if( spotDot \x3e cos( light.angle ) ) {    spotAttenuation \x3d pow( spotDot, light.concentration );  }  else{    spotAttenuation \x3d 0.0;  }  attenuation *\x3d spotAttenuation;")+"  float nDotVP \x3d max( 0.0, dot( vertNormal, VP ) );  vec3 halfVector \x3d normalize( VP - normalize(ecPos) );  float nDotHV \x3d max( 0.0, dot( vertNormal, halfVector ) );  if( nDotVP !\x3d 0.0 ) {    powerFactor \x3d pow( nDotHV, uShininess );  }  spec +\x3d uSpecular * powerFactor * attenuation;  col +\x3d light.color * nDotVP * attenuation;}void main(void) {  vec3 finalAmbient \x3d vec3( 0.0 );  vec3 finalDiffuse \x3d vec3( 0.0 );  vec3 finalSpecular \x3d vec3( 0.0 );  vec4 col \x3d uColor;  if ( uColor[0] \x3d\x3d -1.0 ){    col \x3d aColor;  }  vec3 norm \x3d normalize(vec3( uNormalTransform * vec4( aNormal, 0.0 ) ));  vec4 ecPos4 \x3d uView * uModel * vec4(aVertex, 1.0);  vec3 ecPos \x3d (vec3(ecPos4))/ecPos4.w;  if( uLightCount \x3d\x3d 0 ) {    vFrontColor \x3d col + vec4(uMaterialSpecular, 1.0);  }  else {    for( int i \x3d 0; i \x3c 8; i++ ) {      Light l \x3d getLight(i);      if( i \x3e\x3d uLightCount ){        break;      }      if( l.type \x3d\x3d 0 ) {        AmbientLight( finalAmbient, ecPos, l );      }      else if( l.type \x3d\x3d 1 ) {        DirectionalLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else if( l.type \x3d\x3d 2 ) {        PointLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else {        SpotLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }    }   if( uUsingMat \x3d\x3d false ) {     vFrontColor \x3d vec4(       vec3( col ) * finalAmbient +       vec3( col ) * finalDiffuse +       vec3( col ) * finalSpecular,       col[3] );   }   else{     vFrontColor \x3d vec4(        uMaterialEmissive +        (vec3(col) * uMaterialAmbient * finalAmbient ) +        (vec3(col) * finalDiffuse) +        (uMaterialSpecular * finalSpecular),        col[3] );    }  }  vTexture.xy \x3d aTexture.xy;  gl_Position \x3d uProjection * uView * uModel * vec4( aVertex, 1.0 );}",
cd=function(a,b,c){var x=a.createShader(a.VERTEX_SHADER);a.shaderSource(x,b);a.compileShader(x);if(!a.getShaderParameter(x,a.COMPILE_STATUS))throw a.getShaderInfoLog(x);b=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(b,c);a.compileShader(b);if(!a.getShaderParameter(b,a.COMPILE_STATUS))throw a.getShaderInfoLog(b);c=a.createProgram();a.attachShader(c,x);a.attachShader(c,b);a.linkProgram(c);if(!a.getProgramParameter(c,a.LINK_STATUS))throw"Error linking shaders.";return c},td=function(a,b,c,x){return{x:a,
y:b,w:c,h:x}},Uc=td,Gd=function(a,b,c,x,f){return{x:a,y:b,w:f?c:c-a,h:f?x:x-b}},Hd=function(a,b,c,x){return{x:a-c/2,y:b-x/2,w:c,h:x}},X=function(){},G=function(){},D=function(){},E=function(){};G.prototype=new X;G.prototype.constructor=G;D.prototype=new X;D.prototype.constructor=D;E.prototype=new X;E.prototype.constructor=E;X.prototype.a3DOnlyFunction=r;f.shape=function(a,b,ea,x,d){1<=arguments.length&&null!==arguments[0]&&a.isVisible()&&(f.pushMatrix(),Ic===c.CENTER?5===arguments.length?(f.translate(b-
x/2,ea-d/2),f.scale(x/a.getWidth(),d/a.getHeight())):3===arguments.length?f.translate(b-a.getWidth()/2,-a.getHeight()/2):f.translate(-a.getWidth()/2,-a.getHeight()/2):Ic===c.CORNER?5===arguments.length?(f.translate(b,ea),f.scale(x/a.getWidth(),d/a.getHeight())):3===arguments.length&&f.translate(b,ea):Ic===c.CORNERS&&(5===arguments.length?(x-=b,d-=ea,f.translate(b,ea),f.scale(x/a.getWidth(),d/a.getHeight())):3===arguments.length&&f.translate(b,ea)),a.draw(f),(1===arguments.length&&Ic===c.CENTER||1<
arguments.length)&&f.popMatrix())};f.shapeMode=function(a){Ic=a};f.loadShape=function(a){return 1===arguments.length&&-1<a.indexOf(".svg")?new PShapeSVG(null,a):null};f.loadXML=function(a){return new XML(f,a)};f.parseXML=function(a){var b=new XML;b.parse(a);return b};var ud=function(a){for(var b=0,c=0;c<a.length;c++)b=0!==c?Math.max(b,Math.abs(a[c])):Math.abs(a[c]);a=(b+"").indexOf(".");0===a?a=1:-1===a&&(a=(b+"").length);return a},xb=f.PMatrix2D=function(){0===arguments.length?this.reset():1===arguments.length&&
arguments[0]instanceof xb?this.set(arguments[0].array()):6===arguments.length&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};xb.prototype={set:function(){if(6===arguments.length){var a=arguments;this.set([a[0],a[1],a[2],a[3],a[4],a[5]])}else 1===arguments.length&&arguments[0]instanceof xb?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var a=new xb;a.set(this.elements);
return a},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(a,b){this.elements[2]=a*this.elements[0]+b*this.elements[1]+this.elements[2];this.elements[5]=a*this.elements[3]+b*this.elements[4]+this.elements[5]},invTranslate:function(a,b){this.translate(-a,-b)},transpose:function(){},mult:function(a,b){var c,x;a instanceof PVector?(c=a.x,x=a.y,b||(b=new PVector)):a instanceof Array&&(c=a[0],x=a[1],b||(b=[]));b instanceof Array?(b[0]=this.elements[0]*
c+this.elements[1]*x+this.elements[2],b[1]=this.elements[3]*c+this.elements[4]*x+this.elements[5]):b instanceof PVector&&(b.x=this.elements[0]*c+this.elements[1]*x+this.elements[2],b.y=this.elements[3]*c+this.elements[4]*x+this.elements[5],b.z=0);return b},multX:function(a,b){return a*this.elements[0]+b*this.elements[1]+this.elements[2]},multY:function(a,b){return a*this.elements[3]+b*this.elements[4]+this.elements[5]},skewX:function(a){this.apply(1,0,1,a,0,0)},skewY:function(a){this.apply(1,0,1,
0,a,0)},shearX:function(a){this.apply(1,0,1,Math.tan(a),0,0)},shearY:function(a){this.apply(1,0,1,0,Math.tan(a),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var a=this.determinant();if(Math.abs(a)>c.MIN_INT){var b=this.elements[0],ea=this.elements[1],x=this.elements[2],f=this.elements[3],d=this.elements[4],g=this.elements[5];this.elements[0]=d/a;this.elements[3]=-f/a;this.elements[1]=-ea/a;this.elements[4]=b/a;this.elements[2]=
(ea*g-d*x)/a;this.elements[5]=(f*x-b*g)/a;return!0}return!1},scale:function(a,b){a&&!b&&(b=a);a&&b&&(this.elements[0]*=a,this.elements[1]*=b,this.elements[3]*=a,this.elements[4]*=b)},invScale:function(a,b){a&&!b&&(b=a);this.scale(1/a,1/b)},apply:function(){var a;1===arguments.length&&arguments[0]instanceof xb?a=arguments[0].array():6===arguments.length?a=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(a=arguments[0]);for(var b=[0,0,this.elements[2],0,0,this.elements[5]],
c=0,x=0;2>x;x++)for(var f=0;3>f;f++,c++)b[c]+=this.elements[3*x+0]*a[f+0]+this.elements[3*x+1]*a[f+3];this.elements=b.slice()},preApply:function(){var a;1===arguments.length&&arguments[0]instanceof xb?a=arguments[0].array():6===arguments.length?a=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(a=arguments[0]);var b=[0,0,a[2],0,0,a[5]];b[2]=a[2]+this.elements[2]*a[0]+this.elements[5]*a[1];b[5]=a[5]+this.elements[2]*a[3]+this.elements[5]*a[4];b[0]=this.elements[0]*
a[0]+this.elements[3]*a[1];b[3]=this.elements[0]*a[3]+this.elements[3]*a[4];b[1]=this.elements[1]*a[0]+this.elements[4]*a[1];b[4]=this.elements[1]*a[3]+this.elements[4]*a[4];this.elements=b.slice()},rotate:function(a){var b=Math.cos(a);a=Math.sin(a);var c=this.elements[0],f=this.elements[1];this.elements[0]=b*c+a*f;this.elements[1]=-a*c+b*f;c=this.elements[3];f=this.elements[4];this.elements[3]=b*c+a*f;this.elements[4]=-a*c+b*f},rotateZ:function(a){this.rotate(a)},invRotateZ:function(a){this.rotateZ(a-
Math.PI)},print:function(){var a=ud(this.elements),a=""+f.nfs(this.elements[0],a,4)+" "+f.nfs(this.elements[1],a,4)+" "+f.nfs(this.elements[2],a,4)+"\n"+f.nfs(this.elements[3],a,4)+" "+f.nfs(this.elements[4],a,4)+" "+f.nfs(this.elements[5],a,4)+"\n\n";f.println(a)}};var I=f.PMatrix3D=function(){this.reset()};I.prototype={set:function(){16===arguments.length?this.elements=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof I?this.elements=arguments[0].array():1===arguments.length&&
arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var a=new I;a.set(this.elements);return a},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},translate:function(a,c,ea){ea===b&&(ea=0);this.elements[3]+=a*this.elements[0]+c*this.elements[1]+ea*this.elements[2];this.elements[7]+=a*this.elements[4]+c*this.elements[5]+ea*this.elements[6];this.elements[11]+=a*this.elements[8]+c*this.elements[9]+ea*this.elements[10];
this.elements[15]+=a*this.elements[12]+c*this.elements[13]+ea*this.elements[14]},transpose:function(){var a=this.elements[4];this.elements[4]=this.elements[1];this.elements[1]=a;a=this.elements[8];this.elements[8]=this.elements[2];this.elements[2]=a;a=this.elements[6];this.elements[6]=this.elements[9];this.elements[9]=a;a=this.elements[3];this.elements[3]=this.elements[12];this.elements[12]=a;a=this.elements[7];this.elements[7]=this.elements[13];this.elements[13]=a;a=this.elements[11];this.elements[11]=
this.elements[14];this.elements[14]=a},mult:function(a,b){var c,f,d,g;if(a instanceof PVector)c=a.x,f=a.y,d=a.z,g=1,b||(b=new PVector);else if(a instanceof Array&&(c=a[0],f=a[1],d=a[2],g=a[3]||1,!b||3!==b.length&&4!==b.length))b=[0,0,0];b instanceof Array&&(3===b.length?(b[0]=this.elements[0]*c+this.elements[1]*f+this.elements[2]*d+this.elements[3],b[1]=this.elements[4]*c+this.elements[5]*f+this.elements[6]*d+this.elements[7],b[2]=this.elements[8]*c+this.elements[9]*f+this.elements[10]*d+this.elements[11]):
4===b.length&&(b[0]=this.elements[0]*c+this.elements[1]*f+this.elements[2]*d+this.elements[3]*g,b[1]=this.elements[4]*c+this.elements[5]*f+this.elements[6]*d+this.elements[7]*g,b[2]=this.elements[8]*c+this.elements[9]*f+this.elements[10]*d+this.elements[11]*g,b[3]=this.elements[12]*c+this.elements[13]*f+this.elements[14]*d+this.elements[15]*g));b instanceof PVector&&(b.x=this.elements[0]*c+this.elements[1]*f+this.elements[2]*d+this.elements[3],b.y=this.elements[4]*c+this.elements[5]*f+this.elements[6]*
d+this.elements[7],b.z=this.elements[8]*c+this.elements[9]*f+this.elements[10]*d+this.elements[11]);return b},preApply:function(){var a;1===arguments.length&&arguments[0]instanceof I?a=arguments[0].array():16===arguments.length?a=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(a=arguments[0]);for(var b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=0,f=0;4>f;f++)for(var d=0;4>d;d++,c++)b[c]+=this.elements[d+0]*a[4*f+0]+this.elements[d+4]*a[4*f+1]+this.elements[d+8]*
a[4*f+2]+this.elements[d+12]*a[4*f+3];this.elements=b.slice()},apply:function(){var a;1===arguments.length&&arguments[0]instanceof I?a=arguments[0].array():16===arguments.length?a=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(a=arguments[0]);for(var b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=0,f=0;4>f;f++)for(var d=0;4>d;d++,c++)b[c]+=this.elements[4*f+0]*a[d+0]+this.elements[4*f+1]*a[d+4]+this.elements[4*f+2]*a[d+8]+this.elements[4*f+3]*a[d+12];this.elements=
b.slice()},rotate:function(a,b,c,x){if(4>arguments.length)this.rotateZ(a);else{var d=new PVector(b,c,x),g=d.mag();if(0!==g){1!=g&&(d.normalize(),b=d.x,c=d.y,x=d.z);var d=f.cos(a),g=f.sin(a),h=1-d;this.apply(h*b*b+d,h*b*c-g*x,h*b*x+g*c,0,h*b*c+g*x,h*c*c+d,h*c*x-g*b,0,h*b*x-g*c,h*c*x+g*b,h*x*x+d,0,0,0,0,1)}}},invApply:function(){Hc===b&&(Hc=new I);var a=arguments;Hc.set(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]);if(!Hc.invert())return!1;this.preApply(Hc);
return!0},rotateX:function(a){var b=f.cos(a);a=f.sin(a);this.apply([1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1])},rotateY:function(a){var b=f.cos(a);a=f.sin(a);this.apply([b,0,a,0,0,1,0,0,-a,0,b,0,0,0,0,1])},rotateZ:function(a){var b=Math.cos(a);a=Math.sin(a);this.apply([b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1])},scale:function(a,b,c){a&&!b&&!c?b=c=a:a&&(b&&!c)&&(c=1);a&&(b&&c)&&(this.elements[0]*=a,this.elements[1]*=b,this.elements[2]*=c,this.elements[4]*=a,this.elements[5]*=b,this.elements[6]*=c,this.elements[8]*=
a,this.elements[9]*=b,this.elements[10]*=c,this.elements[12]*=a,this.elements[13]*=b,this.elements[14]*=c)},skewX:function(a){a=Math.tan(a);this.apply(1,a,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(a){a=Math.tan(a);this.apply(1,0,0,0,a,1,0,0,0,0,1,0,0,0,0,1)},shearX:function(a){a=Math.tan(a);this.apply(1,a,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(a){a=Math.tan(a);this.apply(1,0,0,0,a,1,0,0,0,0,1,0,0,0,0,1)},multX:function(a,b,c,f){return!c?this.elements[0]*a+this.elements[1]*b+this.elements[3]:
!f?this.elements[0]*a+this.elements[1]*b+this.elements[2]*c+this.elements[3]:this.elements[0]*a+this.elements[1]*b+this.elements[2]*c+this.elements[3]*f},multY:function(a,b,c,f){return!c?this.elements[4]*a+this.elements[5]*b+this.elements[7]:!f?this.elements[4]*a+this.elements[5]*b+this.elements[6]*c+this.elements[7]:this.elements[4]*a+this.elements[5]*b+this.elements[6]*c+this.elements[7]*f},multZ:function(a,b,c,f){return!f?this.elements[8]*a+this.elements[9]*b+this.elements[10]*c+this.elements[11]:
this.elements[8]*a+this.elements[9]*b+this.elements[10]*c+this.elements[11]*f},multW:function(a,b,c,f){return!f?this.elements[12]*a+this.elements[13]*b+this.elements[14]*c+this.elements[15]:this.elements[12]*a+this.elements[13]*b+this.elements[14]*c+this.elements[15]*f},invert:function(){var a=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],b=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],c=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],
f=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],d=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],g=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],h=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],m=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],k=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],j=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],
i=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],o=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],q=a*o-b*i+c*j+f*k-d*m+g*h;if(1E-9>=Math.abs(q))return!1;var n=[];n[0]=+this.elements[5]*o-this.elements[6]*i+this.elements[7]*j;n[4]=-this.elements[4]*o+this.elements[6]*k-this.elements[7]*m;n[8]=+this.elements[4]*i-this.elements[5]*k+this.elements[7]*h;n[12]=-this.elements[4]*j+this.elements[5]*m-this.elements[6]*h;n[1]=-this.elements[1]*o+this.elements[2]*
i-this.elements[3]*j;n[5]=+this.elements[0]*o-this.elements[2]*k+this.elements[3]*m;n[9]=-this.elements[0]*i+this.elements[1]*k-this.elements[3]*h;n[13]=+this.elements[0]*j-this.elements[1]*m+this.elements[2]*h;n[2]=+this.elements[13]*g-this.elements[14]*d+this.elements[15]*f;n[6]=-this.elements[12]*g+this.elements[14]*c-this.elements[15]*b;n[10]=+this.elements[12]*d-this.elements[13]*c+this.elements[15]*a;n[14]=-this.elements[12]*f+this.elements[13]*b-this.elements[14]*a;n[3]=-this.elements[9]*g+
this.elements[10]*d-this.elements[11]*f;n[7]=+this.elements[8]*g-this.elements[10]*c+this.elements[11]*b;n[11]=-this.elements[8]*d+this.elements[9]*c-this.elements[11]*a;n[15]=+this.elements[8]*f-this.elements[9]*b+this.elements[10]*a;a=1/q;n[0]*=a;n[1]*=a;n[2]*=a;n[3]*=a;n[4]*=a;n[5]*=a;n[6]*=a;n[7]*=a;n[8]*=a;n[9]*=a;n[10]*=a;n[11]*=a;n[12]*=a;n[13]*=a;n[14]*=a;n[15]*=a;this.elements=n.slice();return!0},toString:function(){for(var a="",b=0;15>b;b++)a+=this.elements[b]+", ";return a+=this.elements[15]},
print:function(){var a=ud(this.elements),a=""+f.nfs(this.elements[0],a,4)+" "+f.nfs(this.elements[1],a,4)+" "+f.nfs(this.elements[2],a,4)+" "+f.nfs(this.elements[3],a,4)+"\n"+f.nfs(this.elements[4],a,4)+" "+f.nfs(this.elements[5],a,4)+" "+f.nfs(this.elements[6],a,4)+" "+f.nfs(this.elements[7],a,4)+"\n"+f.nfs(this.elements[8],a,4)+" "+f.nfs(this.elements[9],a,4)+" "+f.nfs(this.elements[10],a,4)+" "+f.nfs(this.elements[11],a,4)+"\n"+f.nfs(this.elements[12],a,4)+" "+f.nfs(this.elements[13],a,4)+" "+
f.nfs(this.elements[14],a,4)+" "+f.nfs(this.elements[15],a,4)+"\n\n";f.println(a)},invTranslate:function(a,b,c){this.preApply(1,0,0,-a,0,1,0,-b,0,0,1,-c,0,0,0,1)},invRotateX:function(a){var b=Math.cos(-a);a=Math.sin(-a);this.preApply([1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1])},invRotateY:function(a){var b=Math.cos(-a);a=Math.sin(-a);this.preApply([b,0,a,0,0,1,0,0,-a,0,b,0,0,0,0,1])},invRotateZ:function(a){var b=Math.cos(-a);a=Math.sin(-a);this.preApply([b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1])},invScale:function(a,
b,c){this.preApply([1/a,0,0,0,0,1/b,0,0,0,0,1/c,0,0,0,0,1])}};var yb=f.PMatrixStack=function(){this.matrixStack=[]};yb.prototype.load=function(){var a=ka.$newPMatrix();1===arguments.length?a.set(arguments[0]):a.set(arguments);this.matrixStack.push(a)};G.prototype.$newPMatrix=function(){return new xb};D.prototype.$newPMatrix=function(){return new I};yb.prototype.push=function(){this.matrixStack.push(this.peek())};yb.prototype.pop=function(){return this.matrixStack.pop()};yb.prototype.peek=function(){var a=
ka.$newPMatrix();a.set(this.matrixStack[this.matrixStack.length-1]);return a};yb.prototype.mult=function(a){this.matrixStack[this.matrixStack.length-1].apply(a)};f.split=function(a,b){return a.split(b)};f.splitTokens=function(a,c){if(c===b)return a.split(/\s+/g);var f=c.split(/()/g),x="",d=a.length,g,h,m=[];for(g=0;g<d;g++)h=a[g],-1<f.indexOf(h)?(""!==x&&m.push(x),x=""):x+=h;""!==x&&m.push(x);return m};f.append=function(a,b){a[a.length]=b;return a};f.concat=function(a,b){return a.concat(b)};f.sort=
function(a,b){var c=[];if(0<a.length){for(var f=0<b?b:a.length,d=0;d<f;d++)c.push(a[d]);"string"===typeof a[0]?c.sort():c.sort(function(a,b){return a-b});if(0<b)for(f=c.length;f<a.length;f++)c.push(a[f])}return c};f.splice=function(a,b,c){if(0===b.length)return a;if(b instanceof Array)for(var f=0;f<b.length;c++,f++)a.splice(c,0,b[f]);else a.splice(c,0,b);return a};f.subset=function(a,c,f){return a.slice(c,f!==b?c+f:a.length)};f.join=function(a,b){return a.join(b)};f.shorten=function(a){for(var b=
[],c=a.length,f=0;f<c;f++)b[f]=a[f];b.pop();return b};f.expand=function(a,b){var c=a.slice(0);c.length=b||2*a.length;return c};f.arrayCopy=function(){var a,c=0,f,x=0,d;2===arguments.length?(a=arguments[0],f=arguments[1],d=a.length):3===arguments.length?(a=arguments[0],f=arguments[1],d=arguments[2]):5===arguments.length&&(a=arguments[0],c=arguments[1],f=arguments[2],x=arguments[3],d=arguments[4]);for(var g=c;g<d+c;g++,x++)if(f[x]!==b)f[x]=a[g];else throw"array index out of bounds exception";};f.reverse=
function(a){return a.reverse()};f.mix=function(a,b,c){return a+((b-a)*c>>8)};f.peg=function(a){return 0>a?0:255<a?255:a};var zb=function(a,b,c,f,d,g,h,m,k,j,i){a=Ta(((a&4278190080)>>>24)+b,255)<<24;c+=(k-c)*b>>8;f+=(j-f)*b>>8;b=d+((i-d)*b>>8);return a|(0>c?0:255<c?255:c)<<16|(0>f?0:255<f?255:f)<<8|(0>b?0:255<b?255:b)},oa=c.ALPHA_MASK,U=c.RED_MASK,R=c.GREEN_MASK,W=c.BLUE_MASK,Ta=Math.min,qc=Math.max;f.modes={replace:function(a,b){return b},blend:function(a,b){var c=(b&oa)>>>24,f=a&U,d=a&R,g=a&W,h=
b&U,m=b&R,k=b&W;return Ta(((a&oa)>>>24)+c,255)<<24|f+((h-f)*c>>8)&U|d+((m-d)*c>>8)&R|g+((k-g)*c>>8)&W},add:function(a,b){var c=(b&oa)>>>24;return Ta(((a&oa)>>>24)+c,255)<<24|Ta((a&U)+((b&U)>>8)*c,U)&U|Ta((a&R)+((b&R)>>8)*c,R)&R|Ta((a&W)+((b&W)*c>>8),W)},subtract:function(a,b){var c=(b&oa)>>>24;return Ta(((a&oa)>>>24)+c,255)<<24|qc((a&U)-((b&U)>>8)*c,R)&U|qc((a&R)-((b&R)>>8)*c,W)&R|qc((a&W)-((b&W)*c>>8),0)},lightest:function(a,b){var c=(b&oa)>>>24;return Ta(((a&oa)>>>24)+c,255)<<24|qc(a&U,((b&U)>>
8)*c)&U|qc(a&R,((b&R)>>8)*c)&R|qc(a&W,(b&W)*c>>8)},darkest:function(a,b){var c=(b&oa)>>>24,f=a&U,d=a&R,g=a&W,h=Ta(a&U,((b&U)>>8)*c),m=Ta(a&R,((b&R)>>8)*c),k=Ta(a&W,(b&W)*c>>8);return Ta(((a&oa)>>>24)+c,255)<<24|f+((h-f)*c>>8)&U|d+((m-d)*c>>8)&R|g+((k-g)*c>>8)&W},difference:function(a,b){var c=(a&U)>>16,f=(a&R)>>8,d=a&W,g=(b&U)>>16,h=(b&R)>>8,m=b&W;return zb(a,(b&oa)>>>24,c,f,d,g,h,m,c>g?c-g:g-c,f>h?f-h:h-f,d>m?d-m:m-d)},exclusion:function(a,b){var c=(a&U)>>16,f=(a&R)>>8,d=a&W,g=(b&U)>>16,h=(b&R)>>
8,m=b&W;return zb(a,(b&oa)>>>24,c,f,d,g,h,m,c+g-(c*g>>7),f+h-(f*h>>7),d+m-(d*m>>7))},multiply:function(a,b){var c=(a&U)>>16,f=(a&R)>>8,d=a&W,g=(b&U)>>16,h=(b&R)>>8,m=b&W;return zb(a,(b&oa)>>>24,c,f,d,g,h,m,c*g>>8,f*h>>8,d*m>>8)},screen:function(a,b){var c=(a&U)>>16,f=(a&R)>>8,d=a&W,g=(b&U)>>16,h=(b&R)>>8,m=b&W;return zb(a,(b&oa)>>>24,c,f,d,g,h,m,255-((255-c)*(255-g)>>8),255-((255-f)*(255-h)>>8),255-((255-d)*(255-m)>>8))},hard_light:function(a,b){var c=(a&U)>>16,f=(a&R)>>8,d=a&W,g=(b&U)>>16,h=(b&R)>>
8,m=b&W;return zb(a,(b&oa)>>>24,c,f,d,g,h,m,128>g?c*g>>7:255-((255-c)*(255-g)>>7),128>h?f*h>>7:255-((255-f)*(255-h)>>7),128>m?d*m>>7:255-((255-d)*(255-m)>>7))},soft_light:function(a,b){var c=(a&U)>>16,f=(a&R)>>8,d=a&W,g=(b&U)>>16,h=(b&R)>>8,m=b&W;return zb(a,(b&oa)>>>24,c,f,d,g,h,m,(c*g>>7)+(c*c>>8)-(c*c*g>>15),(f*h>>7)+(f*f>>8)-(f*f*h>>15),(d*m>>7)+(d*d>>8)-(d*d*m>>15))},overlay:function(a,b){var c=(a&U)>>16,f=(a&R)>>8,d=a&W,g=(b&U)>>16,h=(b&R)>>8,m=b&W;return zb(a,(b&oa)>>>24,c,f,d,g,h,m,128>c?
c*g>>7:255-((255-c)*(255-g)>>7),128>f?f*h>>7:255-((255-f)*(255-h)>>7),128>d?d*m>>7:255-((255-d)*(255-m)>>7))},dodge:function(a,b){var c=(b&oa)>>>24,f=(a&U)>>16,d=(a&R)>>8,g=a&W,h=(b&U)>>16,m=(b&R)>>8,k=b&W,j=255;255!==h&&(j=(f<<8)/(255-h),j=0>j?0:255<j?255:j);var i=255;255!==m&&(i=(d<<8)/(255-m),i=0>i?0:255<i?255:i);var n=255;255!==k&&(n=(g<<8)/(255-k),n=0>n?0:255<n?255:n);return zb(a,c,f,d,g,h,m,k,j,i,n)},burn:function(a,b){var c=(b&oa)>>>24,f=(a&U)>>16,d=(a&R)>>8,g=a&W,h=(b&U)>>16,m=(b&R)>>8,k=
b&W,j=0;0!==h&&(j=(255-f<<8)/h,j=255-(0>j?0:255<j?255:j));var i=0;0!==m&&(i=(255-d<<8)/m,i=255-(0>i?0:255<i?255:i));var n=0;0!==k&&(n=(255-g<<8)/k,n=255-(0>n?0:255<n?255:n));return zb(a,c,f,d,g,h,m,k,j,i,n)}};f.color=function(a,f,d,x){return a!==b&&f!==b&&d!==b&&x!==b?qa(a,f,d,x):a!==b&&f!==b&&d!==b?qa(a,f,d,fa):a!==b&&f!==b?(a&c.ALPHA_MASK?(f=Math.round(255*(f/fa)),f=255<f?255:f,a=a-(a&c.ALPHA_MASK)+((0>f?0:f)<<24&c.ALPHA_MASK)):a=za===c.RGB?qa(a,a,a,f):za===c.HSB?qa(0,0,a/ma*ja,f):void 0,a):"number"===
typeof a?db(a):qa(ma,Aa,ja,fa)};f.color.toString=function(a){return"rgba("+((a&c.RED_MASK)>>>16)+","+((a&c.GREEN_MASK)>>>8)+","+(a&c.BLUE_MASK)+","+((a&c.ALPHA_MASK)>>>24)/255+")"};f.color.toInt=function(a,b,f,d){return d<<24&c.ALPHA_MASK|a<<16&c.RED_MASK|b<<8&c.GREEN_MASK|f&c.BLUE_MASK};f.color.toArray=function(a){return[(a&c.RED_MASK)>>>16,(a&c.GREEN_MASK)>>>8,a&c.BLUE_MASK,(a&c.ALPHA_MASK)>>>24]};f.color.toGLArray=function(a){return[((a&c.RED_MASK)>>>16)/255,((a&c.GREEN_MASK)>>>8)/255,(a&c.BLUE_MASK)/
255,((a&c.ALPHA_MASK)>>>24)/255]};f.color.toRGB=function(a,b,c){a=a>ma?ma:a;b=b>Aa?Aa:b;c=c>ja?ja:c;a=360*(a/ma);b=100*(b/Aa);c=100*(c/ja);var f=Math.round(255*(c/100));if(0===b)return[f,f,f];a%=360;var d=a%60,g=Math.round(255*(c*(100-b)/1E4)),h=Math.round(255*(c*(6E3-b*d)/6E5));b=Math.round(255*(c*(6E3-b*(60-d))/6E5));switch(Math.floor(a/60)){case 0:return[f,b,g];case 1:return[h,f,g];case 2:return[g,f,b];case 3:return[g,h,f];case 4:return[b,g,f];case 5:return[f,g,h]}};f.brightness=function(a){return Qb(a)[2]};
f.saturation=function(a){return Qb(a)[1]};f.hue=function(a){return Qb(a)[0]};f.red=function(a){return((a&c.RED_MASK)>>>16)/255*ma};f.green=function(a){return((a&c.GREEN_MASK)>>>8)/255*Aa};f.blue=function(a){return(a&c.BLUE_MASK)/255*ja};f.alpha=function(a){return((a&c.ALPHA_MASK)>>>24)/255*fa};f.lerpColor=function(a,b,d){var x,g,h,m,k,j;a=f.color(a);b=f.color(b);if(za===c.HSB)return h=Qb(a),a=((a&c.ALPHA_MASK)>>>24)/fa,g=Qb(b),b=((b&c.ALPHA_MASK)>>>24)/fa,j=f.lerp(h[0],g[0],d),x=f.lerp(h[1],g[1],
d),h=f.lerp(h[2],g[2],d),h=f.color.toRGB(j,x,h),d=f.lerp(a,b,d)*fa+0.5|0,d<<24&c.ALPHA_MASK|h[0]<<16&c.RED_MASK|h[1]<<8&c.GREEN_MASK|h[2]&c.BLUE_MASK;x=(a&c.RED_MASK)>>>16;g=(a&c.GREEN_MASK)>>>8;h=a&c.BLUE_MASK;a=((a&c.ALPHA_MASK)>>>24)/fa;m=(b&c.RED_MASK)>>>16;k=(b&c.GREEN_MASK)>>>8;j=b&c.BLUE_MASK;b=((b&c.ALPHA_MASK)>>>24)/fa;x=f.lerp(x,m,d)+0.5|0;g=f.lerp(g,k,d)+0.5|0;h=f.lerp(h,j,d)+0.5|0;d=f.lerp(a,b,d)*fa+0.5|0;return d<<24&c.ALPHA_MASK|x<<16&c.RED_MASK|g<<8&c.GREEN_MASK|h&c.BLUE_MASK};f.colorMode=
function(){za=arguments[0];1<arguments.length&&(ma=arguments[1],Aa=arguments[2]||arguments[1],ja=arguments[3]||arguments[1],fa=arguments[4]||arguments[1])};f.blendColor=function(a,b,d){if(d===c.REPLACE)return f.modes.replace(a,b);if(d===c.BLEND)return f.modes.blend(a,b);if(d===c.ADD)return f.modes.add(a,b);if(d===c.SUBTRACT)return f.modes.subtract(a,b);if(d===c.LIGHTEST)return f.modes.lightest(a,b);if(d===c.DARKEST)return f.modes.darkest(a,b);if(d===c.DIFFERENCE)return f.modes.difference(a,b);if(d===
c.EXCLUSION)return f.modes.exclusion(a,b);if(d===c.MULTIPLY)return f.modes.multiply(a,b);if(d===c.SCREEN)return f.modes.screen(a,b);if(d===c.HARD_LIGHT)return f.modes.hard_light(a,b);if(d===c.SOFT_LIGHT)return f.modes.soft_light(a,b);if(d===c.OVERLAY)return f.modes.overlay(a,b);if(d===c.DODGE)return f.modes.dodge(a,b);if(d===c.BURN)return f.modes.burn(a,b)};f.printMatrix=function(){J.print()};G.prototype.translate=function(a,b){J.translate(a,b);la.invTranslate(a,b);m.translate(a,b)};D.prototype.translate=
function(a,b,c){J.translate(a,b,c);la.invTranslate(a,b,c)};G.prototype.scale=function(a,b){J.scale(a,b);la.invScale(a,b);m.scale(a,b||a)};D.prototype.scale=function(a,b,c){J.scale(a,b,c);la.invScale(a,b,c)};G.prototype.transform=function(a){a=a.array();m.transform(a[0],a[3],a[1],a[4],a[2],a[5])};D.prototype.transformm=function(){throw"p.transform is currently not supported in 3D mode";};G.prototype.pushMatrix=function(){mc.load(J);nc.load(la);m.save()};D.prototype.pushMatrix=function(){mc.load(J);
nc.load(la)};G.prototype.popMatrix=function(){J.set(mc.pop());la.set(nc.pop());eb()};D.prototype.popMatrix=function(){J.set(mc.pop());la.set(nc.pop())};G.prototype.resetMatrix=function(){J.reset();la.reset();m.setTransform(1,0,0,1,0,0)};D.prototype.resetMatrix=function(){J.reset();la.reset()};X.prototype.applyMatrix=function(){var a=arguments;J.apply(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]);la.invApply(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],
a[10],a[11],a[12],a[13],a[14],a[15])};G.prototype.applyMatrix=function(){for(var a=arguments,b=a.length;16>b;b++)a[b]=0;a[10]=a[15]=1;X.prototype.applyMatrix.apply(this,a)};f.rotateX=function(a){J.rotateX(a);la.invRotateX(a)};G.prototype.rotateZ=function(){throw"rotateZ() is not supported in 2D mode. Use rotate(float) instead.";};D.prototype.rotateZ=function(a){J.rotateZ(a);la.invRotateZ(a)};f.rotateY=function(a){J.rotateY(a);la.invRotateY(a)};G.prototype.rotate=function(a){J.rotateZ(a);la.invRotateZ(a);
m.rotate(a)};D.prototype.rotate=function(a){4>arguments.length?f.rotateZ(a):(J.rotate(a,arguments[1],arguments[2],arguments[3]),la.rotate(-a,arguments[1],arguments[2],arguments[3]))};G.prototype.shearX=function(a){J.shearX(a);m.transform(1,0,a,1,0,0)};D.prototype.shearX=function(a){J.shearX(a)};G.prototype.shearY=function(a){J.shearY(a);m.transform(1,a,0,1,0,0)};D.prototype.shearY=function(a){J.shearY(a)};f.pushStyle=function(){m.save();f.pushMatrix();qd.push({doFill:S,currentFillColor:Ya,doStroke:L,
currentStrokeColor:Qa,curTint:Ea,curRectMode:Ma,curColorMode:za,colorModeX:ma,colorModeZ:ja,colorModeY:Aa,colorModeA:fa,curTextFont:ba,horizontalTextAlignment:Sb,verticalTextAlignment:qb,textMode:Mc,curFontName:ec,curTextSize:fb,curTextAscent:sb,curTextDescent:hb,curTextLeading:Sa})};f.popStyle=function(){var a=qd.pop();if(a)eb(),f.popMatrix(),S=a.doFill,Ya=a.currentFillColor,L=a.doStroke,Qa=a.currentStrokeColor,Ea=a.curTint,Ma=a.curRectMode,za=a.curColorMode,ma=a.colorModeX,ja=a.colorModeZ,Aa=a.colorModeY,
fa=a.colorModeA,ba=a.curTextFont,ec=a.curFontName,fb=a.curTextSize,Sb=a.horizontalTextAlignment,qb=a.verticalTextAlignment,Mc=a.textMode,sb=a.curTextAscent,hb=a.curTextDescent,Sa=a.curTextLeading;else throw"Too many popStyle() without enough pushStyle()";};f.year=function(){return(new Date).getFullYear()};f.month=function(){return(new Date).getMonth()+1};f.day=function(){return(new Date).getDate()};f.hour=function(){return(new Date).getHours()};f.minute=function(){return(new Date).getMinutes()};f.second=
function(){return(new Date).getSeconds()};f.millis=function(){return Date.now()-Kc};G.prototype.redraw=function(){pb();m.lineWidth=ga;var a=f.pmouseX,b=f.pmouseY;f.pmouseX=Jb;f.pmouseY=ua;m.save();f.draw();eb();Jb=f.mouseX;ua=f.mouseY;f.pmouseX=a;f.pmouseY=b};D.prototype.redraw=function(){pb();var a=f.pmouseX,b=f.pmouseY;f.pmouseX=Jb;f.pmouseY=ua;m.clear(m.DEPTH_BUFFER_BIT);Ha={attributes:{},locations:{}};f.noLights();f.lightFalloff(1,0,0);f.shininess(1);f.ambient(255,255,255);f.specular(0,0,0);f.emissive(0,
0,0);f.camera();f.draw();Jb=f.mouseX;ua=f.mouseY;f.pmouseX=a;f.pmouseY=b};f.noLoop=function(){Hb=La=!1;clearInterval(Ra);da.onPause()};f.loop=function(){Hb||(fc=Date.now(),Pb=0,Ra=i.setInterval(function(){try{da.onFrameStart(),f.redraw(),da.onFrameEnd()}catch(a){throw i.clearInterval(Ra),a;}},Ac),Hb=La=!0,da.onLoop())};f.frameRate=function(a){$a=a;Ac=1E3/$a;La&&(f.noLoop(),f.loop())};f.exit=function(){i.clearInterval(Ra);var a=f.externals.canvas.id;y.splice(ob[a],1);delete ob[a];delete P.onmousedown;
for(var b in K.lib)K.lib.hasOwnProperty(b)&&K.lib[b].hasOwnProperty("detach")&&K.lib[b].detach(f);for(a=Gb.length;a--;){var c=Gb[a];b=c.elem;var d=c.type,c=c.fn;b.removeEventListener?b.removeEventListener(d,c,!1):b.detachEvent&&b.detachEvent("on"+d,c)}da.onExit()};f.cursor=function(){if(1<arguments.length||1===arguments.length&&arguments[0]instanceof f.PImage){var a=arguments[0],b,c;if(3<=arguments.length){if(b=arguments[1],c=arguments[2],0>b||0>c||c>=a.height||b>=a.width)throw"x and y must be non-negative and less than the dimensions of the image";
}else b=a.width>>>1,c=a.height>>>1;a='url("'+a.toDataURL()+'") '+b+" "+c+", default";P.style.cursor=a}else P.style.cursor=1===arguments.length?arguments[0]:Ub};f.noCursor=function(){P.style.cursor=c.NOCURSOR};f.link=function(a,c){c!==b?i.open(a,c):i.location=a};f.beginDraw=r;f.endDraw=r;G.prototype.toImageData=function(a,c,d,x){a=a!==b?a:0;c=c!==b?c:0;d=d!==b?d:f.width;x=x!==b?x:f.height;return m.getImageData(a,c,d,x)};D.prototype.toImageData=function(a,c,d,x){a=a!==b?a:0;c=c!==b?c:0;d=d!==b?d:f.width;
x=x!==b?x:f.height;var g=q.createElement("canvas").getContext("2d").createImageData(d,x),h=new rc(4*d*x);m.readPixels(a,c,d,x,m.RGBA,m.UNSIGNED_BYTE,h);a=0;c=h.length;for(var k=g.data;a<c;a++)k[a]=h[4*(x-1-Math.floor(a/4/d))*d+a%(4*d)];return g};f.status=function(a){i.status=a};f.binary=function(a,b){var c;if(0<b)c=b;else if(a instanceof Char)c=16,a|=0;else for(c=32;1<c&&!(a>>>c-1&1);)c--;for(var f="";0<c;)f+=a>>>--c&1?"1":"0";return f};f.unbinary=function(a){for(var b=a.length-1,c=1,f=0;0<=b;){var d=
a[b--];if("0"!==d&&"1"!==d)throw"the value passed into unbinary was not an 8 bit binary number";"1"===d&&(f+=c);c<<=1}return f};f.hex=function(a,c){1===arguments.length&&(c=a instanceof Char?4:8);var f=a,d=c,d=d===b||null===d?d=8:d;0>f&&(f=4294967295+f+1);for(f=Number(f).toString(16).toUpperCase();f.length<d;)f="0"+f;f.length>=d&&(f=f.substring(f.length-d,f.length));return f};f.unhex=function(a){if(a instanceof Array){for(var b=[],c=0;c<a.length;c++)b.push(Bb(a[c]));return b}return Bb(a)};f.loadStrings=
function(a){if(Da[a])return Da[a].split("\n");a=g(a);if("string"!==typeof a||""===a)return[];a=a.replace(/(\r\n?)/g,"\n").replace(/\n$/,"");return a.split("\n")};f.saveStrings=function(a,b){Da[a]=b.join("\n")};f.loadBytes=function(a){a=g(a);for(var b=[],c=0;c<a.length;c++)b.push(a.charCodeAt(c));return b};f.matchAll=function(a,b){for(var c=[],f,d=RegExp(b,"g");null!==(f=d.exec(a));)c.push(f),0===f[0].length&&++d.lastIndex;return 0<c.length?c:null};f.match=function(a,b){return a.match(b)};f.println=
function(){K.logger.println.apply(K.logger,arguments)};f.print=function(){K.logger.print.apply(K.logger,arguments)};f.str=function(a){if(a instanceof Array){for(var b=[],c=0;c<a.length;c++)b.push(a[c].toString()+"");return b}return a.toString()+""};f.parseBoolean=function(a){if(a instanceof Array){for(var b=[],c=0;c<a.length;c++)b.push(Lc(a[c]));return b}return Lc(a)};f.parseByte=function(a){if(a instanceof Array){for(var b=[],c=0;c<a.length;c++)b.push(0-(a[c]&128)|a[c]&127);return b}return 0-(a&
128)|a&127};f.parseChar=function(a){if("number"===typeof a)return new Char(String.fromCharCode(a&65535));if(a instanceof Array){for(var b=[],c=0;c<a.length;c++)b.push(new Char(String.fromCharCode(a[c]&65535)));return b}throw"char() may receive only one argument of type int, byte, int[], or byte[].";};f.parseFloat=function(a){if(a instanceof Array){for(var b=[],c=0;c<a.length;c++)b.push(Rb(a[c]));return b}return Rb(a)};f.parseInt=function(a,b){if(a instanceof Array){for(var c=[],f=0;f<a.length;f++)"string"===
typeof a[f]&&!/^\s*[+\-]?\d+\s*$/.test(a[f])?c.push(0):c.push(tc(a[f],b));return c}return tc(a,b)};f.__int_cast=function(a){return 0|a};f.__instanceof=function(a,b){if("function"!==typeof b)throw"Function is expected as type argument for instanceof operator";if("string"===typeof a)return b===Object||b===String;if(a instanceof b)return!0;if("object"!==typeof a||null===a)return!1;var c=a.constructor;if(b.$isInterface){for(var f=[];c;)c.$interfaces&&(f=f.concat(c.$interfaces)),c=c.$base;for(;0<f.length;){c=
f.shift();if(c===b)return!0;c.$interfaces&&(f=f.concat(c.$interfaces))}return!1}for(;c.hasOwnProperty("$base");)if(c=c.$base,c===b)return!0;return!1};X.prototype.size=function(a,b){L&&f.stroke(0);S&&f.fill(255);var d={fillStyle:m.fillStyle,strokeStyle:m.strokeStyle,lineCap:m.lineCap,lineJoin:m.lineJoin};0<P.style.length&&(P.style.removeProperty("width"),P.style.removeProperty("height"));P.width=f.width=a||100;P.height=f.height=b||100;for(var g in d)d.hasOwnProperty(g)&&(m[g]=d[g]);f.textFont(ba);
f.background();md=Math.max(1E3,0.05*a*b);f.externals.context=m;for(d=0;d<c.SINCOS_LENGTH;d++)Fc[d]=f.sin(0.5*d*(c.PI/180)),Gc[d]=f.cos(0.5*d*(c.PI/180))};G.prototype.size=function(a,c,f){m===b&&(m=P.getContext("2d"),mc=new yb,nc=new yb,J=new xb,la=new xb);X.prototype.size.apply(this,arguments)};var vd=!1;D.prototype.size=function(a,b,c){if(vd)throw"Multiple calls to size() for 3D renders are not allowed.";vd=!0;try{P.width=f.width=a||100;P.height=f.height=b||100;for(var d=P,g=["experimental-webgl",
"webgl","webkit-3d"],h,k=0,j=g.length;k<j&&!(h=d.getContext(g[k],{antialias:!1,preserveDrawingBuffer:!0}));k++);m=h;jb=m.createTexture();Ec=m.createTexture()}catch(i){K.debug(i)}if(!m)throw"WebGL context is not supported on this browser.";m.viewport(0,0,P.width,P.height);m.enable(m.DEPTH_TEST);m.enable(m.BLEND);m.blendFunc(m.SRC_ALPHA,m.ONE_MINUS_SRC_ALPHA);H=cd(m,"varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec2 aTextureCoord;uniform vec4 uColor;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;varying vec2 vTextureCoord;void main(void) {  gl_PointSize \x3d uPointSize;  vFrontColor \x3d uColor;  gl_Position \x3d uProjection * uView * uModel * vec4(aVertex, 1.0);  vTextureCoord \x3d aTextureCoord;}",
"#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform int uIsDrawingText;uniform bool uSmooth;void main(void){  if(uSmooth \x3d\x3d true){    float dist \x3d distance(gl_PointCoord, vec2(0.5));    if(dist \x3e 0.5){      discard;    }  }  if(uIsDrawingText \x3d\x3d 1){    float alpha \x3d texture2D(uSampler, vTextureCoord).a;    gl_FragColor \x3d vec4(vFrontColor.rgb * alpha, alpha);  }  else{    gl_FragColor \x3d vFrontColor;  }}");
ha=cd(m,"varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec4 aColor;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;void main(void) {  vFrontColor \x3d aColor;  gl_PointSize \x3d uPointSize;  gl_Position \x3d uProjection * uView * vec4(aVertex, 1.0);}","#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform bool uSmooth;void main(void){  if(uSmooth \x3d\x3d true){    float dist \x3d distance(gl_PointCoord, vec2(0.5));    if(dist \x3e 0.5){      discard;    }  }  gl_FragColor \x3d vFrontColor;}");
f.strokeWeight(1);z=cd(m,Fd,"#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform sampler2D uSampler;uniform bool uUsingTexture;varying vec2 vTexture;void main(void){  if( uUsingTexture ){    gl_FragColor \x3d vec4(texture2D(uSampler, vTexture.xy)) * vFrontColor;  }  else{    gl_FragColor \x3d vFrontColor;  }}");m.useProgram(z);B("usingTexture3d",z,"usingTexture",ya);f.lightFalloff(1,0,0);f.shininess(1);f.ambient(255,255,255);f.specular(0,0,0);f.emissive(0,0,0);Kb=m.createBuffer();
m.bindBuffer(m.ARRAY_BUFFER,Kb);m.bufferData(m.ARRAY_BUFFER,rd,m.STATIC_DRAW);Wb=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,Wb);m.bufferData(m.ARRAY_BUFFER,Dd,m.STATIC_DRAW);Lb=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,Lb);m.bufferData(m.ARRAY_BUFFER,sd,m.STATIC_DRAW);Xb=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,Xb);m.bufferData(m.ARRAY_BUFFER,bd,m.STATIC_DRAW);vb=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,vb);m.bufferData(m.ARRAY_BUFFER,Ed,m.STATIC_DRAW);wb=m.createBuffer();ib=m.createBuffer();
kc=m.createBuffer();ab=m.createBuffer();lc=m.createBuffer();Yb=m.createBuffer();Q=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,Q);m.bufferData(m.ARRAY_BUFFER,new C([0,0,0]),m.STATIC_DRAW);Vc=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,Vc);m.bufferData(m.ARRAY_BUFFER,new C([1,1,0,-1,1,0,-1,-1,0,1,-1,0]),m.STATIC_DRAW);Xc=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,Xc);m.bufferData(m.ARRAY_BUFFER,new C([0,0,1,0,1,1,0,1]),m.STATIC_DRAW);Zc=m.createBuffer();m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,Zc);m.bufferData(m.ELEMENT_ARRAY_BUFFER,
new A([0,1,2,2,3,0]),m.STATIC_DRAW);ac=new I;nb=new I;J=new I;la=new I;cb=new I;f.camera();f.perspective();mc=new yb;nc=new yb;tb=new I;Vb=new I;ub=new I;Na=new I;na=new I;jc=new I;jc.set(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0);X.prototype.size.apply(this,arguments)};G.prototype.ambientLight=X.prototype.a3DOnlyFunction;D.prototype.ambientLight=function(a,b,f,d,g,h){if(M===c.MAX_LIGHTS)throw"can only create "+c.MAX_LIGHTS+" lights";d=new PVector(d,g,h);g=new I;g.scale(1,-1,1);g.apply(J.array());g.mult(d,
d);a=qa(a,b,f,0);a=[((a&c.RED_MASK)>>>16)/255,((a&c.GREEN_MASK)>>>8)/255,(a&c.BLUE_MASK)/255];m.useProgram(z);v("uLights.color.3d."+M,z,"uLights"+M+".color",a);v("uLights.position.3d."+M,z,"uLights"+M+".position",d.array());B("uLights.type.3d."+M,z,"uLights"+M+".type",0);B("uLightCount3d",z,"uLightCount",++M)};G.prototype.directionalLight=X.prototype.a3DOnlyFunction;D.prototype.directionalLight=function(a,b,f,d,g,h){if(M===c.MAX_LIGHTS)throw"can only create "+c.MAX_LIGHTS+" lights";m.useProgram(z);
var k=new I;k.scale(1,-1,1);k.apply(J.array());k=k.array();d=[k[0]*d+k[4]*g+k[8]*h,k[1]*d+k[5]*g+k[9]*h,k[2]*d+k[6]*g+k[10]*h];a=qa(a,b,f,0);v("uLights.color.3d."+M,z,"uLights"+M+".color",[((a&c.RED_MASK)>>>16)/255,((a&c.GREEN_MASK)>>>8)/255,(a&c.BLUE_MASK)/255]);v("uLights.position.3d."+M,z,"uLights"+M+".position",d);B("uLights.type.3d."+M,z,"uLights"+M+".type",1);B("uLightCount3d",z,"uLightCount",++M)};G.prototype.lightFalloff=X.prototype.a3DOnlyFunction;D.prototype.lightFalloff=function(a,b,c){m.useProgram(z);
v("uFalloff3d",z,"uFalloff",[a,b,c])};G.prototype.lightSpecular=X.prototype.a3DOnlyFunction;D.prototype.lightSpecular=function(a,b,f){a=qa(a,b,f,0);a=[((a&c.RED_MASK)>>>16)/255,((a&c.GREEN_MASK)>>>8)/255,(a&c.BLUE_MASK)/255];m.useProgram(z);v("uSpecular3d",z,"uSpecular",a)};f.lights=function(){f.ambientLight(128,128,128);f.directionalLight(128,128,128,0,0,-1);f.lightFalloff(1,0,0);f.lightSpecular(0,0,0)};G.prototype.pointLight=X.prototype.a3DOnlyFunction;D.prototype.pointLight=function(a,b,f,d,g,
h){if(M===c.MAX_LIGHTS)throw"can only create "+c.MAX_LIGHTS+" lights";d=new PVector(d,g,h);g=new I;g.scale(1,-1,1);g.apply(J.array());g.mult(d,d);a=qa(a,b,f,0);a=[((a&c.RED_MASK)>>>16)/255,((a&c.GREEN_MASK)>>>8)/255,(a&c.BLUE_MASK)/255];m.useProgram(z);v("uLights.color.3d."+M,z,"uLights"+M+".color",a);v("uLights.position.3d."+M,z,"uLights"+M+".position",d.array());B("uLights.type.3d."+M,z,"uLights"+M+".type",2);B("uLightCount3d",z,"uLightCount",++M)};G.prototype.noLights=X.prototype.a3DOnlyFunction;
D.prototype.noLights=function(){M=0;m.useProgram(z);B("uLightCount3d",z,"uLightCount",M)};G.prototype.spotLight=X.prototype.a3DOnlyFunction;D.prototype.spotLight=function(a,b,f,d,g,h,k,j,i,n,o){if(M===c.MAX_LIGHTS)throw"can only create "+c.MAX_LIGHTS+" lights";m.useProgram(z);d=new PVector(d,g,h);g=new I;g.scale(1,-1,1);g.apply(J.array());g.mult(d,d);g=g.array();k=[g[0]*k+g[4]*j+g[8]*i,g[1]*k+g[5]*j+g[9]*i,g[2]*k+g[6]*j+g[10]*i];a=qa(a,b,f,0);v("uLights.color.3d."+M,z,"uLights"+M+".color",[((a&c.RED_MASK)>>>
16)/255,((a&c.GREEN_MASK)>>>8)/255,(a&c.BLUE_MASK)/255]);v("uLights.position.3d."+M,z,"uLights"+M+".position",d.array());v("uLights.direction.3d."+M,z,"uLights"+M+".direction",k);v("uLights.concentration.3d."+M,z,"uLights"+M+".concentration",o);v("uLights.angle.3d."+M,z,"uLights"+M+".angle",n);B("uLights.type.3d."+M,z,"uLights"+M+".type",3);B("uLightCount3d",z,"uLightCount",++M)};G.prototype.beginCamera=function(){throw"beginCamera() is not available in 2D mode";};D.prototype.beginCamera=function(){if(Sc)throw"You cannot call beginCamera() again before calling endCamera()";
Sc=!0;J=nb;la=ac};G.prototype.endCamera=function(){throw"endCamera() is not available in 2D mode";};D.prototype.endCamera=function(){if(!Sc)throw"You cannot call endCamera() before calling beginCamera()";J.set(ac);la.set(nb);Sc=!1};f.camera=function(a,c,d,g,h,m,k,j,i){a===b&&(ad=f.width/2,bc=f.height/2,cc=bc/Math.tan(Tc/2),a=ad,c=bc,d=cc,g=ad,h=bc,k=m=0,j=1,i=0);g=new PVector(a-g,c-h,d-m);var n=new PVector(k,j,i);g.normalize();i=PVector.cross(n,g);n=PVector.cross(g,i);i.normalize();n.normalize();
k=i.x;j=i.y;i=i.z;h=n.x;m=n.y;var n=n.z,o=g.x,q=g.y;g=g.z;ac.set(k,j,i,0,h,m,n,0,o,q,g,0,0,0,0,1);ac.translate(-a,-c,-d);nb.reset();nb.invApply(k,j,i,0,h,m,n,0,o,q,g,0,0,0,0,1);nb.translate(a,c,d);J.set(ac);la.set(nb)};f.perspective=function(a,b,c,d){0===arguments.length&&(bc=P.height/2,cc=bc/Math.tan(Tc/2),nd=cc/10,od=10*cc,pd=f.width/f.height,a=Tc,b=pd,c=nd,d=od);var g,h;g=c*Math.tan(a/2);h=-g;f.frustum(h*b,g*b,h,g,c,d)};G.prototype.frustum=function(){throw"Processing.js: frustum() is not supported in 2D mode";
};D.prototype.frustum=function(a,b,c,f,d,g){cb=new I;cb.set(2*d/(b-a),0,(b+a)/(b-a),0,0,2*d/(f-c),(f+c)/(f-c),0,0,0,-(g+d)/(g-d),-(2*g*d)/(g-d),0,0,-1,0);a=new I;a.set(cb);a.transpose();m.useProgram(H);V("projection2d",H,"uProjection",!1,a.array());m.useProgram(z);V("projection3d",z,"uProjection",!1,a.array());m.useProgram(ha);V("uProjectionUS",ha,"uProjection",!1,a.array())};f.ortho=function(a,b,c,d,g,h){0===arguments.length&&(a=0,b=f.width,c=0,d=f.height,g=-10,h=10);var k=2/(b-a),j=2/(d-c),i=-2/
(h-g),n=-(b+a)/(b-a),o=-(d+c)/(d-c),q=-(h+g)/(h-g);cb=new I;cb.set(k,0,0,n,0,j,0,o,0,0,i,q,0,0,0,1);k=new I;k.set(cb);k.transpose();m.useProgram(H);V("projection2d",H,"uProjection",!1,k.array());m.useProgram(z);V("projection3d",z,"uProjection",!1,k.array());m.useProgram(ha);V("uProjectionUS",ha,"uProjection",!1,k.array())};f.printProjection=function(){cb.print()};f.printCamera=function(){ac.print()};G.prototype.box=X.prototype.a3DOnlyFunction;D.prototype.box=function(a,b,c){if(!b||!c)b=c=a;var f=
new I;f.scale(a,b,c);a=new I;a.scale(1,-1,1);a.apply(J.array());a.transpose();S&&(m.useProgram(z),V("model3d",z,"uModel",!1,f.array()),V("view3d",z,"uView",!1,a.array()),m.enable(m.POLYGON_OFFSET_FILL),m.polygonOffset(1,1),v("color3d",z,"uColor",va),0<M?(b=new I,b.set(a),c=new I,c.set(f),b.mult(c),c=new I,c.set(b),c.invert(),c.transpose(),V("uNormalTransform3d",z,"uNormalTransform",!1,c.array()),aa("aNormal3d",z,"aNormal",3,Wb)):pa("aNormal3d",z,"aNormal"),aa("aVertex3d",z,"aVertex",3,Kb),pa("aColor3d",
z,"aColor"),pa("aTexture3d",z,"aTexture"),m.drawArrays(m.TRIANGLES,0,rd.length/3),m.disable(m.POLYGON_OFFSET_FILL));0<ga&&L&&(m.useProgram(H),V("uModel2d",H,"uModel",!1,f.array()),V("uView2d",H,"uView",!1,a.array()),v("uColor2d",H,"uColor",ra),B("uIsDrawingText2d",H,"uIsDrawingText",!1),aa("vertex2d",H,"aVertex",3,Lb),pa("aTextureCoord2d",H,"aTextureCoord"),m.drawArrays(m.LINES,0,sd.length/3))};f.sphereDetail=function(a,b){var f;1===arguments.length&&(a=b=arguments[0]);3>a&&(a=3);2>b&&(b=2);if(!(a===
$b&&b===Rc)){var d=c.SINCOS_LENGTH/a,g=new C(a),h=new C(a);for(f=0;f<a;f++)g[f]=Gc[f*d%c.SINCOS_LENGTH|0],h[f]=Fc[f*d%c.SINCOS_LENGTH|0];f=a*(b-1)+2;d=0;kb=new C(f);lb=new C(f);mb=new C(f);var k=0.5*c.SINCOS_LENGTH/b,j=k;for(f=1;f<b;f++){for(var i=Fc[j%c.SINCOS_LENGTH|0],n=-Gc[j%c.SINCOS_LENGTH|0],o=0;o<a;o++)kb[d]=g[o]*i,lb[d]=n,mb[d++]=h[o]*i;j+=k}$b=a;Rc=b;O=[];for(g=0;g<$b;g++)O.push(0),O.push(-1),O.push(0),O.push(kb[g]),O.push(lb[g]),O.push(mb[g]);O.push(0);O.push(-1);O.push(0);O.push(kb[0]);
O.push(lb[0]);O.push(mb[0]);k=0;for(g=2;g<Rc;g++){h=f=k;d=k+=$b;for(j=0;j<$b;j++)O.push(kb[h]),O.push(lb[h]),O.push(mb[h++]),O.push(kb[d]),O.push(lb[d]),O.push(mb[d++]);h=f;d=k;O.push(kb[h]);O.push(lb[h]);O.push(mb[h]);O.push(kb[d]);O.push(lb[d]);O.push(mb[d])}for(g=0;g<$b;g++)d=k+g,O.push(kb[d]),O.push(lb[d]),O.push(mb[d]),O.push(0),O.push(1),O.push(0);O.push(kb[k]);O.push(lb[k]);O.push(mb[k]);O.push(0);O.push(1);O.push(0);m.bindBuffer(m.ARRAY_BUFFER,wb);m.bufferData(m.ARRAY_BUFFER,new C(O),m.STATIC_DRAW)}};
G.prototype.sphere=X.prototype.a3DOnlyFunction;D.prototype.sphere=function(a){(3>$b||2>Rc)&&f.sphereDetail(30);var b=new I;b.scale(a,a,a);a=new I;a.scale(1,-1,1);a.apply(J.array());a.transpose();if(S){if(0<M){var c=new I;c.set(a);var d=new I;d.set(b);c.mult(d);d=new I;d.set(c);d.invert();d.transpose();V("uNormalTransform3d",z,"uNormalTransform",!1,d.array());aa("aNormal3d",z,"aNormal",3,wb)}else pa("aNormal3d",z,"aNormal");m.useProgram(z);pa("aTexture3d",z,"aTexture");V("uModel3d",z,"uModel",!1,b.array());
V("uView3d",z,"uView",!1,a.array());aa("aVertex3d",z,"aVertex",3,wb);pa("aColor3d",z,"aColor");m.enable(m.POLYGON_OFFSET_FILL);m.polygonOffset(1,1);v("uColor3d",z,"uColor",va);m.drawArrays(m.TRIANGLE_STRIP,0,O.length/3);m.disable(m.POLYGON_OFFSET_FILL)}0<ga&&L&&(m.useProgram(H),V("uModel2d",H,"uModel",!1,b.array()),V("uView2d",H,"uView",!1,a.array()),aa("aVertex2d",H,"aVertex",3,wb),pa("aTextureCoord2d",H,"aTextureCoord"),v("uColor2d",H,"uColor",ra),B("uIsDrawingText",H,"uIsDrawingText",!1),m.drawArrays(m.LINE_STRIP,
0,O.length/3))};f.modelX=function(a,b,c){var f=J.array(),d=nb.array(),g=f[0]*a+f[1]*b+f[2]*c+f[3],h=f[4]*a+f[5]*b+f[6]*c+f[7],k=f[8]*a+f[9]*b+f[10]*c+f[11];b=f[12]*a+f[13]*b+f[14]*c+f[15];a=d[0]*g+d[1]*h+d[2]*k+d[3]*b;d=d[12]*g+d[13]*h+d[14]*k+d[15]*b;return 0!==d?a/d:a};f.modelY=function(a,b,c){var f=J.array(),d=nb.array(),g=f[0]*a+f[1]*b+f[2]*c+f[3],h=f[4]*a+f[5]*b+f[6]*c+f[7],k=f[8]*a+f[9]*b+f[10]*c+f[11];b=f[12]*a+f[13]*b+f[14]*c+f[15];a=d[4]*g+d[5]*h+d[6]*k+d[7]*b;d=d[12]*g+d[13]*h+d[14]*k+d[15]*
b;return 0!==d?a/d:a};f.modelZ=function(a,b,c){var f=J.array(),d=nb.array(),g=f[0]*a+f[1]*b+f[2]*c+f[3],h=f[4]*a+f[5]*b+f[6]*c+f[7],k=f[8]*a+f[9]*b+f[10]*c+f[11];b=f[12]*a+f[13]*b+f[14]*c+f[15];a=d[8]*g+d[9]*h+d[10]*k+d[11]*b;d=d[12]*g+d[13]*h+d[14]*k+d[15]*b;return 0!==d?a/d:a};G.prototype.ambient=X.prototype.a3DOnlyFunction;D.prototype.ambient=function(a,b,c){m.useProgram(z);B("uUsingMat3d",z,"uUsingMat",!0);a=f.color(a,b,c);v("uMaterialAmbient3d",z,"uMaterialAmbient",f.color.toGLArray(a).slice(0,
3))};G.prototype.emissive=X.prototype.a3DOnlyFunction;D.prototype.emissive=function(a,b,c){m.useProgram(z);B("uUsingMat3d",z,"uUsingMat",!0);a=f.color(a,b,c);v("uMaterialEmissive3d",z,"uMaterialEmissive",f.color.toGLArray(a).slice(0,3))};G.prototype.shininess=X.prototype.a3DOnlyFunction;D.prototype.shininess=function(a){m.useProgram(z);B("uUsingMat3d",z,"uUsingMat",!0);v("uShininess3d",z,"uShininess",a)};G.prototype.specular=X.prototype.a3DOnlyFunction;D.prototype.specular=function(a,b,c){m.useProgram(z);
B("uUsingMat3d",z,"uUsingMat",!0);a=f.color(a,b,c);v("uMaterialSpecular3d",z,"uMaterialSpecular",f.color.toGLArray(a).slice(0,3))};f.screenX=function(a,b,c){var d=J.array();if(16===d.length){var g=d[0]*a+d[1]*b+d[2]*c+d[3],h=d[4]*a+d[5]*b+d[6]*c+d[7],k=d[8]*a+d[9]*b+d[10]*c+d[11];b=d[12]*a+d[13]*b+d[14]*c+d[15];c=cb.array();a=c[0]*g+c[1]*h+c[2]*k+c[3]*b;g=c[12]*g+c[13]*h+c[14]*k+c[15]*b;0!==g&&(a/=g);return f.width*(1+a)/2}return J.multX(a,b)};f.screenY=function(a,b,c){var d=J.array();if(16===d.length){var g=
d[0]*a+d[1]*b+d[2]*c+d[3],h=d[4]*a+d[5]*b+d[6]*c+d[7],k=d[8]*a+d[9]*b+d[10]*c+d[11];b=d[12]*a+d[13]*b+d[14]*c+d[15];c=cb.array();a=c[4]*g+c[5]*h+c[6]*k+c[7]*b;g=c[12]*g+c[13]*h+c[14]*k+c[15]*b;0!==g&&(a/=g);return f.height*(1+a)/2}return J.multY(a,b)};f.screenZ=function(a,b,c){var f=J.array();if(16!==f.length)return 0;var d=cb.array(),g=f[0]*a+f[1]*b+f[2]*c+f[3],h=f[4]*a+f[5]*b+f[6]*c+f[7],k=f[8]*a+f[9]*b+f[10]*c+f[11];b=f[12]*a+f[13]*b+f[14]*c+f[15];a=d[8]*g+d[9]*h+d[10]*k+d[11]*b;d=d[12]*g+d[13]*
h+d[14]*k+d[15]*b;0!==d&&(a/=d);return(a+1)/2};X.prototype.fill=function(){var a=f.color.apply(this,arguments);a===Ya&&S||(S=!0,Ya=a)};G.prototype.fill=function(){X.prototype.fill.apply(this,arguments);Za=!0};D.prototype.fill=function(){X.prototype.fill.apply(this,arguments);va=f.color.toGLArray(Ya)};f.noFill=function(){S=!1};X.prototype.stroke=function(){var a=f.color.apply(this,arguments);a===Qa&&L||(L=!0,Qa=a)};G.prototype.stroke=function(){X.prototype.stroke.apply(this,arguments);Ka=!0};D.prototype.stroke=
function(){X.prototype.stroke.apply(this,arguments);ra=f.color.toGLArray(Qa)};f.noStroke=function(){L=!1};X.prototype.strokeWeight=function(a){ga=a};G.prototype.strokeWeight=function(a){X.prototype.strokeWeight.apply(this,arguments);m.lineWidth=a};D.prototype.strokeWeight=function(a){X.prototype.strokeWeight.apply(this,arguments);m.useProgram(H);v("pointSize2d",H,"uPointSize",a);m.useProgram(ha);v("pointSizeUnlitShape",ha,"uPointSize",a);m.lineWidth(a)};f.strokeCap=function(a){ka.$ensureContext().lineCap=
a};f.strokeJoin=function(a){ka.$ensureContext().lineJoin=a};G.prototype.smooth=function(){Fa=!0;var a=P.style;a.setProperty("image-rendering","optimizeQuality","important");a.setProperty("-ms-interpolation-mode","bicubic","important");m.hasOwnProperty("mozImageSmoothingEnabled")&&(m.mozImageSmoothingEnabled=!0)};D.prototype.smooth=function(){Fa=!0};G.prototype.noSmooth=function(){Fa=!1;var a=P.style;a.setProperty("image-rendering","optimizeSpeed","important");a.setProperty("image-rendering","-moz-crisp-edges",
"important");a.setProperty("image-rendering","-webkit-optimize-contrast","important");a.setProperty("image-rendering","optimize-contrast","important");a.setProperty("-ms-interpolation-mode","nearest-neighbor","important");m.hasOwnProperty("mozImageSmoothingEnabled")&&(m.mozImageSmoothingEnabled=!1)};D.prototype.noSmooth=function(){Fa=!1};G.prototype.point=function(a,b){L&&(Fa||(a=Math.round(a),b=Math.round(b)),m.fillStyle=f.color.toString(Qa),Za=!0,1<ga?(m.beginPath(),m.arc(a,b,ga/2,0,c.TWO_PI,!1),
m.fill()):m.fillRect(a,b,1,1))};D.prototype.point=function(a,b,c){var f=new I;f.translate(a,b,c||0);f.transpose();a=new I;a.scale(1,-1,1);a.apply(J.array());a.transpose();m.useProgram(H);V("uModel2d",H,"uModel",!1,f.array());V("uView2d",H,"uView",!1,a.array());0<ga&&L&&(v("uColor2d",H,"uColor",ra),B("uIsDrawingText2d",H,"uIsDrawingText",!1),B("uSmooth2d",H,"uSmooth",Fa),aa("aVertex2d",H,"aVertex",3,Q),pa("aTextureCoord2d",H,"aTextureCoord"),m.drawArrays(m.POINTS,0,1))};f.beginShape=function(a){T=
a;n=[]};G.prototype.vertex=function(a,b,c){var f=[];Ob&&(Ob=!1);f.isVert=!0;f[0]=a;f[1]=b;f[2]=0;f[3]=0;f[4]=0;f[5]=Ya;f[6]=Qa;n.push(f);c&&(n[n.length-1].moveTo=c)};D.prototype.vertex=function(a,f,d,g,h){var k=[];Ob&&(Ob=!1);k.isVert=!0;h===b&&ya&&(h=g,g=d,d=0);g!==b&&h!==b&&(fd===c.IMAGE&&(g/=Mb,h/=ed),g=1<g?1:g,g=0>g?0:g,h=1<h?1:h,h=0>h?0:h);k[0]=a;k[1]=f;k[2]=d||0;k[3]=g||0;k[4]=h||0;k[5]=va[0];k[6]=va[1];k[7]=va[2];k[8]=va[3];k[9]=ra[0];k[10]=ra[1];k[11]=ra[2];k[12]=ra[3];k[13]=zc;k[14]=N;k[15]=
Ib;n.push(k)};var wd=function(a,b){var c=new I;c.scale(1,-1,1);c.apply(J.array());c.transpose();m.useProgram(ha);V("uViewUS",ha,"uView",!1,c.array());B("uSmoothUS",ha,"uSmooth",Fa);aa("aVertexUS",ha,"aVertex",3,Q);m.bufferData(m.ARRAY_BUFFER,new C(a),m.STREAM_DRAW);aa("aColorUS",ha,"aColor",4,ab);m.bufferData(m.ARRAY_BUFFER,new C(b),m.STREAM_DRAW);m.drawArrays(m.POINTS,0,a.length/3)},Ua=function(a,b,c){b="LINES"===b?m.LINES:"LINE_LOOP"===b?m.LINE_LOOP:m.LINE_STRIP;var f=new I;f.scale(1,-1,1);f.apply(J.array());
f.transpose();m.useProgram(ha);V("uViewUS",ha,"uView",!1,f.array());aa("aVertexUS",ha,"aVertex",3,ib);m.bufferData(m.ARRAY_BUFFER,new C(a),m.STREAM_DRAW);aa("aColorUS",ha,"aColor",4,lc);m.bufferData(m.ARRAY_BUFFER,new C(c),m.STREAM_DRAW);m.drawArrays(b,0,a.length/3)},Ab=function(a,b,c,f){b="TRIANGLES"===b?m.TRIANGLES:"TRIANGLE_FAN"===b?m.TRIANGLE_FAN:m.TRIANGLE_STRIP;var d=new I;d.scale(1,-1,1);d.apply(J.array());d.transpose();m.useProgram(z);V("model3d",z,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,
0,1]);V("view3d",z,"uView",!1,d.array());m.enable(m.POLYGON_OFFSET_FILL);m.polygonOffset(1,1);v("color3d",z,"uColor",[-1,0,0,0]);aa("vertex3d",z,"aVertex",3,kc);m.bufferData(m.ARRAY_BUFFER,new C(a),m.STREAM_DRAW);ya&&null!==Ea&&vc(c);aa("aColor3d",z,"aColor",4,ab);m.bufferData(m.ARRAY_BUFFER,new C(c),m.STREAM_DRAW);pa("aNormal3d",z,"aNormal");ya&&(B("uUsingTexture3d",z,"uUsingTexture",ya),aa("aTexture3d",z,"aTexture",2,Yb),m.bufferData(m.ARRAY_BUFFER,new C(f),m.STREAM_DRAW));m.drawArrays(b,0,a.length/
3);m.disable(m.POLYGON_OFFSET_FILL)};G.prototype.endShape=function(a){if(0!==n.length){(a=a===c.CLOSE)&&n.push(n[0]);var d=[],g=[],h=[],k=[],j;Ob=!0;var i,ta,s=n.length;for(i=0;i<s;i++){j=n[i];for(ta=0;3>ta;ta++)d.push(j[ta])}for(i=0;i<s;i++){j=n[i];for(ta=5;9>ta;ta++)g.push(j[ta])}for(i=0;i<s;i++){j=n[i];for(ta=9;13>ta;ta++)h.push(j[ta])}for(i=0;i<s;i++)j=n[i],k.push(j[3]),k.push(j[4]);if(oc&&(T===c.POLYGON||T===b)){if(3<s){d=[];g=1-Bc;m.beginPath();m.moveTo(n[1][0],n[1][1]);for(i=1;i+2<s;i++)j=
n[i],d[0]=[j[0],j[1]],d[1]=[j[0]+(g*n[i+1][0]-g*n[i-1][0])/6,j[1]+(g*n[i+1][1]-g*n[i-1][1])/6],d[2]=[n[i+1][0]+(g*n[i][0]-g*n[i+2][0])/6,n[i+1][1]+(g*n[i][1]-g*n[i+2][1])/6],d[3]=[n[i+1][0],n[i+1][1]],m.bezierCurveTo(d[1][0],d[1][1],d[2][0],d[2][1],d[3][0],d[3][1]);Db()}}else if(pc&&(T===c.POLYGON||T===b)){m.beginPath();for(i=0;i<s;i++)j=n[i],n[i].isVert?n[i].moveTo?m.moveTo(j[0],j[1]):m.lineTo(j[0],j[1]):m.bezierCurveTo(n[i][0],n[i][1],n[i][2],n[i][3],n[i][4],n[i][5]);Db()}else if(T===c.POINTS)for(i=
0;i<s;i++)j=n[i],L&&f.stroke(j[6]),f.point(j[0],j[1]);else if(T===c.LINES)for(i=0;i+1<s;i+=2)j=n[i],L&&f.stroke(n[i+1][6]),f.line(j[0],j[1],n[i+1][0],n[i+1][1]);else if(T===c.TRIANGLES)for(i=0;i+2<s;i+=3)j=n[i],m.beginPath(),m.moveTo(j[0],j[1]),m.lineTo(n[i+1][0],n[i+1][1]),m.lineTo(n[i+2][0],n[i+2][1]),m.lineTo(j[0],j[1]),S&&(f.fill(n[i+2][5]),Oa()),L&&(f.stroke(n[i+2][6]),Ja()),m.closePath();else if(T===c.TRIANGLE_STRIP)for(i=0;i+1<s;i++)j=n[i],m.beginPath(),m.moveTo(n[i+1][0],n[i+1][1]),m.lineTo(j[0],
j[1]),L&&f.stroke(n[i+1][6]),S&&f.fill(n[i+1][5]),i+2<s&&(m.lineTo(n[i+2][0],n[i+2][1]),L&&f.stroke(n[i+2][6]),S&&f.fill(n[i+2][5])),Db();else if(T===c.TRIANGLE_FAN){if(2<s){m.beginPath();m.moveTo(n[0][0],n[0][1]);m.lineTo(n[1][0],n[1][1]);m.lineTo(n[2][0],n[2][1]);S&&(f.fill(n[2][5]),Oa());L&&(f.stroke(n[2][6]),Ja());m.closePath();for(i=3;i<s;i++)j=n[i],m.beginPath(),m.moveTo(n[0][0],n[0][1]),m.lineTo(n[i-1][0],n[i-1][1]),m.lineTo(j[0],j[1]),S&&(f.fill(j[5]),Oa()),L&&(f.stroke(j[6]),Ja()),m.closePath()}}else if(T===
c.QUADS)for(i=0;i+3<s;i+=4){j=n[i];m.beginPath();m.moveTo(j[0],j[1]);for(ta=1;4>ta;ta++)m.lineTo(n[i+ta][0],n[i+ta][1]);m.lineTo(j[0],j[1]);S&&(f.fill(n[i+3][5]),Oa());L&&(f.stroke(n[i+3][6]),Ja());m.closePath()}else if(T===c.QUAD_STRIP){if(3<s)for(i=0;i+1<s;i+=2)j=n[i],m.beginPath(),i+3<s?(m.moveTo(n[i+2][0],n[i+2][1]),m.lineTo(j[0],j[1]),m.lineTo(n[i+1][0],n[i+1][1]),m.lineTo(n[i+3][0],n[i+3][1]),S&&f.fill(n[i+3][5]),L&&f.stroke(n[i+3][6])):(m.moveTo(j[0],j[1]),m.lineTo(n[i+1][0],n[i+1][1])),Db()}else{m.beginPath();
m.moveTo(n[0][0],n[0][1]);for(i=1;i<s;i++)j=n[i],j.isVert&&(j.moveTo?m.moveTo(j[0],j[1]):m.lineTo(j[0],j[1]));Db()}pc=oc=!1;Ca=[];wa=0;a&&n.pop()}};D.prototype.endShape=function(a){if(0!==n.length){var f=a===c.CLOSE;a=[];var d=[],g=[],h=[],k=[],j;Ob=!0;var i,s,o=n.length;for(i=0;i<o;i++){j=n[i];for(s=0;3>s;s++)d.push(j[s])}for(i=0;i<o;i++){j=n[i];for(s=5;9>s;s++)g.push(j[s])}for(i=0;i<o;i++){j=n[i];for(s=9;13>s;s++)h.push(j[s])}for(i=0;i<o;i++)j=n[i],k.push(j[3]),k.push(j[4]);if(f){d.push(n[0][0]);
d.push(n[0][1]);d.push(n[0][2]);for(i=5;9>i;i++)g.push(n[0][i]);for(i=9;13>i;i++)h.push(n[0][i]);k.push(n[0][3]);k.push(n[0][4])}if(oc&&(T===c.POLYGON||T===b))L&&Ua(d,null,h),S&&Ab(d,null,g);else if(pc&&(T===c.POLYGON||T===b))a=d,a.splice(a.length-3),h.splice(h.length-4),L&&Ua(a,null,h),S&&Ab(d,"TRIANGLES",g);else{if(T===c.POINTS){for(i=0;i<o;i++){j=n[i];for(s=0;3>s;s++)a.push(j[s])}wd(a,h)}else if(T===c.LINES){for(i=0;i<o;i++){j=n[i];for(s=0;3>s;s++)a.push(j[s])}for(i=0;i<o;i++){j=n[i];for(s=5;9>
s;s++)g.push(j[s])}Ua(a,"LINES",h)}else if(T===c.TRIANGLES){if(2<o)for(i=0;i+2<o;i+=3){d=[];k=[];a=[];g=[];h=[];for(s=0;3>s;s++)for(f=0;3>f;f++)a.push(n[i+s][f]),d.push(n[i+s][f]);for(s=0;3>s;s++)for(f=3;5>f;f++)k.push(n[i+s][f]);for(s=0;3>s;s++)for(f=5;9>f;f++)g.push(n[i+s][f]),h.push(n[i+s][f+4]);L&&Ua(a,"LINE_LOOP",h);(S||ya)&&Ab(d,"TRIANGLES",g,k)}}else if(T===c.TRIANGLE_STRIP){if(2<o)for(i=0;i+2<o;i++){a=[];d=[];h=[];g=[];k=[];for(s=0;3>s;s++)for(f=0;3>f;f++)a.push(n[i+s][f]),d.push(n[i+s][f]);
for(s=0;3>s;s++)for(f=3;5>f;f++)k.push(n[i+s][f]);for(s=0;3>s;s++)for(f=5;9>f;f++)h.push(n[i+s][f+4]),g.push(n[i+s][f]);(S||ya)&&Ab(d,"TRIANGLE_STRIP",g,k);L&&Ua(a,"LINE_LOOP",h)}}else if(T===c.TRIANGLE_FAN){if(2<o){for(i=0;3>i;i++){j=n[i];for(s=0;3>s;s++)a.push(j[s])}for(i=0;3>i;i++){j=n[i];for(s=9;13>s;s++)h.push(j[s])}L&&Ua(a,"LINE_LOOP",h);for(i=2;i+1<o;i++){a=[];h=[];a.push(n[0][0]);a.push(n[0][1]);a.push(n[0][2]);h.push(n[0][9]);h.push(n[0][10]);h.push(n[0][11]);h.push(n[0][12]);for(s=0;2>s;s++)for(f=
0;3>f;f++)a.push(n[i+s][f]);for(s=0;2>s;s++)for(f=9;13>f;f++)h.push(n[i+s][f]);L&&Ua(a,"LINE_STRIP",h)}(S||ya)&&Ab(d,"TRIANGLE_FAN",g,k)}}else if(T===c.QUADS)for(i=0;i+3<o;i+=4){a=[];for(s=0;4>s;s++){j=n[i+s];for(f=0;3>f;f++)a.push(j[f])}L&&Ua(a,"LINE_LOOP",h);if(S){d=[];g=[];k=[];for(s=0;3>s;s++)d.push(n[i][s]);for(s=5;9>s;s++)g.push(n[i][s]);for(s=0;3>s;s++)d.push(n[i+1][s]);for(s=5;9>s;s++)g.push(n[i+1][s]);for(s=0;3>s;s++)d.push(n[i+3][s]);for(s=5;9>s;s++)g.push(n[i+3][s]);for(s=0;3>s;s++)d.push(n[i+
2][s]);for(s=5;9>s;s++)g.push(n[i+2][s]);ya&&(k.push(n[i+0][3]),k.push(n[i+0][4]),k.push(n[i+1][3]),k.push(n[i+1][4]),k.push(n[i+3][3]),k.push(n[i+3][4]),k.push(n[i+2][3]),k.push(n[i+2][4]));Ab(d,"TRIANGLE_STRIP",g,k)}}else if(T===c.QUAD_STRIP){if(3<o){for(i=0;2>i;i++){j=n[i];for(s=0;3>s;s++)a.push(j[s])}for(i=0;2>i;i++){j=n[i];for(s=9;13>s;s++)h.push(j[s])}Ua(a,"LINE_STRIP",h);4<o&&0<o%2&&(d.splice(d.length-3),n.pop());for(i=0;i+3<o;i+=2){a=[];h=[];for(s=0;3>s;s++)a.push(n[i+1][s]);for(s=0;3>s;s++)a.push(n[i+
3][s]);for(s=0;3>s;s++)a.push(n[i+2][s]);for(s=0;3>s;s++)a.push(n[i+0][s]);for(s=9;13>s;s++)h.push(n[i+1][s]);for(s=9;13>s;s++)h.push(n[i+3][s]);for(s=9;13>s;s++)h.push(n[i+2][s]);for(s=9;13>s;s++)h.push(n[i+0][s]);L&&Ua(a,"LINE_STRIP",h)}(S||ya)&&Ab(d,"TRIANGLE_LIST",g,k)}}else if(1===o){for(s=0;3>s;s++)a.push(n[0][s]);for(s=9;13>s;s++)h.push(n[0][s]);wd(a,h)}else{for(i=0;i<o;i++){j=n[i];for(s=0;3>s;s++)a.push(j[s]);for(s=5;9>s;s++)h.push(j[s])}L&&f?Ua(a,"LINE_LOOP",h):L&&!f&&Ua(a,"LINE_STRIP",h);
(S||ya)&&Ab(d,"TRIANGLE_FAN",g,k)}ya=!1;m.useProgram(z);B("usingTexture3d",z,"uUsingTexture",ya)}pc=oc=!1;Ca=[];wa=0}};var xd=function(a,b){var c=1/a,f=c*c,d=f*c;b.set(0,0,0,1,d,f,c,0,6*d,2*f,0,0,6*d,0,0,0)},yd=function(){ub||(tb=new I,ub=new I,$=!0);var a=Bc;tb.set((a-1)/2,(a+3)/2,(-3-a)/2,(1-a)/2,1-a,(-5-a)/2,a+2,(a-1)/2,(a-1)/2,0,(1-a)/2,0,0,1,0,0);xd(Cc,ub);na||(Vb=new I);Vb.set(tb);Vb.preApply(na);ub.apply(tb)};G.prototype.bezierVertex=function(){pc=!0;var a=[];if(Ob)throw"vertex() must be used at least once before calling bezierVertex()";
for(var b=0;b<arguments.length;b++)a[b]=arguments[b];n.push(a);n[n.length-1].isVert=!1};D.prototype.bezierVertex=function(){pc=!0;if(Ob)throw"vertex() must be used at least once before calling bezierVertex()";if(9===arguments.length){Na===b&&(Na=new I);var a=n.length-1;xd(Ia,Na);Na.apply(jc);for(var c=Na.array(),d=n[a][0],g=n[a][1],a=n[a][2],h=c[4]*d+c[5]*arguments[0]+c[6]*arguments[3]+c[7]*arguments[6],i=c[8]*d+c[9]*arguments[0]+c[10]*arguments[3]+c[11]*arguments[6],k=c[12]*d+c[13]*arguments[0]+
c[14]*arguments[3]+c[15]*arguments[6],j=c[4]*g+c[5]*arguments[1]+c[6]*arguments[4]+c[7]*arguments[7],m=c[8]*g+c[9]*arguments[1]+c[10]*arguments[4]+c[11]*arguments[7],o=c[12]*g+c[13]*arguments[1]+c[14]*arguments[4]+c[15]*arguments[7],q=c[4]*a+c[5]*arguments[2]+c[6]*arguments[5]+c[7]*arguments[8],r=c[8]*a+c[9]*arguments[2]+c[10]*arguments[5]+c[11]*arguments[8],c=c[12]*a+c[13]*arguments[2]+c[14]*arguments[5]+c[15]*arguments[8],v=0;v<Ia;v++)d+=h,h+=i,i+=k,g+=j,j+=m,m+=o,a+=q,q+=r,r+=c,f.vertex(d,g,a);
f.vertex(arguments[6],arguments[7],arguments[8])}};f.texture=function(a){var b=ka.$ensureContext();if(a.__texture)b.bindTexture(b.TEXTURE_2D,a.__texture);else{if("canvas"===a.localName)b.bindTexture(b.TEXTURE_2D,jb),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,a),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),b.generateMipmap(b.TEXTURE_2D);else{var c=b.createTexture(),f=q.createElement("canvas"),d=f.getContext("2d"),
g;if(a.width&0===a.width-1)f.width=a.width;else{for(g=1;g<a.width;)g*=2;f.width=g}if(a.height&0===a.height-1)f.height=a.height;else{for(g=1;g<a.height;)g*=2;f.height=g}d.drawImage(a.sourceImg,0,0,a.width,a.height,0,0,f.width,f.height);b.bindTexture(b.TEXTURE_2D,c);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR_MIPMAP_LINEAR);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,
b.CLAMP_TO_EDGE);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,f);b.generateMipmap(b.TEXTURE_2D);a.__texture=c}Mb=a.width;ed=a.height}ya=!0;b.useProgram(z);B("usingTexture3d",z,"uUsingTexture",ya)};f.textureMode=function(a){fd=a};G.prototype.curveVertex=function(a,b){oc=!0;f.vertex(a,b)};D.prototype.curveVertex=function(a,b,c){oc=!0;$||yd();var d=[];d[0]=a;d[1]=b;d[2]=c;Ca.push(d);wa++;if(3<wa){var g=Ca[wa-4][0],h=Ca[wa-4][1],i=Ca[wa-4][2],k=Ca[wa-3][0],j=Ca[wa-3][1],m=Ca[wa-3][2],n=Ca[wa-
2][0],o=Ca[wa-2][1],q=Ca[wa-2][2],r=Ca[wa-1][0],v=Ca[wa-1][1],u=Ca[wa-1][2];a=k;b=j;c=m;var p=ub.array(),d=p[4]*g+p[5]*k+p[6]*n+p[7]*r,y=p[8]*g+p[9]*k+p[10]*n+p[11]*r,g=p[12]*g+p[13]*k+p[14]*n+p[15]*r,k=p[4]*h+p[5]*j+p[6]*o+p[7]*v,n=p[8]*h+p[9]*j+p[10]*o+p[11]*v,h=p[12]*h+p[13]*j+p[14]*o+p[15]*v,j=p[4]*i+p[5]*m+p[6]*q+p[7]*u,o=p[8]*i+p[9]*m+p[10]*q+p[11]*u,i=p[12]*i+p[13]*m+p[14]*q+p[15]*u;f.vertex(a,b,c);for(m=0;m<Cc;m++)a+=d,d+=y,y+=g,b+=k,k+=n,n+=h,c+=j,j+=o,o+=i,f.vertex(a,b,c)}};G.prototype.curve=
function(a,b,c,d,g,h,i,k){f.beginShape();f.curveVertex(a,b);f.curveVertex(c,d);f.curveVertex(g,h);f.curveVertex(i,k);f.endShape()};D.prototype.curve=function(a,c,d,g,h,i,k,j,m,n,o,q){q!==b?(f.beginShape(),f.curveVertex(a,c,d),f.curveVertex(g,h,i),f.curveVertex(k,j,m),f.curveVertex(n,o,q)):(f.beginShape(),f.curveVertex(a,c),f.curveVertex(d,g),f.curveVertex(h,i),f.curveVertex(k,j));f.endShape()};f.curveTightness=function(a){Bc=a};f.curveDetail=function(a){Cc=a;yd()};f.rectMode=function(a){Ma=a};f.imageMode=
function(a){switch(a){case c.CORNER:Uc=td;break;case c.CORNERS:Uc=Gd;break;case c.CENTER:Uc=Hd;break;default:throw"Invalid imageMode";}};f.ellipseMode=function(a){Ga=a};f.arc=function(a,b,d,g,h,i){if(!(0>=d||i<h)){Ga===c.CORNERS?(d-=a,g-=b):Ga===c.RADIUS?(a-=d,b-=g,d*=2,g*=2):Ga===c.CENTER&&(a-=d/2,b-=g/2);for(;0>h;)h+=c.TWO_PI,i+=c.TWO_PI;i-h>c.TWO_PI&&(h=0,i=c.TWO_PI);d/=2;g/=2;a+=d;b+=g;h=0|0.5+2*h*f.RAD_TO_DEG;i=0|0.5+2*i*f.RAD_TO_DEG;var k,j;if(S){var m=L;L=!1;f.beginShape();f.vertex(a,b);for(k=
h;k<=i;k++)j=k%c.SINCOS_LENGTH,f.vertex(a+Gc[j]*d,b+Fc[j]*g);f.endShape(c.CLOSE);L=m}if(L){m=S;S=!1;f.beginShape();for(k=h;k<=i;k++)j=k%c.SINCOS_LENGTH,f.vertex(a+Gc[j]*d,b+Fc[j]*g);f.endShape();S=m}}};G.prototype.line=function(a,c,d,g){if(L)if(Fa||(a=Math.round(a),d=Math.round(d),c=Math.round(c),g=Math.round(g)),a===d&&c===g)f.point(a,c);else{for(var h=b,i=b,k=!0,h=J.array(),j=[1,0,0,0,1,0],s=0;6>s&&k;s++)k=h[s]===j[s];k&&(a===d?(c>g&&(h=c,c=g,g=h),g++,1===ga%2&&m.translate(0.5,0)):c===g&&(a>d&&
(h=a,a=d,d=h),d++,1===ga%2&&m.translate(0,0.5)),1===ga&&(i=m.lineCap,m.lineCap="butt"));m.beginPath();m.moveTo(a||0,c||0);m.lineTo(d||0,g||0);Ja();k&&(a===d&&1===ga%2?m.translate(-0.5,0):c===g&&1===ga%2&&m.translate(0,-0.5),1===ga&&(m.lineCap=i))}};D.prototype.line=function(a,c,d,g,h,i){if(h===b||i===b)i=0,h=g,g=d,d=0;a===g&&c===h&&d===i?f.point(a,c,d):(a=[a,c,d,g,h,i],c=new I,c.scale(1,-1,1),c.apply(J.array()),c.transpose(),0<ga&&L&&(m.useProgram(H),V("uModel2d",H,"uModel",!1,[1,0,0,0,0,1,0,0,0,
0,1,0,0,0,0,1]),V("uView2d",H,"uView",!1,c.array()),v("uColor2d",H,"uColor",ra),B("uIsDrawingText",H,"uIsDrawingText",!1),aa("aVertex2d",H,"aVertex",3,ib),pa("aTextureCoord2d",H,"aTextureCoord"),m.bufferData(m.ARRAY_BUFFER,new C(a),m.STREAM_DRAW),m.drawArrays(m.LINES,0,2)))};G.prototype.bezier=function(){if(8!==arguments.length)throw"You must use 8 parameters for bezier() in 2D mode";f.beginShape();f.vertex(arguments[0],arguments[1]);f.bezierVertex(arguments[2],arguments[3],arguments[4],arguments[5],
arguments[6],arguments[7]);f.endShape()};D.prototype.bezier=function(){if(12!==arguments.length)throw"You must use 12 parameters for bezier() in 3D mode";f.beginShape();f.vertex(arguments[0],arguments[1],arguments[2]);f.bezierVertex(arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);f.endShape()};f.bezierDetail=function(a){Ia=a};f.bezierPoint=function(a,b,c,f,d){return(1-d)*(1-d)*(1-d)*a+3*(1-d)*(1-d)*d*b+3*(1-d)*d*d*c+d*d*d*f};
f.bezierTangent=function(a,b,c,f,d){return 3*d*d*(-a+3*b-3*c+f)+6*d*(a-2*b+c)+3*(-a+b)};f.curvePoint=function(a,b,c,f,d){return 0.5*(2*b+(-a+c)*d+(2*a-5*b+4*c-f)*d*d+(-a+3*b-3*c+f)*d*d*d)};f.curveTangent=function(a,b,c,f,d){return 0.5*(-a+c+2*(2*a-5*b+4*c-f)*d+3*(-a+3*b-3*c+f)*d*d)};f.triangle=function(a,b,d,g,h,i){f.beginShape(c.TRIANGLES);f.vertex(a,b,0);f.vertex(d,g,0);f.vertex(h,i,0);f.endShape()};f.quad=function(a,b,d,g,h,i,k,j){f.beginShape(c.QUADS);f.vertex(a,b,0);f.vertex(d,g,0);f.vertex(h,
i,0);f.vertex(k,j,0);f.endShape()};G.prototype.rect=function(a,f,d,g,h,i,k,j){if(d||g)if(Ma===c.CORNERS?(d-=a,g-=f):Ma===c.RADIUS?(d*=2,g*=2,a-=d/2,f-=g/2):Ma===c.CENTER&&(a-=d/2,f-=g/2),Fa||(a=Math.round(a),f=Math.round(f),d=Math.round(d),g=Math.round(g)),h!==b){j===b&&(j=k=i=h);var s=d/2,n=g/2;if(h>s||h>n)h=Math.min(s,n);if(i>s||i>n)i=Math.min(s,n);if(k>s||k>n)k=Math.min(s,n);if(j>s||j>n)j=Math.min(s,n);(!S||L)&&m.translate(0.5,0.5);m.beginPath();m.moveTo(a+h,f);m.lineTo(a+d-i,f);m.quadraticCurveTo(a+
d,f,a+d,f+i);m.lineTo(a+d,f+g-k);m.quadraticCurveTo(a+d,f+g,a+d-k,f+g);m.lineTo(a+j,f+g);m.quadraticCurveTo(a,f+g,a,f+g-j);m.lineTo(a,f+h);m.quadraticCurveTo(a,f,a+h,f);(!S||L)&&m.translate(-0.5,-0.5);Oa();Ja()}else L&&1===ga%2&&m.translate(0.5,0.5),m.beginPath(),m.rect(a,f,d,g),Oa(),Ja(),L&&1===ga%2&&m.translate(-0.5,-0.5)};D.prototype.rect=function(a,f,d,g,h){if(h!==b)throw"rect() with rounded corners is not supported in 3D mode";Ma===c.CORNERS?(d-=a,g-=f):Ma===c.RADIUS?(d*=2,g*=2,a-=d/2,f-=g/2):
Ma===c.CENTER&&(a-=d/2,f-=g/2);h=new I;h.translate(a,f,0);h.scale(d,g,1);h.transpose();f=new I;f.scale(1,-1,1);f.apply(J.array());f.transpose();0<ga&&L&&(m.useProgram(H),V("uModel2d",H,"uModel",!1,h.array()),V("uView2d",H,"uView",!1,f.array()),v("uColor2d",H,"uColor",ra),B("uIsDrawingText2d",H,"uIsDrawingText",!1),aa("aVertex2d",H,"aVertex",3,Xb),pa("aTextureCoord2d",H,"aTextureCoord"),m.drawArrays(m.LINE_LOOP,0,bd.length/3));S&&(m.useProgram(z),V("uModel3d",z,"uModel",!1,h.array()),V("uView3d",z,
"uView",!1,f.array()),m.enable(m.POLYGON_OFFSET_FILL),m.polygonOffset(1,1),v("color3d",z,"uColor",va),0<M?(a=new I,a.set(f),f=new I,f.set(h),a.mult(f),h=new I,h.set(a),h.invert(),h.transpose(),V("uNormalTransform3d",z,"uNormalTransform",!1,h.array()),aa("aNormal3d",z,"aNormal",3,vb)):pa("normal3d",z,"aNormal"),aa("vertex3d",z,"aVertex",3,Xb),m.drawArrays(m.TRIANGLE_FAN,0,bd.length/3),m.disable(m.POLYGON_OFFSET_FILL))};G.prototype.ellipse=function(a,b,d,g){a=a||0;b=b||0;if(!(0>=d&&0>=g))if(Ga===c.RADIUS?
(d*=2,g*=2):Ga===c.CORNERS?(d-=a,g-=b,a+=d/2,b+=g/2):Ga===c.CORNER&&(a+=d/2,b+=g/2),d===g)m.beginPath(),m.arc(a,b,d/2,0,c.TWO_PI,!1),Oa(),Ja();else{d/=2;g/=2;var h=0.5522847498307933*d,i=0.5522847498307933*g;f.beginShape();f.vertex(a+d,b);f.bezierVertex(a+d,b-i,a+h,b-g,a,b-g);f.bezierVertex(a-h,b-g,a-d,b-i,a-d,b);f.bezierVertex(a-d,b+i,a-h,b+g,a,b+g);f.bezierVertex(a+h,b+g,a+d,b+i,a+d,b);f.endShape()}};D.prototype.ellipse=function(a,b,d,g){a=a||0;b=b||0;if(!(0>=d&&0>=g)){Ga===c.RADIUS?(d*=2,g*=2):
Ga===c.CORNERS?(d-=a,g-=b,a+=d/2,b+=g/2):Ga===c.CORNER&&(a+=d/2,b+=g/2);d/=2;g/=2;var h=0.5522847498307933*d,i=0.5522847498307933*g;f.beginShape();f.vertex(a+d,b);f.bezierVertex(a+d,b-i,0,a+h,b-g,0,a,b-g,0);f.bezierVertex(a-h,b-g,0,a-d,b-i,0,a-d,b,0);f.bezierVertex(a-d,b+i,0,a-h,b+g,0,a,b+g,0);f.bezierVertex(a+h,b+g,0,a+d,b+i,0,a+d,b,0);f.endShape();if(S){for(h=g=d=0;h<n.length;h++)d+=n[h][0],g+=n[h][1];d/=n.length;g/=n.length;h=[];a=[];b=[];h[0]=d;h[1]=g;h[2]=0;h[3]=0;h[4]=0;h[5]=va[0];h[6]=va[1];
h[7]=va[2];h[8]=va[3];h[9]=ra[0];h[10]=ra[1];h[11]=ra[2];h[12]=ra[3];h[13]=zc;h[14]=N;h[15]=Ib;n.unshift(h);for(h=0;h<n.length;h++){for(d=0;3>d;d++)a.push(n[h][d]);for(d=5;9>d;d++)b.push(n[h][d])}Ab(a,"TRIANGLE_FAN",b)}}};f.normal=function(a,b,f){if(3!==arguments.length||!("number"===typeof a&&"number"===typeof b&&"number"===typeof f))throw"normal() requires three numeric arguments.";zc=a;N=b;Ib=f;0!==T&&(rb===c.NORMAL_MODE_AUTO?rb=c.NORMAL_MODE_SHAPE:rb===c.NORMAL_MODE_SHAPE&&(rb=c.NORMAL_MODE_VERTEX))};
f.save=function(a,c){return c!==b?i.open(c.toDataURL(),"_blank"):i.open(f.externals.canvas.toDataURL(),"_blank")};var Id=0;f.saveFrame=function(a){a===b&&(a="screen-####.png");a=a.replace(/#+/,function(a){for(var b=""+Id++;b.length<a.length;)b="0"+b;return b});f.save(a)};var Jd=q.createElement("canvas").getContext("2d"),kd=[b,b,b],bb=function(a,b,f){this.__isDirty=!1;if(a instanceof Va)this.fromHTMLImageData(a);else if(b||f){this.width=a||1;this.height=b||1;a=this.sourceImg=q.createElement("canvas");
a.width=this.width;a.height=this.height;this.imageData=a.getContext("2d").createImageData(this.width,this.height);this.format=f===c.ARGB||f===c.ALPHA?f:c.RGB;if(this.format===c.RGB){f=3;a=this.imageData.data;for(b=a.length;f<b;f+=4)a[f]=255}this.__isDirty=!0;this.updatePixels()}else this.height=this.width=0,this.imageData=Jd.createImageData(1,1),this.format=c.ARGB;var d=this,g=this,h=this,i=this,k=this;this.pixels={getLength:function(){if(d.isRemote)throw"Image is loaded remotely. Cannot get length.";
return d.imageData.data.length?d.imageData.data.length/4:0},getPixel:function(a){a*=4;var b=g.imageData.data;if(g.isRemote)throw"Image is loaded remotely. Cannot get pixels.";return b[a+3]<<24&c.ALPHA_MASK|b[a]<<16&c.RED_MASK|b[a+1]<<8&c.GREEN_MASK|b[a+2]&c.BLUE_MASK},setPixel:function(a,b){var f=4*a,d=h.imageData.data;if(h.isRemote)throw"Image is loaded remotely. Cannot set pixel.";d[f+0]=(b&c.RED_MASK)>>>16;d[f+1]=(b&c.GREEN_MASK)>>>8;d[f+2]=b&c.BLUE_MASK;d[f+3]=(b&c.ALPHA_MASK)>>>24;h.__isDirty=
!0},toArray:function(){var a=[],b=i.imageData.data,f=i.width*i.height;if(i.isRemote)throw"Image is loaded remotely. Cannot get pixels.";for(var d=0,g=0;d<f;d++,g+=4)a.push(b[g+3]<<24&c.ALPHA_MASK|b[g]<<16&c.RED_MASK|b[g+1]<<8&c.GREEN_MASK|b[g+2]&c.BLUE_MASK);return a},set:function(a){var b,f,d;if(this.isRemote)throw"Image is loaded remotely. Cannot set pixels.";f=k.imageData.data;for(var g=0,h=a.length;g<h;g++)d=a[g],b=4*g,f[b+0]=(d&c.RED_MASK)>>>16,f[b+1]=(d&c.GREEN_MASK)>>>8,f[b+2]=d&c.BLUE_MASK,
f[b+3]=(d&c.ALPHA_MASK)>>>24;k.__isDirty=!0}}};bb.prototype={__isPImage:!0,updatePixels:function(){var a=this.sourceImg;a&&(a instanceof Z&&this.__isDirty)&&a.getContext("2d").putImageData(this.imageData,0,0);this.__isDirty=!1},fromHTMLImageData:function(a){var b=Pa(a);try{var c=b.context.getImageData(0,0,a.width,a.height);this.fromImageData(c)}catch(f){a.width&&a.height&&(this.isRemote=!0,this.width=a.width,this.height=a.height)}this.sourceImg=a},get:function(a,b,c,d){if(!arguments.length)return f.get(this);
if(2===arguments.length)return f.get(a,b,this);if(4===arguments.length)return f.get(a,b,c,d,this)},set:function(a,b,c){f.set(a,b,c,this);this.__isDirty=!0},blend:function(a,b,c,d,g,h,i,k,j,m){9===arguments.length?f.blend(this,a,b,c,d,g,h,i,k,j,this):10===arguments.length&&f.blend(a,b,c,d,g,h,i,k,j,m,this);delete this.sourceImg},copy:function(a,b,d,g,h,i,k,j,m){8===arguments.length?f.blend(this,a,b,d,g,h,i,k,j,c.REPLACE,this):9===arguments.length&&f.blend(a,b,d,g,h,i,k,j,m,c.REPLACE,this);delete this.sourceImg},
filter:function(a,b){2===arguments.length?f.filter(a,b,this):1===arguments.length&&f.filter(a,null,this);delete this.sourceImg},save:function(a){f.save(a,this)},resize:function(a,b){if(this.isRemote)throw"Image is loaded remotely. Cannot resize.";if(0!==this.width||0!==this.height){0===a&&0!==b?a=Math.floor(this.width/this.height*b):0===b&&0!==a&&(b=Math.floor(this.height/this.width*a));var c=Pa(this.imageData).canvas,c=Pa(c,a,b).context.getImageData(0,0,a,b);this.fromImageData(c)}},mask:function(a){var b=
this.toImageData(),c,f;if(a instanceof bb||a.__isPImage)if(a.width===this.width&&a.height===this.height){a=a.toImageData();c=2;for(f=4*this.width*this.height;c<f;c+=4)b.data[c+1]=a.data[c]}else throw"mask must have the same dimensions as PImage.";else if(a instanceof Array)if(this.width*this.height===a.length){c=0;for(f=a.length;c<f;++c)b.data[4*c+3]=a[c]}else throw"mask array must be the same length as PImage pixels array.";this.fromImageData(b)},loadPixels:r,toImageData:function(){return this.isRemote?
this.sourceImg:!this.__isDirty?this.imageData:Pa(this.sourceImg).context.getImageData(0,0,this.width,this.height)},toDataURL:function(){if(this.isRemote)throw"Image is loaded remotely. Cannot create dataURI.";return Pa(this.imageData).canvas.toDataURL()},fromImageData:function(a){var b=a.width,f=a.height,d=q.createElement("canvas"),g=d.getContext("2d");this.width=d.width=b;this.height=d.height=f;g.putImageData(a,0,0);this.format=c.ARGB;this.imageData=a;this.sourceImg=d}};f.PImage=bb;f.createImage=
function(a,b,c){return new bb(a,b,c)};f.loadImage=function(a,b,c){if(da.imageCache.images[a])return b=new bb(da.imageCache.images[a]),b.loaded=!0,b;b=new bb;var f=q.createElement("img");b.sourceImg=f;var d=b;f.onload=function(){d.fromHTMLImageData(f);d.loaded=!0;c&&c()};f.src=a;return b};f.requestImage=f.loadImage;f.get=function(a,b,d,g,h){if(void 0!==h)return Eb(a,b,d,g,h);if(void 0!==g)return uc(a,b,d,g);if(void 0!==d){if(d.isRemote)throw"Image is loaded remotely. Cannot get x,y.";a=4*b*d.width+
4*a;d=d.imageData.data;return d[a+3]<<24&c.ALPHA_MASK|d[a]<<16&c.RED_MASK|d[a+1]<<8&c.GREEN_MASK|d[a+2]&c.BLUE_MASK}return void 0!==b?(a>=f.width||0>a||0>b||b>=f.height?d=0:Dc?(a=4*((0|a)+f.width*(0|b)),d=f.imageData.data,d=d[a+3]<<24&c.ALPHA_MASK|d[a]<<16&c.RED_MASK|d[a+1]<<8&c.GREEN_MASK|d[a+2]&c.BLUE_MASK):(d=f.toImageData(0|a,0|b,1,1).data,d=d[3]<<24&c.ALPHA_MASK|d[0]<<16&c.RED_MASK|d[1]<<8&c.GREEN_MASK|d[2]&c.BLUE_MASK),d):void 0!==a?Eb(0,0,a.width,a.height,a):uc(0,0,f.width,f.height)};f.createGraphics=
function(a,b,c){var d=new K;d.size(a,b,c);d.background(0,0);return d};f.set=function(a,b,c,d){if(3===arguments.length)"number"===typeof c?a<f.width&&(0<=a&&0<=b&&b<f.height)&&(Dc||(f.loadPixels(),null===$c&&(id=m,$c=new Nc),Dc=!0,m=$c,ld=0),f.pixels.setPixel((0|a)+f.width*(0|b),c),++ld>md&&Fb()):(c instanceof bb||c.__isPImage)&&f.image(c,a,b);else if(4===arguments.length){if(d.isRemote)throw"Image is loaded remotely. Cannot set x,y.";var g=f.color.toArray(c),h=4*b*d.width+4*a,i=d.imageData.data;i[h]=
g[0];i[h+1]=g[1];i[h+2]=g[2];i[h+3]=g[3]}};f.imageData={};f.pixels={getLength:function(){return f.imageData.data.length?f.imageData.data.length/4:0},getPixel:function(a){a*=4;var b=f.imageData.data;return b[a+3]<<24&4278190080|b[a+0]<<16&16711680|b[a+1]<<8&65280|b[a+2]&255},setPixel:function(a,b){var c=4*a,d=f.imageData.data;d[c+0]=(b&16711680)>>>16;d[c+1]=(b&65280)>>>8;d[c+2]=b&255;d[c+3]=(b&4278190080)>>>24},toArray:function(){for(var a=[],b=f.imageData.width*f.imageData.height,c=f.imageData.data,
d=0,g=0;d<b;d++,g+=4)a.push(c[g+3]<<24&4278190080|c[g+0]<<16&16711680|c[g+1]<<8&65280|c[g+2]&255);return a},set:function(a){for(var b=0,c=a.length;b<c;b++)this.setPixel(b,a[b])}};f.loadPixels=function(){f.imageData=ka.$ensureContext().getImageData(0,0,f.width,f.height)};f.updatePixels=function(){f.imageData&&ka.$ensureContext().putImageData(f.imageData,0,0)};f.hint=function(a){var b=ka.$ensureContext();a===c.DISABLE_DEPTH_TEST?(b.disable(b.DEPTH_TEST),b.depthMask(!1),b.clear(b.DEPTH_BUFFER_BIT)):
a===c.ENABLE_DEPTH_TEST?(b.enable(b.DEPTH_TEST),b.depthMask(!0)):a===c.ENABLE_OPENGL_2X_SMOOTH||a===c.ENABLE_OPENGL_4X_SMOOTH?Fa=!0:a===c.DISABLE_OPENGL_2X_SMOOTH&&(Fa=!1)};var zd=function(a,b,c,d){if(a instanceof bb||a.__isPImage){if(!a.loaded)throw"Error using image in background(): PImage not loaded.";if(a.width!==f.width||a.height!==f.height)throw"Background image must be the same dimensions as the canvas.";}else a=f.color(a,b,c,d);ca=a};G.prototype.background=function(a,c,d,g){a!==b&&zd(a,c,
d,g);ca instanceof bb||ca.__isPImage?(m.save(),m.setTransform(1,0,0,1,0,0),f.image(ca,0,0)):(m.save(),m.setTransform(1,0,0,1,0,0),f.alpha(ca)!==fa&&m.clearRect(0,0,f.width,f.height),m.fillStyle=f.color.toString(ca),m.fillRect(0,0,f.width,f.height),Za=!0);eb()};D.prototype.background=function(a,b,c,d){0<arguments.length&&zd(a,b,c,d);var g=f.color.toGLArray(ca);m.clearColor(g[0],g[1],g[2],g[3]);m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT)};G.prototype.image=function(a,b,c,d,f){b=Math.round(b);c=Math.round(c);
if(0<a.width){var g=Uc(b||0,c||0,d||a.width,f||a.height,4>arguments.length);if(a.sourceImg&&null===Ea){var h=a.sourceImg;a.__isDirty&&a.updatePixels();m.drawImage(h,0,0,h.width,h.height,g.x,g.y,g.w,g.h)}else h=a.toImageData(),null!==Ea&&(Ea(h),a.__isDirty=!0),m.drawImage(Pa(h).canvas,0,0,a.width,a.height,g.x,g.y,g.w,g.h)}};D.prototype.image=function(a,b,c,d,g){0<a.width&&(b=Math.round(b),c=Math.round(c),d=d||a.width,g=g||a.height,f.beginShape(f.QUADS),f.texture(a),f.vertex(b,c,0,0,0),f.vertex(b,c+
g,0,0,g),f.vertex(b+d,c+g,0,d,g),f.vertex(b+d,c,0,d,0),f.endShape())};f.tint=function(a,b,c,d){a=f.color(a,b,c,d);var g=f.red(a)/ma,h=f.green(a)/Aa,i=f.blue(a)/ja,k=f.alpha(a)/fa;Ea=function(a){var b=a.data;a=4*a.width*a.height;for(var c=0;c<a;)b[c++]*=g,b[c++]*=h,b[c++]*=i,b[c++]*=k};vc=function(a){for(var b=0;b<a.length;)a[b++]=g,a[b++]=h,a[b++]=i,a[b++]=k}};f.noTint=function(){vc=Ea=null};f.copy=function(a,d,g,h,i,k,j,m,n){n===b&&(n=m,m=j,j=k,k=i,i=h,h=g,g=d,d=a,a=f);f.blend(a,d,g,h,i,k,j,m,n,
c.REPLACE)};f.blend=function(a,c,d,g,h,i,k,j,m,n,o){if(a.isRemote)throw"Image is loaded remotely. Cannot blend image.";n===b&&(n=m,m=j,j=k,k=i,i=h,h=g,g=d,d=c,c=a,a=f);g=c+g;h=d+h;j=i+j;m=k+m;var q=o||f;(o===b||n===b)&&f.loadPixels();a.loadPixels();a===f&&f.intersect(c,d,g,h,i,k,j,m)?f.blit_resize(f.get(c,d,g-c,h-d),0,0,g-c-1,h-d-1,q.imageData.data,q.width,q.height,i,k,j,m,n):f.blit_resize(a,c,d,g,h,q.imageData.data,q.width,q.height,i,k,j,m,n);o===b&&f.updatePixels()};var Ad=function(a,b){var c=0,
d=b.pixels.getLength(),f=new p(d),g,h,i,k,j,m,n,o,q,r,v,u;if(a)for(;c<d;){g=c;for(h=c+b.width;c<h;)i=k=b.pixels.getPixel(c),m=c-1,j=c+1,n=c-b.width,o=c+b.width,m<g&&(m=c),j>=h&&(j=c),0>n&&(n=0),o>=d&&(o=c),n=b.pixels.getPixel(n),m=b.pixels.getPixel(m),o=b.pixels.getPixel(o),j=b.pixels.getPixel(j),i=77*(i>>16&255)+151*(i>>8&255)+28*(i&255),r=77*(m>>16&255)+151*(m>>8&255)+28*(m&255),q=77*(j>>16&255)+151*(j>>8&255)+28*(j&255),v=77*(n>>16&255)+151*(n>>8&255)+28*(n&255),u=77*(o>>16&255)+151*(o>>8&255)+
28*(o&255),r<i&&(k=m,i=r),q<i&&(k=j,i=q),v<i&&(k=n,i=v),u<i&&(k=o),f[c++]=k}else for(;c<d;){g=c;for(h=c+b.width;c<h;)i=k=b.pixels.getPixel(c),m=c-1,j=c+1,n=c-b.width,o=c+b.width,m<g&&(m=c),j>=h&&(j=c),0>n&&(n=0),o>=d&&(o=c),n=b.pixels.getPixel(n),m=b.pixels.getPixel(m),o=b.pixels.getPixel(o),j=b.pixels.getPixel(j),i=77*(i>>16&255)+151*(i>>8&255)+28*(i&255),r=77*(m>>16&255)+151*(m>>8&255)+28*(m&255),q=77*(j>>16&255)+151*(j>>8&255)+28*(j&255),v=77*(n>>16&255)+151*(n>>8&255)+28*(n&255),u=77*(o>>16&255)+
151*(o>>8&255)+28*(o&255),r>i&&(k=m,i=r),q>i&&(k=j,i=q),v>i&&(k=n,i=v),u>i&&(k=o),f[c++]=k}b.pixels.set(f)};f.filter=function(a,d,g){var h,i,k,j;3===arguments.length?(g.loadPixels(),h=g):(f.loadPixels(),h=f);d===b&&(d=null);if(h.isRemote)throw"Image is loaded remotely. Cannot filter image.";var m=h.pixels.getLength();switch(a){case c.BLUR:var n=d||1,o=h,q,r,p,v,u,y,A,z,B;k=o.pixels.getLength();j=new C(k);m=new C(k);i=new C(k);k=new C(k);var E=0,G,F,H,n=f.floor(3.5*n),D,n=1>n?1:248>n?n:248;if(f.shared.blurRadius!==
n){f.shared.blurRadius=n;f.shared.blurKernelSize=1+(f.shared.blurRadius<<1);f.shared.blurKernel=new C(f.shared.blurKernelSize);var I=f.shared.blurKernel,K=f.shared.blurKernelSize;for(D=0;D<K;D++)I[D]=0;K=(n-1)*(n-1);for(D=1;D<n;D++)I[n+D]=I[n-D]=K;I[n]=n*n}n=o.height;D=o.width;I=f.shared.blurKernelSize;z=f.shared.blurRadius;var K=f.shared.blurKernel,J=o.imageData.data;for(F=0;F<n;F++){for(G=0;G<D;G++){p=r=q=v=o=0;y=G-z;if(0>y)u=-y,y=0;else{if(y>=D)break;u=0}for(H=u;H<I&&!(y>=D);H++)A=4*(y+E),u=K[H],
v+=u*J[A+3],q+=u*J[A],r+=u*J[A+1],p+=u*J[A+2],o+=u,y++;A=E+G;k[A]=v/o;j[A]=q/o;m[A]=r/o;i[A]=p/o}E+=D}E=0;z=-z;B=z*D;for(F=0;F<n;F++){for(G=0;G<D;G++){p=r=q=v=o=0;if(0>z)u=A=-z,y=G;else{if(z>=n)break;u=0;A=z;y=G+B}for(H=u;H<I&&!(A>=n);H++)u=K[H],v+=u*k[y],q+=u*j[y],r+=u*m[y],p+=u*i[y],o+=u,A++,y+=D;A=4*(G+E);J[A]=q/o;J[A+1]=r/o;J[A+2]=p/o;J[A+3]=v/o}E+=D;B+=D;z++}break;case c.GRAY:if(h.format===c.ALPHA){for(j=0;j<m;j++)i=255-h.pixels.getPixel(j),h.pixels.setPixel(j,4278190080|i<<16|i<<8|i);h.format=
c.RGB}else for(j=0;j<m;j++)i=h.pixels.getPixel(j),k=77*(i>>16&255)+151*(i>>8&255)+28*(i&255)>>8,h.pixels.setPixel(j,i&c.ALPHA_MASK|k<<16|k<<8|k);break;case c.INVERT:for(j=0;j<m;j++)h.pixels.setPixel(j,h.pixels.getPixel(j)^16777215);break;case c.POSTERIZE:if(null===d)throw"Use filter(POSTERIZE, int levels) instead of filter(POSTERIZE)";i=f.floor(d);if(2>i||255<i)throw"Levels must be between 2 and 255 for filter(POSTERIZE, levels)";k=i-1;for(j=0;j<m;j++)E=h.pixels.getPixel(j)>>16&255,n=h.pixels.getPixel(j)>>
8&255,D=h.pixels.getPixel(j)&255,E=255*(E*i>>8)/k,n=255*(n*i>>8)/k,D=255*(D*i>>8)/k,h.pixels.setPixel(j,4278190080&h.pixels.getPixel(j)|E<<16|n<<8|D);break;case c.OPAQUE:for(j=0;j<m;j++)h.pixels.setPixel(j,h.pixels.getPixel(j)|4278190080);h.format=c.RGB;break;case c.THRESHOLD:null===d&&(d=0.5);if(0>d||1<d)throw"Level must be between 0 and 1 for filter(THRESHOLD, level)";i=f.floor(255*d);for(j=0;j<m;j++)k=f.max((h.pixels.getPixel(j)&c.RED_MASK)>>16,f.max((h.pixels.getPixel(j)&c.GREEN_MASK)>>8,h.pixels.getPixel(j)&
c.BLUE_MASK)),h.pixels.setPixel(j,h.pixels.getPixel(j)&c.ALPHA_MASK|(k<i?0:16777215));break;case c.ERODE:Ad(!0,h);break;case c.DILATE:Ad(!1,h)}h.updatePixels()};f.shared={fracU:0,ifU:0,fracV:0,ifV:0,u1:0,u2:0,v1:0,v2:0,sX:0,sY:0,iw:0,iw1:0,ih1:0,ul:0,ll:0,ur:0,lr:0,cUL:0,cLL:0,cUR:0,cLR:0,srcXOffset:0,srcYOffset:0,r:0,g:0,b:0,a:0,srcBuffer:null,blurRadius:0,blurKernelSize:0,blurKernel:null};f.intersect=function(a,b,c,d,f,g,h,i){c=c-a+1;d=d-b+1;h=h-f+1;i=i-g+1;f<a?(h+=f-a,h>c&&(h=c)):(a=c+a-f,h>a&&
(h=a));g<b?(i+=g-b,i>d&&(i=d)):(b=d+b-g,i>b&&(i=b));return!(0>=h||0>=i)};var xa={};xa[c.BLEND]=f.modes.blend;xa[c.ADD]=f.modes.add;xa[c.SUBTRACT]=f.modes.subtract;xa[c.LIGHTEST]=f.modes.lightest;xa[c.DARKEST]=f.modes.darkest;xa[c.REPLACE]=f.modes.replace;xa[c.DIFFERENCE]=f.modes.difference;xa[c.EXCLUSION]=f.modes.exclusion;xa[c.MULTIPLY]=f.modes.multiply;xa[c.SCREEN]=f.modes.screen;xa[c.OVERLAY]=f.modes.overlay;xa[c.HARD_LIGHT]=f.modes.hard_light;xa[c.SOFT_LIGHT]=f.modes.soft_light;xa[c.DODGE]=f.modes.dodge;
xa[c.BURN]=f.modes.burn;f.blit_resize=function(a,b,d,g,h,i,j,k,m,n,o,q,r){0>b&&(b=0);0>d&&(d=0);g>=a.width&&(g=a.width-1);h>=a.height&&(h=a.height-1);g-=b;h-=d;o-=m;q-=n;if(!(0>=o||0>=q||0>=g||0>=h||m>=j||n>=k||b>=a.width||d>=a.height)){g=Math.floor(g/o*c.PRECISIONF);h=Math.floor(h/q*c.PRECISIONF);var p=f.shared;p.srcXOffset=Math.floor(0>m?-m*g:b*c.PRECISIONF);p.srcYOffset=Math.floor(0>n?-n*h:d*c.PRECISIONF);0>m&&(o+=m,m=0);0>n&&(q+=n,n=0);o=Math.min(o,j-m);q=Math.min(q,k-n);b=n*j+m;var v;p.srcBuffer=
a.imageData.data;p.iw=a.width;p.iw1=a.width-1;p.ih1=a.height-1;d=xa[r];var u,y,A,z;m=c.ALPHA_MASK;n=c.RED_MASK;var B=c.GREEN_MASK,C=c.BLUE_MASK,D=c.PREC_MAXVAL,E=c.PRECISIONB,G=c.PREC_RED_SHIFT,H=c.PREC_ALPHA_SHIFT,F=p.srcBuffer,I=Math.min;for(r=0;r<q;r++){p.sX=p.srcXOffset;p.fracV=p.srcYOffset&D;p.ifV=D-p.fracV;p.v1=(p.srcYOffset>>E)*p.iw;p.v2=I((p.srcYOffset>>E)+1,p.ih1)*p.iw;for(a=0;a<o;a++)k=4*(b+a),v=i[k+3]<<24&m|i[k]<<16&n|i[k+1]<<8&B|i[k+2]&C,p.fracU=p.sX&D,p.ifU=D-p.fracU,p.ul=p.ifU*p.ifV>>
E,p.ll=p.ifU*p.fracV>>E,p.ur=p.fracU*p.ifV>>E,p.lr=p.fracU*p.fracV>>E,p.u1=p.sX>>E,p.u2=I(p.u1+1,p.iw1),u=4*(p.v1+p.u1),y=4*(p.v1+p.u2),A=4*(p.v2+p.u1),z=4*(p.v2+p.u2),p.cUL=F[u+3]<<24&m|F[u]<<16&n|F[u+1]<<8&B|F[u+2]&C,p.cUR=F[y+3]<<24&m|F[y]<<16&n|F[y+1]<<8&B|F[y+2]&C,p.cLL=F[A+3]<<24&m|F[A]<<16&n|F[A+1]<<8&B|F[A+2]&C,p.cLR=F[z+3]<<24&m|F[z]<<16&n|F[z+1]<<8&B|F[z+2]&C,p.r=p.ul*((p.cUL&n)>>16)+p.ll*((p.cLL&n)>>16)+p.ur*((p.cUR&n)>>16)+p.lr*((p.cLR&n)>>16)<<G&n,p.g=p.ul*(p.cUL&B)+p.ll*(p.cLL&B)+p.ur*
(p.cUR&B)+p.lr*(p.cLR&B)>>>E&B,p.b=p.ul*(p.cUL&C)+p.ll*(p.cLL&C)+p.ur*(p.cUR&C)+p.lr*(p.cLR&C)>>>E,p.a=p.ul*((p.cUL&m)>>>24)+p.ll*((p.cLL&m)>>>24)+p.ur*((p.cUR&m)>>>24)+p.lr*((p.cLR&m)>>>24)<<H&m,v=d(v,p.a|p.r|p.g|p.b),i[k]=(v&n)>>>16,i[k+1]=(v&B)>>>8,i[k+2]=v&C,i[k+3]=(v&m)>>>24,p.sX+=g;b+=j;p.srcYOffset+=h}}};f.loadFont=function(a,c){if(a===b)throw"font name required in loadFont.";if(-1===a.indexOf(".svg"))return c===b&&(c=ba.size),PFont.get(a,c);var d=f.loadGlyphs(a);return{name:a,css:"12px sans-serif",
glyph:!0,units_per_em:d.units_per_em,horiz_adv_x:1/d.units_per_em*d.horiz_adv_x,ascent:d.ascent,descent:d.descent,width:function(b){for(var c=0,d=b.length,g=0;g<d;g++)try{c+=parseFloat(f.glyphLook(f.glyphTable[a],b[g]).horiz_adv_x)}catch(h){K.debug(h)}return c/f.glyphTable[a].units_per_em}}};f.createFont=function(a,b){return f.loadFont(a,b)};f.textFont=function(a,c){c!==b&&(a.glyph||(a=PFont.get(a.name,c)),fb=c);ba=a;ec=ba.name;sb=ba.ascent;hb=ba.descent;Sa=ba.leading;ka.$ensureContext().font=ba.css};
f.textSize=function(a){ba=PFont.get(ec,a);fb=a;sb=ba.ascent;hb=ba.descent;Sa=ba.leading;ka.$ensureContext().font=ba.css};f.textAscent=function(){return sb};f.textDescent=function(){return hb};f.textLeading=function(a){Sa=a};f.textAlign=function(a,b){Sb=a;qb=b||c.BASELINE};G.prototype.textWidth=function(a){a=Xa(a).split(/\r?\n/g);var b=0,c,d=a.length;m.font=ba.css;for(c=0;c<d;++c)b=Math.max(b,ba.measureTextWidth(a[c]));return b|0};D.prototype.textWidth=function(a){a=Xa(a).split(/\r?\n/g);var c=0,d,
f=a.length;Ba===b&&(Ba=q.createElement("canvas"));var g=Ba.getContext("2d");g.font=ba.css;for(d=0;d<f;++d)c=Math.max(c,g.measureText(a[d]).width);return c|0};f.glyphLook=function(a,b){try{switch(b){case "1":return a.one;case "2":return a.two;case "3":return a.three;case "4":return a.four;case "5":return a.five;case "6":return a.six;case "7":return a.seven;case "8":return a.eight;case "9":return a.nine;case "0":return a.zero;case " ":return a.space;case "$":return a.dollar;case "!":return a.exclam;
case '"':return a.quotedbl;case "#":return a.numbersign;case "%":return a.percent;case "\x26":return a.ampersand;case "'":return a.quotesingle;case "(":return a.parenleft;case ")":return a.parenright;case "*":return a.asterisk;case "+":return a.plus;case ",":return a.comma;case "-":return a.hyphen;case ".":return a.period;case "/":return a.slash;case "_":return a.underscore;case ":":return a.colon;case ";":return a.semicolon;case "\x3c":return a.less;case "\x3d":return a.equal;case "\x3e":return a.greater;
case "?":return a.question;case "@":return a.at;case "[":return a.bracketleft;case "\\":return a.backslash;case "]":return a.bracketright;case "^":return a.asciicircum;case "`":return a.grave;case "{":return a.braceleft;case "|":return a.bar;case "}":return a.braceright;case "~":return a.asciitilde;default:return a[b]}}catch(c){K.debug(c)}};G.prototype.text$line=function(a,b,d,g,h){g=g=0;if(ba.glyph){g=f.glyphTable[ec];m.save();m.translate(b,d+fb);(h===c.RIGHT||h===c.CENTER)&&g.width(a);b=1/g.units_per_em*
fb;m.scale(b,b);b=0;for(d=a.length;b<d;b++)try{f.glyphLook(g,a[b]).draw()}catch(i){K.debug(i)}eb()}else if(a&&"fillText"in m){Za&&(m.fillStyle=f.color.toString(Ya),Za=!1);if(h===c.RIGHT||h===c.CENTER)g=ba.measureTextWidth(a),g=h===c.RIGHT?-g:-g/2;m.fillText(a,b+g,d)}};D.prototype.text$line=function(a,d,f,g,h){Ba===b&&(Ba=q.createElement("canvas"));var i=m;m=Ba.getContext("2d");m.font=ba.css;var j=ba.measureTextWidth(a);Ba.width=j;Ba.height=fb;m=Ba.getContext("2d");m.font=ba.css;m.textBaseline="top";
G.prototype.text$line(a,0,0,0,c.LEFT);a=Ba.width/Ba.height;m=i;m.bindTexture(m.TEXTURE_2D,Ec);m.texImage2D(m.TEXTURE_2D,0,m.RGBA,m.RGBA,m.UNSIGNED_BYTE,Ba);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.LINEAR);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE);i=0;h===c.RIGHT?i=-j:h===c.CENTER&&(i=-j/2);h=new I;j=0.5*fb;h.translate(d+i-j/2,f-j,g);h.scale(-a*
j,-j,j);h.translate(-1,-1,-1);h.transpose();d=new I;d.scale(1,-1,1);d.apply(J.array());d.transpose();m.useProgram(H);aa("aVertex2d",H,"aVertex",3,Vc);aa("aTextureCoord2d",H,"aTextureCoord",2,Xc);B("uSampler2d",H,"uSampler",[0]);B("uIsDrawingText2d",H,"uIsDrawingText",!0);V("uModel2d",H,"uModel",!1,h.array());V("uView2d",H,"uView",!1,d.array());v("uColor2d",H,"uColor",va);m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,Zc);m.drawElements(m.TRIANGLES,6,m.UNSIGNED_SHORT,0)};f.text=function(){Mc!==c.SHAPE&&(3===
arguments.length?Oc(Xa(arguments[0]),arguments[1],arguments[2],0):4===arguments.length?Oc(Xa(arguments[0]),arguments[1],arguments[2],arguments[3]):5===arguments.length?gc(Xa(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],0):6===arguments.length&&gc(Xa(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]))};f.textMode=function(a){Mc=a};f.loadGlyphs=function(a){var c,d,g,h,j,k,n,o,p,r,v,u,y=function(a,b){var c=0,d=[],f,g=RegExp(a,"g");for(f=d[c]=g.exec(b);f;)c++,
f=d[c]=g.exec(b);return d},A=function(a){var b=y("[A-Za-z][0-9\\- ]+|Z",a);u="return {draw:function(){var curContext\x3dbeforePathDraw();curContext.beginPath();";o=a=k=j=h=g=d=c=0;p="";r=b.length-1;for(var f=0;f<r;f++){var i=b[f][0];a=y("[0-9\\-]+",i);switch(i[0]){case "M":c=parseFloat(a[0][0]);d=parseFloat(a[1][0]);u+="curContext.moveTo("+c+","+-d+");";break;case "L":c=parseFloat(a[0][0]);d=parseFloat(a[1][0]);u+="curContext.lineTo("+c+","+-d+");";break;case "H":c=parseFloat(a[0][0]);u+="curContext.lineTo("+
c+","+-d+");";break;case "V":d=parseFloat(a[0][0]);u+="curContext.lineTo("+c+","+-d+");";break;case "T":j=parseFloat(a[0][0]);k=parseFloat(a[1][0]);"Q"===p||"T"===p?(a=Math.sqrt(Math.pow(c-g,2)+Math.pow(h-d,2)),o=Math.PI+Math.atan2(g-c,h-d),g=c+Math.sin(o)*a,h=d+Math.cos(o)*a):(g=c,h=d);u+="curContext.quadraticCurveTo("+g+","+-h+","+j+","+-k+");";c=j;d=k;break;case "Q":g=parseFloat(a[0][0]);h=parseFloat(a[1][0]);j=parseFloat(a[2][0]);k=parseFloat(a[3][0]);u+="curContext.quadraticCurveTo("+g+","+-h+
","+j+","+-k+");";c=j;d=k;break;case "Z":u+="curContext.closePath();"}p=i[0]}u+="afterPathDraw();";u+="curContext.translate("+v+",0);";u+="}}";return(new Function("beforePathDraw","afterPathDraw",u))(function(){m.save();return ka.$ensureContext()},function(){Oa();Ja();eb()})},z=function(c){var d=c.getElementsByTagName("font");f.glyphTable[a].horiz_adv_x=d[0].getAttribute("horiz-adv-x");d=c.getElementsByTagName("font-face")[0];f.glyphTable[a].units_per_em=parseFloat(d.getAttribute("units-per-em"));
f.glyphTable[a].ascent=parseFloat(d.getAttribute("ascent"));f.glyphTable[a].descent=parseFloat(d.getAttribute("descent"));c=c.getElementsByTagName("glyph");for(var d=c.length,g=0;g<d;g++){var h=c[g].getAttribute("unicode"),i=c[g].getAttribute("glyph-name");v=c[g].getAttribute("horiz-adv-x");null===v&&(v=f.glyphTable[a].horiz_adv_x);n=c[g].getAttribute("d");n!==b&&(u=A(n),f.glyphTable[a][i]={name:i,unicode:h,horiz_adv_x:v,draw:u.draw})}};f.glyphTable[a]={};a:{var B;try{B=q.implementation.createDocument("",
"",null)}catch(C){K.debug(C.message);break a}try{B.async=!1,B.load(a),z(B.getElementsByTagName("svg")[0])}catch(D){K.debug(D);try{var E=new i.XMLHttpRequest;E.open("GET",a,!1);E.send(null);z(E.responseXML.documentElement)}catch(F){K.debug(D)}}}return f.glyphTable[a]};f.param=function(a){var b="data-processing-"+a;if(P.hasAttribute(b))return P.getAttribute(b);for(var b=0,c=P.childNodes.length;b<c;++b){var d=P.childNodes.item(b);if(!(1!==d.nodeType||"param"!==d.tagName.toLowerCase())&&d.getAttribute("name")===
a)return d.getAttribute("value")}return da.params.hasOwnProperty(a)?da.params[a]:null};E.prototype.translate=F("translate");E.prototype.transform=F("transform");E.prototype.scale=F("scale");E.prototype.pushMatrix=F("pushMatrix");E.prototype.popMatrix=F("popMatrix");E.prototype.resetMatrix=F("resetMatrix");E.prototype.applyMatrix=F("applyMatrix");E.prototype.rotate=F("rotate");E.prototype.rotateZ=F("rotateZ");E.prototype.shearX=F("shearX");E.prototype.shearY=F("shearY");E.prototype.redraw=F("redraw");
E.prototype.toImageData=F("toImageData");E.prototype.ambientLight=F("ambientLight");E.prototype.directionalLight=F("directionalLight");E.prototype.lightFalloff=F("lightFalloff");E.prototype.lightSpecular=F("lightSpecular");E.prototype.pointLight=F("pointLight");E.prototype.noLights=F("noLights");E.prototype.spotLight=F("spotLight");E.prototype.beginCamera=F("beginCamera");E.prototype.endCamera=F("endCamera");E.prototype.frustum=F("frustum");E.prototype.box=F("box");E.prototype.sphere=F("sphere");
E.prototype.ambient=F("ambient");E.prototype.emissive=F("emissive");E.prototype.shininess=F("shininess");E.prototype.specular=F("specular");E.prototype.fill=F("fill");E.prototype.stroke=F("stroke");E.prototype.strokeWeight=F("strokeWeight");E.prototype.smooth=F("smooth");E.prototype.noSmooth=F("noSmooth");E.prototype.point=F("point");E.prototype.vertex=F("vertex");E.prototype.endShape=F("endShape");E.prototype.bezierVertex=F("bezierVertex");E.prototype.curveVertex=F("curveVertex");E.prototype.curve=
F("curve");E.prototype.line=F("line");E.prototype.bezier=F("bezier");E.prototype.rect=F("rect");E.prototype.ellipse=F("ellipse");E.prototype.background=F("background");E.prototype.image=F("image");E.prototype.textWidth=F("textWidth");E.prototype.text$line=F("text$line");E.prototype.$ensureContext=F("$ensureContext");E.prototype.$newPMatrix=F("$newPMatrix");E.prototype.size=function(a,b,d){gb(d===c.WEBGL?"3D":"2D");f.size(a,b,d)};E.prototype.$init=r;G.prototype.$init=function(){f.size(f.width,f.height);
m.lineCap="round";f.noSmooth();f.disableContextMenu()};D.prototype.$init=function(){f.use3DContext=!0;f.disableContextMenu()};X.prototype.$ensureContext=function(){return m};P.getAttribute("tabindex")||P.setAttribute("tabindex",0);if(Tb)da=new K.Sketch,gb(),f.size=function(a,b,d){d&&d===c.WEBGL?gb("3D"):gb("2D");f.size(a,b,d)};else{da=k instanceof K.Sketch?k:"function"===typeof k?new K.Sketch(k):k?K.compile(k):new K.Sketch(function(){});f.externals.sketch=da;gb();P.onfocus=function(){f.focused=!0};
P.onblur=function(){f.focused=!1;da.options.globalKeyEvents||(f.__keyPressed=!1,Nb=[],Zb=null)};da.options.pauseOnBlur&&(u(i,"focus",function(){La&&f.loop()}),u(i,"blur",function(){La&&Hb&&(f.noLoop(),La=!0);f.__keyPressed=!1;Nb=[];Zb=null}));var dd=da.options.globalKeyEvents?i:P;u(dd,"keydown",Pc);u(dd,"keypress",Qc);u(dd,"keyup",yc);for(var Jc in K.lib)K.lib.hasOwnProperty(Jc)&&(K.lib[Jc].hasOwnProperty("attach")?K.lib[Jc].attach(f):K.lib[Jc]instanceof Function&&K.lib[Jc].call(this));var Bd=function(a){if(!da.imageCache.pending&&
!PFont.preloading.pending(100)){if(i.opera){var b,c,d=da.imageCache.operaCache;for(b in d)d.hasOwnProperty(b)&&(c=d[b],null!==c&&q.body.removeChild(c),delete d[b])}da.attach(a,o);da.onLoad(a);a.setup&&(a.setup(),a.resetMatrix(),da.onSetup());Fb();a.draw&&(La?a.loop():a.redraw())}else i.setTimeout(function(){Bd(a)},100)};if(this.externals.canvas.id===b||!this.externals.canvas.id.length)this.externals.canvas.id="__processing"+y.length;ob[this.externals.canvas.id]=y.length;y.push(this);Bd(f)}};k="console"in
i?function(a){i.console.log("Processing.js: "+a)}:r;K.debug=k;K.prototype=o;K.instances=y;K.getInstanceById=function(a){return y[ob[a]]};for(var k=function(a){return function(){throw"Processing.js does not support "+a+".";}},db="open() createOutput() createInput() BufferedReader selectFolder() dataPath() createWriter() selectOutput() beginRecord() saveStream() endRecord() selectInput() saveBytes() createReader() beginRaw() endRaw() PrintWriter delay()".split(" "),v=db.length,pb,Bb;v--;)pb=db[v],Bb=
pb.replace("()",""),o[Bb]=k(pb);return K}},{}],28:[function(j,r){var h={virtEquals:j("./Helpers/virtEquals"),virtHashCode:j("./Helpers/virtHashCode"),ObjectIterator:j("./Helpers/ObjectIterator"),PConstants:j("./Helpers/PConstants"),ArrayList:j("./Objects/ArrayList"),HashMap:j("./Objects/HashMap"),PVector:j("./Objects/PVector"),PFont:j("./Objects/PFont"),Char:j("./Objects/Char"),XMLAttribute:j("./Objects/XMLAttribute"),XMLElement:j("./Objects/XMLElement"),PMatrix2D:j("./Objects/PMatrix2D"),PMatrix3D:j("./Objects/PMatrix3D"),
PShape:j("./Objects/PShape"),colors:j("./Objects/webcolors"),PShapeSVG:j("./Objects/PShapeSVG"),CommonFunctions:j("./P5Functions/commonFunctions"),defaultScope:j("./Helpers/defaultScope"),Processing:j("./Processing"),setupParser:j("./Parser/Parser"),finalize:j("./Helpers/finalizeProcessing")};h.extend={withMath:j("./P5Functions/Math.js"),withProxyFunctions:j("./P5Functions/JavaProxyFunctions")(h.virtHashCode,h.virtEquals),withTouch:j("./P5Functions/touchmouse"),withCommonFunctions:h.CommonFunctions.withCommonFunctions};
r.exports=function(b,r){var o=function(){},a=h.virtEquals,k=h.virtHashCode,g=h.PConstants,d=h.CommonFunctions,i=h.ObjectIterator,q=h.Char,ia=h.XMLAttribute(),c=h.ArrayList({virtHashCode:k,virtEquals:a}),a=h.HashMap({virtHashCode:k,virtEquals:a}),k=h.PVector({PConstants:g}),Z=h.PFont({Browser:b,noop:o}),ia=h.XMLElement({Browser:b,XMLAttribute:ia}),Va=h.PMatrix2D({p:d}),Da=h.PMatrix3D({p:d}),Va=h.PShape({PConstants:g,PMatrix2D:Va,PMatrix3D:Da}),d=h.PShapeSVG({CommonFunctions:d,PConstants:g,PShape:Va,
XMLElement:ia,colors:h.colors}),g=h.defaultScope({ArrayList:c,HashMap:a,PVector:k,PFont:Z,PShapeSVG:d,ObjectIterator:i,PConstants:g,Char:q,XMLElement:ia,XML:ia}),i=h.Processing({defaultScope:g,Browser:b,extend:h.extend,noop:o}),i=h.setupParser(i,{Browser:b,aFunctions:r,defaultScope:g});return i=h.finalize(i,{version:j("../package.json").version,isDomPresent:b.isDomPresent,window:b.window,document:b.document,noop:o})}},{"../package.json":2,"./Helpers/ObjectIterator":3,"./Helpers/PConstants":4,"./Helpers/defaultScope":6,
"./Helpers/finalizeProcessing":7,"./Helpers/virtEquals":8,"./Helpers/virtHashCode":9,"./Objects/ArrayList":10,"./Objects/Char":11,"./Objects/HashMap":12,"./Objects/PFont":13,"./Objects/PMatrix2D":14,"./Objects/PMatrix3D":15,"./Objects/PShape":16,"./Objects/PShapeSVG":17,"./Objects/PVector":18,"./Objects/XMLAttribute":19,"./Objects/XMLElement":20,"./Objects/webcolors":21,"./P5Functions/JavaProxyFunctions":22,"./P5Functions/Math.js":23,"./P5Functions/commonFunctions":24,"./P5Functions/touchmouse":25,
"./Parser/Parser":26,"./Processing":27}]},{},[1]);
YUI.add("squarespace-dynamic-data",function(j){j.namespace("Squarespace");j.Squarespace.DynamicData=function(r){function h(a){return a.replace(/\//g,"")}function b(b,d){var q=d&&j.one(Z.search+'[href\x3d"'+d+'"]')||b&&b.currentTarget||null,r=d||q&&q.getAttribute("href"),p;b&&b.preventDefault();g&&(window.location.hash=r);if(q&&!c&&h(r)!=o.getAttribute(Z.activeWrapper)||q&&c&&!o.one("["+Z.activeWrapper+"\x3d"+h(r)+"]")){o.setAttribute(Z.activeWrapper,h(r));j.all("."+Z.active).removeClass(Z.active);
q.addClass(Z.active);o.removeClass(Z.ready);o.addClass(Z.loading);d||u();"function"===typeof a&&a();c&&(p=j.Node.create("\x3cdiv\x3e\x3c/div\x3e"),p.addClass(Z.appendWrapper),p.setAttribute(Z.activeWrapper,h(r)),p.appendTo(o));var q=p?p:o,A=j.one("body"),ia=new j.Squarespace.Spinner({color:"dark",size:"large",render:A});A.addClass("index-loading");q.load(r,i,function(){ia.destroy();A.removeClass("index-loading");var a=k;Squarespace.AFTER_BODY_LOADED=!1;Squarespace.afterBodyLoad();Squarespace.initializeCommerce(j);
o.all("img[data-src]").each(function(a){a.ancestor(".sqs-layout")||ImageLoader.load(a)});j.all(".squarespace-social-buttons").empty(!0);j.Squarespace.SocialButtons&&new j.Squarespace.SocialButtons;o.all(".sqs-simple-like").each(function(a){j.Squarespace.SimpleLike.renderLikeCount(a)});o.all("script").each(function(a){var b=document.createElement("script");b.type="text/javascript";a.getAttribute("src")?b.src=a.getAttribute("src"):b.innerHTML=a.get("innerHTML");j.one("head").append(b)});"function"===
typeof a&&a();j.fire("avenue:dynamicPageReady");o.removeClass(Z.loading);o.addClass(Z.ready)})}else o.setAttribute(Z.activeWrapper,h(r)),d||u()}function u(){var a;ia&&(a=o.getXY(),a=a[1],a=new j.Anim({node:j.UA.gecko?"html":"body",to:{scroll:[0,a]},duration:0.2,easing:"easeBoth"}),a.run())}var o=r&&r.wrapper||"body",a=r&&r.preCallback||null,k=r&&r.postCallback||null,g=r&&r.useHashes||!1,d=r&&r.autoOpenHash||!1,i=r&&r.injectEl||null,q=r&&r.minimumResolution||null,ia=r&&r.scrollToWrapperPreLoad||!1,
c=r&&r.appendData||null,Z={search:r&&r.target||".sqs-dynamic-data",active:"sqs-dynamic-data-active",loading:"sqs-dynamic-data-loading",ready:"sqs-dynamic-data-ready",activeWrapper:"data-dynamic-data-link",appendWrapper:"sqs-dynamic-data-wrapper"};this.simulateHash=function(a){a&&(a=a.replace("#",""),b(null,a))};if(!q||window.innerWidth>=q)if(o=j.one(o))j.on("click",b,Z.search),r=window.location.hash,d&&r&&(r=r.replace("#",""),r=r.endsWith("/")?r:r+"/",b(null,r))}},"1.0",{requires:["node","node-load",
"event","squarespace-spinner"]});
Y.use(["node","squarespace-dynamic-data","squarespace-gallery-ng","history-hash","squarespace-util"],function(j){function r(){if(window.location.hash&&"#"!=window.location.hash){var b=window.location.hash.split("#")[1],b="/"==b.charAt(0)?b:"/"+b,b="/"==b.charAt(b.length-1)?b:b+"/",g=j.one('#projectPages .project[data-url\x3d"'+b+'"]');g&&(g.hasAttribute("data-type-protected")||!g.hasClass("page-project")&&!g.hasClass("gallery-project")?window.location.replace(b):(g.hasClass("page-project")&&!g.hasClass("sqs-dynamic-data-ready")?
a["#"+b].simulateHash(b):j.one("body").removeClass("index-loading"),j.one("#page").addClass("page-open"),j.one("body").addClass("index-page-open"),h(),j.all(".project.active-project").removeClass("active-project"),g.addClass("active-project"),j.one('#projectThumbs a.project[href\x3d"'+b+'"]').addClass("active-project"),g.next(".project")?j.one("#projectNav .next-project").removeClass("disabled"):j.one("#projectNav .next-project").addClass("disabled"),g.previous(".project")?j.one("#projectNav .prev-project").removeClass("disabled"):
j.one("#projectNav .prev-project").addClass("disabled"),g.all("img.loading").each(function(a){ImageLoader.load(a,{load:!0})}),g.all(".sqs-video-wrapper").each(function(a){a.videoloader.load()}),o()))}else j.one("#page").removeClass("page-open"),j.one("body").removeClass("index-page-open"),h(),j.all("div.active-project").removeClass("active-project")}function h(){var a=j.one("#projectPages .active-project");a&&a.one(".video-block, .code-block, .embed-block, .audio-block")&&(j.fire("audioPlayer:stopAll",
{container:a}),a.empty(!0).removeClass("sqs-dynamic-data-ready").removeAttribute("data-dynamic-data-link"));a&&a.one(".sqs-video-wrapper")&&a.all(".sqs-video-wrapper").each(function(a){!a.ancestor(".sqs-gallery")&&a.videoloader.unload()})}function b(){var a=j.all("#projectThumbs img[data-src]"),b=j.later(100,this,function(){a.some(function(a){if(a.hasClass("loading"))return!0;if(!a.getAttribute("src"))return ImageLoader.load(a,{load:!0}),!0})||b.cancel()},null,!0);j.one("window").on("resize",function(){a.each(function(a){a.inRegion(j.one(j.config.win).get("region"))&&
ImageLoader.load(a,{load:!0})})});var g,h=function(a){g&&g.destroy();if("Autocolumns"!=j.Squarespace.Template.getTweakValue("thumbnail-layout"))a&&j.all(".project").each(function(a){a.removeAttribute("style")});else{var b=function(){var a=j.one("#projectThumbs").get("clientWidth"),b=parseInt(j.Squarespace.Template.getTweakValue("TGutter"),10)/100;return{gutter:a*b,width:j.Squarespace.Template.getTweakValue("TMaxWidth")}};g=new j.Squarespace.Gallery2({container:"#projectThumbs .wrapper",design:"autocolumns",
designOptions:{mixedContent:!0,aspectRatio:!1,gutter:b().gutter,columnWidthBehavior:"min",columnWidth:b().width},element:".project",loaderOptions:{mode:"fill",load:!1},refreshOnResize:!0})}a&&j.later(500,this,function(){j.one(window).simulate("resize")})};h();j.Global.on(["tweak:change","tweak:aftershow","tweak:afterclose"],h)}function u(){j.all("#projectThumbs a.project").each(j.bind(function(b){var g=b.getAttribute("href"),h=j.one('#projectPages [data-url\x3d"'+g+'"]');if(h&&h.hasClass("page-project"))a["#"+
g]=new j.Squarespace.DynamicData({wrapper:'#projectPages [data-url\x3d"'+g+'"]',target:'a.project[href\x3d"'+g+'"]',injectEl:j.UA.ie?"#page \x3e *":"section \x3e *",autoOpenHash:!0,useHashes:!0});else b.on("click",function(a){a.halt();window.location.hash="#"+b.getAttribute("href")})},this))}function o(a){var b=j.UA.gecko||j.UA.ie?"html":"body";(new j.Anim({node:b,to:{scroll:[0,0]},duration:0.2,easing:j.Easing.easeBoth})).run().on("end",function(){0!=j.one(b).get("scrollTop")&&j.one(b).set("scrollTop",
0);a&&a()})}j.on("domready",function(){function a(){var b;j.one("#sidebar")&&(b=j.one("#sidebar").getComputedStyle("height"));b&&j.one("#page").setStyle("minHeight",b)}j.one("#topNav .subnav")&&(subnavMarginTop=parseInt(j.one("#topNav .subnav").getStyle("marginTop"),10),0<subnavMarginTop&&j.all("#topNav .subnav").setStyle("marginTop",0));j.all("#topNav .folder-collection .subnav").each(function(a){a.getDOMNode().getBoundingClientRect().right>j.config.win.innerWidth?a.setStyles({left:"auto",right:"-15px"}):
a.setStyles({left:"",right:""})});j.one(window).on("resize",void 0);var g=j.all("#mobileMenuLink a");if(g)g.on("click",function(){var a=parseInt(j.one("#mobileNavWrapper").get("offsetHeight"),10);j.one("#mobileNav").hasClass("menu-open")?((new j.Anim({node:j.one("#mobileNav"),to:{height:0},duration:0.2,easing:"easeBoth"})).run(),(new j.Anim({node:j.one("#header"),to:{top:0},duration:0.2,easing:"easeBoth"})).run()):((new j.Anim({node:j.one("#mobileNav"),to:{height:a},duration:0.2,easing:"easeBoth"})).run(),
(new j.Anim({node:j.one("#header"),to:{top:a},duration:0.2,easing:"easeBoth"})).run());j.one("#mobileNav").toggleClass("menu-open")});j.all(".folder-toggle-label").each(function(a){a.on("click",function(){j.later(200,this,function(){if(j.one("#mobileNavWrapper")){var a=j.one("#mobileNavWrapper");a.setStyle("display","none");a.get("offsetHeight");a.setStyle("display",null)}a=parseInt(a.get("offsetHeight"),10);j.one("#mobileNav").hasClass("menu-open")&&((new j.Anim({node:j.one("#mobileNav"),to:{height:a},
duration:0.2,easing:"easeBoth"})).run(),(new j.Anim({node:j.one("#header"),to:{top:a},duration:0.2,easing:"easeBoth"})).run())})})});C=j.one("body");c=parseInt(C.getComputedStyle("width"),10);j.one("body").hasClass("layout-style-center")&&j.all("#topNav .subnav").each(function(a){a.setStyle("marginLeft",-(parseInt(a.getComputedStyle("width"),10)/2)+"px")});g=j.one(".logo");C.hasClass("logo-image")&&(750>c&&g.one("img").get("offsetWidth")>g.one("img").get("offsetHeight"))&&g.addClass("landscape");
if(j.one("#projectPages")&&(b(),u(),r(),j.on("hashchange",r),j.one("#projectNav").delegate("click",function(a){var b=j.one("#projectPages .active-project").previous(".project");b?(o(),window.location.hash=b.getAttribute("data-url")):a.currentTarget.addClass("disabled")},".prev-project"),j.one("#projectNav").delegate("click",function(a){var b=j.one("#projectPages .active-project").next(".project");b?(o(),window.location.hash=b.getAttribute("data-url")):a.currentTarget.addClass("disabled")},".next-project"),
0<j.UA.ie&&9>j.UA.ie)){var h=j.Squarespace.Template.getTweakValue("TPerRow");h&&(h=parseInt(h),j.all("#projectThumbs .project").each(function(a,b){0===b%h&&a.setStyle("clear","left")}))}if(j.one("body").hasClass("collection-type-gallery"))if(750>c)j.all("img[data-src]").each(function(a,b){j.later(100*b,this,function(){ImageLoader.load(a,{load:!0})})}),j.all(".sqs-video-wrapper").each(function(a){a.plug(j.Squarespace.VideoLoader)});else{g="true"===j.Squarespace.Template.getTweakValue("gallery-auto-play")+
"";C=3E3;j.Squarespace.Template.getTweakValue("galleryPlaySpeed")&&(C=1E3*j.Squarespace.Template.getTweakValue("galleryPlaySpeed"));var k=j.one("body").get("winHeight"),c=2*parseInt(j.Squarespace.Template.getTweakValue("pagePadding"),10),Z=2*parseInt(j.Squarespace.Template.getTweakValue("outerPadding"),10)+2*parseInt(j.Squarespace.Template.getTweakValue("topPadding"),10),Va=parseInt(j.one("#footer").get("offsetHeight"),10),Da=j.one("#slideshowWrapper").getY()+c+Va+Z;500<k-Da?j.one("#slideshowWrapper").setStyle("height",
k-Da):j.one("#slideshowWrapper").setStyle("height","500px");j.one("window").on("resize",function(){k=j.one("body").get("winHeight");500<k-Da?j.one("#slideshowWrapper").setStyle("height",k-Da):j.one("#slideshowWrapper").setStyle("height","500px");B.refresh()});var B=new j.Squarespace.Gallery2({container:j.one("#slideshow"),elements:{next:".next-slide",previous:".prev-slide",controls:"#dotControls, #numberControls, #tinyThumbControls"},loop:!0,autoplay:g,autoplayOptions:{randomize:!1,timeout:C,pauseOnMouseover:[]},
design:"stacked",designOptions:{autoHeight:!1,preloadCount:Modernizr.touch?0:1},lazyLoad:!0,loaderOptions:{mode:"fit",load:!1},historyHash:!0});Modernizr.touch||j.all("#tinyThumbControls img").each(function(a){a.removeAttribute("data-load");ImageLoader.load(a)})}var C,c;a();if(j.Squarespace.Management)j.Squarespace.Management.on("tweak",function(b){"blogSidebarWidth"==b.getName()&&a()});(g=j.one("#footer a[href\x3dhttp://www.squarespace.com]"))&&g.set("href","http://www.squarespace.com?channel\x3dword_of_mouth\x26subchannel\x3dcustomer\x26source\x3dfooter\x26campaign\x3d"+
Static.SQUARESPACE_CONTEXT.website.id)});var a={},k=function(){j.all("#projectThumbs img[data-src]").each(function(a){ImageLoader.load(a,{load:!0})})},g;j.one("window").on("resize",function(){g&&g.cancel();g=j.later(250,this,k)})});
